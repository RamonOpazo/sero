var nx=n=>{throw TypeError(n)};var sg=(n,e,t)=>e.has(n)||nx("Cannot "+t);var Rt=(n,e,t)=>(sg(n,e,"read from private field"),t?t.call(n):e.get(n)),Qs=(n,e,t)=>e.has(n)?nx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),zn=(n,e,t,s)=>(sg(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),Js=(n,e,t)=>(sg(n,e,"access private method"),t);var sx=(n,e,t,s)=>({set _(i){zn(n,e,i,t)},get _(){return Rt(n,e,s)}});function sD(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Im(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ig={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix;function iD(){if(ix)return Fl;ix=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:s,key:l,ref:i!==void 0?i:null,props:a}}return Fl.Fragment=e,Fl.jsx=t,Fl.jsxs=t,Fl}var rx;function rD(){return rx||(rx=1,ig.exports=iD()),ig.exports}var y=rD(),rg={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function aD(){if(ax)return Ye;ax=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(P){return P===null||typeof P!="object"?null:(P=g&&P[g]||P["@@iterator"],typeof P=="function"?P:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function A(P,G,se){this.props=P,this.context=G,this.refs=x,this.updater=se||b}A.prototype.isReactComponent={},A.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},A.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=A.prototype;function C(P,G,se){this.props=P,this.context=G,this.refs=x,this.updater=se||b}var T=C.prototype=new E;T.constructor=C,S(T,A.prototype),T.isPureReactComponent=!0;var D=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function L(P,G,se,V,re,ge){return se=ge.ref,{$$typeof:n,type:P,key:G,ref:se!==void 0?se:null,props:ge}}function I(P,G){return L(P.type,G,void 0,void 0,void 0,P.props)}function j(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function U(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(se){return G[se]})}var $=/\/+/g;function K(P,G){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):G.toString(36)}function Z(){}function ce(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Z,Z):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ae(P,G,se,V,re){var ge=typeof P;(ge==="undefined"||ge==="boolean")&&(P=null);var ee=!1;if(P===null)ee=!0;else switch(ge){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(P.$$typeof){case n:case e:ee=!0;break;case p:return ee=P._init,ae(ee(P._payload),G,se,V,re)}}if(ee)return re=re(P),ee=V===""?"."+K(P,0):V,D(re)?(se="",ee!=null&&(se=ee.replace($,"$&/")+"/"),ae(re,G,se,"",function(we){return we})):re!=null&&(j(re)&&(re=I(re,se+(re.key==null||P&&P.key===re.key?"":(""+re.key).replace($,"$&/")+"/")+ee)),G.push(re)),1;ee=0;var ue=V===""?".":V+":";if(D(P))for(var be=0;be<P.length;be++)V=P[be],ge=ue+K(V,be),ee+=ae(V,G,se,ge,re);else if(be=m(P),typeof be=="function")for(P=be.call(P),be=0;!(V=P.next()).done;)V=V.value,ge=ue+K(V,be++),ee+=ae(V,G,se,ge,re);else if(ge==="object"){if(typeof P.then=="function")return ae(ce(P),G,se,V,re);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ee}function N(P,G,se){if(P==null)return P;var V=[],re=0;return ae(P,V,"","",function(ge){return G.call(se,ge,re++)}),V}function B(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(se){(P._status===0||P._status===-1)&&(P._status=1,P._result=se)},function(se){(P._status===0||P._status===-1)&&(P._status=2,P._result=se)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var q=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Y(){}return Ye.Children={map:N,forEach:function(P,G,se){N(P,function(){G.apply(this,arguments)},se)},count:function(P){var G=0;return N(P,function(){G++}),G},toArray:function(P){return N(P,function(G){return G})||[]},only:function(P){if(!j(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ye.Component=A,Ye.Fragment=t,Ye.Profiler=i,Ye.PureComponent=C,Ye.StrictMode=s,Ye.Suspense=d,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(P){return M.H.useMemoCache(P)}},Ye.cache=function(P){return function(){return P.apply(null,arguments)}},Ye.cloneElement=function(P,G,se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var V=S({},P.props),re=P.key,ge=void 0;if(G!=null)for(ee in G.ref!==void 0&&(ge=void 0),G.key!==void 0&&(re=""+G.key),G)!O.call(G,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&G.ref===void 0||(V[ee]=G[ee]);var ee=arguments.length-2;if(ee===1)V.children=se;else if(1<ee){for(var ue=Array(ee),be=0;be<ee;be++)ue[be]=arguments[be+2];V.children=ue}return L(P.type,re,void 0,void 0,ge,V)},Ye.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},Ye.createElement=function(P,G,se){var V,re={},ge=null;if(G!=null)for(V in G.key!==void 0&&(ge=""+G.key),G)O.call(G,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(re[V]=G[V]);var ee=arguments.length-2;if(ee===1)re.children=se;else if(1<ee){for(var ue=Array(ee),be=0;be<ee;be++)ue[be]=arguments[be+2];re.children=ue}if(P&&P.defaultProps)for(V in ee=P.defaultProps,ee)re[V]===void 0&&(re[V]=ee[V]);return L(P,ge,void 0,void 0,null,re)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(P){return{$$typeof:u,render:P}},Ye.isValidElement=j,Ye.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:B}},Ye.memo=function(P,G){return{$$typeof:f,type:P,compare:G===void 0?null:G}},Ye.startTransition=function(P){var G=M.T,se={};M.T=se;try{var V=P(),re=M.S;re!==null&&re(se,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Y,q)}catch(ge){q(ge)}finally{M.T=G}},Ye.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ye.use=function(P){return M.H.use(P)},Ye.useActionState=function(P,G,se){return M.H.useActionState(P,G,se)},Ye.useCallback=function(P,G){return M.H.useCallback(P,G)},Ye.useContext=function(P){return M.H.useContext(P)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(P,G){return M.H.useDeferredValue(P,G)},Ye.useEffect=function(P,G,se){var V=M.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(P,G)},Ye.useId=function(){return M.H.useId()},Ye.useImperativeHandle=function(P,G,se){return M.H.useImperativeHandle(P,G,se)},Ye.useInsertionEffect=function(P,G){return M.H.useInsertionEffect(P,G)},Ye.useLayoutEffect=function(P,G){return M.H.useLayoutEffect(P,G)},Ye.useMemo=function(P,G){return M.H.useMemo(P,G)},Ye.useOptimistic=function(P,G){return M.H.useOptimistic(P,G)},Ye.useReducer=function(P,G,se){return M.H.useReducer(P,G,se)},Ye.useRef=function(P){return M.H.useRef(P)},Ye.useState=function(P){return M.H.useState(P)},Ye.useSyncExternalStore=function(P,G,se){return M.H.useSyncExternalStore(P,G,se)},Ye.useTransition=function(){return M.H.useTransition()},Ye.version="19.1.0",Ye}var ox;function rh(){return ox||(ox=1,rg.exports=aD()),rg.exports}var _=rh();const oe=Im(_),D_=sD({__proto__:null,default:oe},[_]);var ag={exports:{}},zl={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function oD(){return lx||(lx=1,function(n){function e(N,B){var q=N.length;N.push(B);e:for(;0<q;){var Y=q-1>>>1,P=N[Y];if(0<i(P,B))N[Y]=B,N[q]=P,q=Y;else break e}}function t(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var B=N[0],q=N.pop();if(q!==B){N[0]=q;e:for(var Y=0,P=N.length,G=P>>>1;Y<G;){var se=2*(Y+1)-1,V=N[se],re=se+1,ge=N[re];if(0>i(V,q))re<P&&0>i(ge,V)?(N[Y]=ge,N[re]=q,Y=re):(N[Y]=V,N[se]=q,Y=se);else if(re<P&&0>i(ge,q))N[Y]=ge,N[re]=q,Y=re;else break e}}return B}function i(N,B){var q=N.sortIndex-B.sortIndex;return q!==0?q:N.id-B.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,m=3,b=!1,S=!1,x=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(N){for(var B=t(f);B!==null;){if(B.callback===null)s(f);else if(B.startTime<=N)s(f),B.sortIndex=B.expirationTime,e(d,B);else break;B=t(f)}}function M(N){if(x=!1,D(N),!S)if(t(d)!==null)S=!0,O||(O=!0,K());else{var B=t(f);B!==null&&ae(M,B.startTime-N)}}var O=!1,L=-1,I=5,j=-1;function U(){return A?!0:!(n.unstable_now()-j<I)}function $(){if(A=!1,O){var N=n.unstable_now();j=N;var B=!0;try{e:{S=!1,x&&(x=!1,C(L),L=-1),b=!0;var q=m;try{t:{for(D(N),g=t(d);g!==null&&!(g.expirationTime>N&&U());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,m=g.priorityLevel;var P=Y(g.expirationTime<=N);if(N=n.unstable_now(),typeof P=="function"){g.callback=P,D(N),B=!0;break t}g===t(d)&&s(d),D(N)}else s(d);g=t(d)}if(g!==null)B=!0;else{var G=t(f);G!==null&&ae(M,G.startTime-N),B=!1}}break e}finally{g=null,m=q,b=!1}B=void 0}}finally{B?K():O=!1}}}var K;if(typeof T=="function")K=function(){T($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=$,K=function(){ce.postMessage(null)}}else K=function(){E($,0)};function ae(N,B){L=E(function(){N(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(N){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var q=m;m=B;try{return N()}finally{m=q}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=m;m=N;try{return B()}finally{m=q}},n.unstable_scheduleCallback=function(N,B,q){var Y=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,N){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=q+P,N={id:p++,callback:B,priorityLevel:N,startTime:q,expirationTime:P,sortIndex:-1},q>Y?(N.sortIndex=q,e(f,N),t(d)===null&&N===t(f)&&(x?(C(L),L=-1):x=!0,ae(M,q-Y))):(N.sortIndex=P,e(d,N),S||b||(S=!0,O||(O=!0,K()))),N},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(N){var B=m;return function(){var q=m;m=B;try{return N.apply(this,arguments)}finally{m=q}}}}(lg)),lg}var cx;function lD(){return cx||(cx=1,og.exports=oD()),og.exports}var cg={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function cD(){if(ux)return An;ux=1;var n=rh();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,An.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},An.flushSync=function(d){var f=l.T,p=s.p;try{if(l.T=null,s.p=2,d)return d()}finally{l.T=f,s.p=p,s.d.f()}},An.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},An.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},An.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:b}):p==="script"&&s.d.X(d,{crossOrigin:g,integrity:m,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},An.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);s.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},An.requestFormReset=function(d){s.d.r(d)},An.unstable_batchedUpdates=function(d,f){return d(f)},An.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},An.useFormStatus=function(){return l.H.useHostTransitionStatus()},An.version="19.1.0",An}var dx;function k_(){if(dx)return cg.exports;dx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cg.exports=cD(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function uD(){if(hx)return zl;hx=1;var n=lD(),e=rh(),t=k_();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(a(r)!==r)throw Error(s(188))}function d(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var c=r,h=o;;){var v=c.return;if(v===null)break;var w=v.alternate;if(w===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===c)return u(v),r;if(w===h)return u(v),o;w=w.sibling}throw Error(s(188))}if(c.return!==h.return)c=v,h=w;else{for(var R=!1,k=v.child;k;){if(k===c){R=!0,c=v,h=w;break}if(k===h){R=!0,h=v,c=w;break}k=k.sibling}if(!R){for(k=w.child;k;){if(k===c){R=!0,c=w,h=v;break}if(k===h){R=!0,h=w,c=v;break}k=k.sibling}if(!R)throw Error(s(189))}}if(c.alternate!==h)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?r:o}function f(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=f(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var Z=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case A:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case j:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case T:return(r.displayName||"Context")+".Provider";case C:return(r._context.displayName||"Context")+".Consumer";case D:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return o=r.displayName||null,o!==null?o:ce(r.type)||"Memo";case I:o=r._payload,r=r._init;try{return ce(r(o))}catch{}}return null}var ae=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Y=[],P=-1;function G(r){return{current:r}}function se(r){0>P||(r.current=Y[P],Y[P]=null,P--)}function V(r,o){P++,Y[P]=r.current,r.current=o}var re=G(null),ge=G(null),ee=G(null),ue=G(null);function be(r,o){switch(V(ee,o),V(ge,r),V(re,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?Dw(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=Dw(o),r=kw(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(re),V(re,r)}function we(){se(re),se(ge),se(ee)}function De(r){r.memoizedState!==null&&V(ue,r);var o=re.current,c=kw(o,r.type);o!==c&&(V(ge,r),V(re,c))}function $e(r){ge.current===r&&(se(re),se(ge)),ue.current===r&&(se(ue),Pl._currentValue=q)}var xt=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,Et=n.unstable_shouldYield,ht=n.unstable_requestPaint,bt=n.unstable_now,os=n.unstable_getCurrentPriorityLevel,It=n.unstable_ImmediatePriority,z=n.unstable_UserBlockingPriority,Q=n.unstable_NormalPriority,ie=n.unstable_LowPriority,ve=n.unstable_IdlePriority,me=n.log,pe=n.unstable_setDisableYieldValue,xe=null,ke=null;function qe(r){if(typeof me=="function"&&pe(r),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(xe,r)}catch{}}var st=Math.clz32?Math.clz32:Vs,mn=Math.log,Gn=Math.LN2;function Vs(r){return r>>>=0,r===0?32:31-(mn(r)/Gn|0)|0}var Us=256,Gs=4194304;function ls(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function qs(r,o,c){var h=r.pendingLanes;if(h===0)return 0;var v=0,w=r.suspendedLanes,R=r.pingedLanes;r=r.warmLanes;var k=h&134217727;return k!==0?(h=k&~w,h!==0?v=ls(h):(R&=k,R!==0?v=ls(R):c||(c=k&~r,c!==0&&(v=ls(c))))):(k=h&~w,k!==0?v=ls(k):R!==0?v=ls(R):c||(c=h&~r,c!==0&&(v=ls(c)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:v}function bi(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Yi(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(){var r=Us;return Us<<=1,(Us&4194048)===0&&(Us=256),r}function Xc(){var r=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),r}function Vo(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function Xi(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zc(r,o,c,h,v,w){var R=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var k=r.entanglements,F=r.expirationTimes,J=r.hiddenUpdates;for(c=R&~c;0<c;){var le=31-st(c),he=1<<le;k[le]=0,F[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var ne=te[le];ne!==null&&(ne.lane&=-536870913)}c&=~he}h!==0&&Ve(r,h,0),w!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=w&~(R&~o))}function Ve(r,o,c){r.pendingLanes|=o,r.suspendedLanes&=~o;var h=31-st(o);r.entangledLanes|=o,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Ft(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var h=31-st(c),v=1<<h;v&o|r[h]&o&&(r[h]|=o),c&=~v}}function Zt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function vn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function kr(){var r=B.p;return r!==0?r:(r=window.event,r===void 0?32:Ww(r.type))}function nn(r,o){var c=B.p;try{return B.p=r,o()}finally{B.p=c}}var zt=Math.random().toString(36).slice(2),$t="__reactFiber$"+zt,St="__reactProps$"+zt,cn="__reactContainer$"+zt,Sa="__reactEvents$"+zt,yi="__reactListeners$"+zt,vb="__reactHandles$"+zt,bb="__reactResources$"+zt,Uo="__reactMarker$"+zt;function Zh(r){delete r[$t],delete r[St],delete r[Sa],delete r[yi],delete r[vb]}function _a(r){var o=r[$t];if(o)return o;for(var c=r.parentNode;c;){if(o=c[cn]||c[$t]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=Lw(r);r!==null;){if(c=r[$t])return c;r=Lw(r)}return o}r=c,c=r.parentNode}return null}function Aa(r){if(r=r[$t]||r[cn]){var o=r.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return r}return null}function Go(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Ea(r){var o=r[bb];return o||(o=r[bb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function un(r){r[Uo]=!0}var yb=new Set,wb={};function Nr(r,o){Ca(r,o),Ca(r+"Capture",o)}function Ca(r,o){for(wb[r]=o,r=0;r<o.length;r++)yb.add(o[r])}var ZR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xb={},Sb={};function WR(r){return xt.call(Sb,r)?!0:xt.call(xb,r)?!1:ZR.test(r)?Sb[r]=!0:(xb[r]=!0,!1)}function Wc(r,o,c){if(WR(o))if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+c)}}function Kc(r,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+c)}}function wi(r,o,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(o,c,""+h)}}var Wh,_b;function Ra(r){if(Wh===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Wh=o&&o[1]||"",_b=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wh+r+_b}var Kh=!1;function Qh(r,o){if(!r||Kh)return"";Kh=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var te=ne}Reflect.construct(r,[],he)}else{try{he.call()}catch(ne){te=ne}r.call(he.prototype)}}else{try{throw Error()}catch(ne){te=ne}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),R=w[0],k=w[1];if(R&&k){var F=R.split(`
`),J=k.split(`
`);for(v=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===F.length||v===J.length)for(h=F.length-1,v=J.length-1;1<=h&&0<=v&&F[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if(F[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||F[h]!==J[v]){var le=`
`+F[h].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=h&&0<=v);break}}}finally{Kh=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Ra(c):""}function KR(r){switch(r.tag){case 26:case 27:case 5:return Ra(r.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 15:return Qh(r.type,!1);case 11:return Qh(r.type.render,!1);case 1:return Qh(r.type,!0);case 31:return Ra("Activity");default:return""}}function Ab(r){try{var o="";do o+=KR(r),r=r.return;while(r);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function cs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Eb(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function QR(r){var o=Eb(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),h=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,w=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return v.call(this)},set:function(R){h=""+R,w.call(this,R)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Qc(r){r._valueTracker||(r._valueTracker=QR(r))}function Cb(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return r&&(h=Eb(r)?r.checked?"true":"false":r.value),r=h,r!==c?(o.setValue(r),!0):!1}function Jc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var JR=/[\n"\\]/g;function us(r){return r.replace(JR,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Jh(r,o,c,h,v,w,R,k){r.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.type=R:r.removeAttribute("type"),o!=null?R==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+cs(o)):r.value!==""+cs(o)&&(r.value=""+cs(o)):R!=="submit"&&R!=="reset"||r.removeAttribute("value"),o!=null?ef(r,R,cs(o)):c!=null?ef(r,R,cs(c)):h!=null&&r.removeAttribute("value"),v==null&&w!=null&&(r.defaultChecked=!!w),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+cs(k):r.removeAttribute("name")}function Rb(r,o,c,h,v,w,R,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;c=c!=null?""+cs(c):"",o=o!=null?""+cs(o):c,k||o===r.value||(r.value=o),r.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=k?r.checked:!!h,r.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(r.name=R)}function ef(r,o,c){o==="number"&&Jc(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Ta(r,o,c,h){if(r=r.options,o){o={};for(var v=0;v<c.length;v++)o["$"+c[v]]=!0;for(c=0;c<r.length;c++)v=o.hasOwnProperty("$"+r[c].value),r[c].selected!==v&&(r[c].selected=v),v&&h&&(r[c].defaultSelected=!0)}else{for(c=""+cs(c),o=null,v=0;v<r.length;v++){if(r[v].value===c){r[v].selected=!0,h&&(r[v].defaultSelected=!0);return}o!==null||r[v].disabled||(o=r[v])}o!==null&&(o.selected=!0)}}function Tb(r,o,c){if(o!=null&&(o=""+cs(o),o!==r.value&&(r.value=o),c==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=c!=null?""+cs(c):""}function Mb(r,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(s(92));if(ae(h)){if(1<h.length)throw Error(s(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=cs(o),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function Ma(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var eT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Db(r,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":h?r.setProperty(o,c):typeof c!="number"||c===0||eT.has(o)?o==="float"?r.cssFloat=c:r[o]=(""+c).trim():r[o]=c+"px"}function kb(r,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&c[v]!==h&&Db(r,v,h)}else for(var w in o)o.hasOwnProperty(w)&&Db(r,w,o[w])}function tf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eu(r){return nT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var nf=null;function sf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Da=null,ka=null;function Nb(r){var o=Aa(r);if(o&&(r=o.stateNode)){var c=r[St]||null;e:switch(r=o.stateNode,o.type){case"input":if(Jh(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+us(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==r&&h.form===r.form){var v=h[St]||null;if(!v)throw Error(s(90));Jh(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===r.form&&Cb(h)}break e;case"textarea":Tb(r,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Ta(r,!!c.multiple,o,!1)}}}var rf=!1;function Pb(r,o,c){if(rf)return r(o,c);rf=!0;try{var h=r(o);return h}finally{if(rf=!1,(Da!==null||ka!==null)&&(zu(),Da&&(o=Da,r=ka,ka=Da=null,Nb(o),r)))for(o=0;o<r.length;o++)Nb(r[o])}}function qo(r,o){var c=r.stateNode;if(c===null)return null;var h=c[St]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=!1;if(xi)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){af=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{af=!1}var Zi=null,of=null,tu=null;function Ob(){if(tu)return tu;var r,o=of,c=o.length,h,v="value"in Zi?Zi.value:Zi.textContent,w=v.length;for(r=0;r<c&&o[r]===v[r];r++);var R=c-r;for(h=1;h<=R&&o[c-h]===v[w-h];h++);return tu=v.slice(r,1<h?1-h:void 0)}function nu(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function su(){return!0}function Lb(){return!1}function Ln(r){function o(c,h,v,w,R){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(c=r[k],this[k]=c?c(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?su:Lb,this.isPropagationStopped=Lb,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),o}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=Ln(Pr),Xo=p({},Pr,{view:0,detail:0}),sT=Ln(Xo),lf,cf,Zo,ru=p({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zo&&(Zo&&r.type==="mousemove"?(lf=r.screenX-Zo.screenX,cf=r.screenY-Zo.screenY):cf=lf=0,Zo=r),lf)},movementY:function(r){return"movementY"in r?r.movementY:cf}}),jb=Ln(ru),iT=p({},ru,{dataTransfer:0}),rT=Ln(iT),aT=p({},Xo,{relatedTarget:0}),uf=Ln(aT),oT=p({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),lT=Ln(oT),cT=p({},Pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uT=Ln(cT),dT=p({},Pr,{data:0}),Ib=Ln(dT),hT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gT(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=pT[r])?!!o[r]:!1}function df(){return gT}var mT=p({},Xo,{key:function(r){if(r.key){var o=hT[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=nu(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?fT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(r){return r.type==="keypress"?nu(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nu(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),vT=Ln(mT),bT=p({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fb=Ln(bT),yT=p({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),wT=Ln(yT),xT=p({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ST=Ln(xT),_T=p({},ru,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),AT=Ln(_T),ET=p({},Pr,{newState:0,oldState:0}),CT=Ln(ET),RT=[9,13,27,32],hf=xi&&"CompositionEvent"in window,Wo=null;xi&&"documentMode"in document&&(Wo=document.documentMode);var TT=xi&&"TextEvent"in window&&!Wo,zb=xi&&(!hf||Wo&&8<Wo&&11>=Wo),$b=" ",Bb=!1;function Hb(r,o){switch(r){case"keyup":return RT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Na=!1;function MT(r,o){switch(r){case"compositionend":return Vb(o);case"keypress":return o.which!==32?null:(Bb=!0,$b);case"textInput":return r=o.data,r===$b&&Bb?null:r;default:return null}}function DT(r,o){if(Na)return r==="compositionend"||!hf&&Hb(r,o)?(r=Ob(),tu=of=Zi=null,Na=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return zb&&o.locale!=="ko"?null:o.data;default:return null}}var kT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!kT[r.type]:o==="textarea"}function Gb(r,o,c,h){Da?ka?ka.push(h):ka=[h]:Da=h,o=Gu(o,"onChange"),0<o.length&&(c=new iu("onChange","change",null,c,h),r.push({event:c,listeners:o}))}var Ko=null,Qo=null;function NT(r){Ew(r,0)}function au(r){var o=Go(r);if(Cb(o))return r}function qb(r,o){if(r==="change")return o}var Yb=!1;if(xi){var ff;if(xi){var pf="oninput"in document;if(!pf){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),pf=typeof Xb.oninput=="function"}ff=pf}else ff=!1;Yb=ff&&(!document.documentMode||9<document.documentMode)}function Zb(){Ko&&(Ko.detachEvent("onpropertychange",Wb),Qo=Ko=null)}function Wb(r){if(r.propertyName==="value"&&au(Qo)){var o=[];Gb(o,Qo,r,sf(r)),Pb(NT,o)}}function PT(r,o,c){r==="focusin"?(Zb(),Ko=o,Qo=c,Ko.attachEvent("onpropertychange",Wb)):r==="focusout"&&Zb()}function OT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return au(Qo)}function LT(r,o){if(r==="click")return au(o)}function jT(r,o){if(r==="input"||r==="change")return au(o)}function IT(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var qn=typeof Object.is=="function"?Object.is:IT;function Jo(r,o){if(qn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!xt.call(o,v)||!qn(r[v],o[v]))return!1}return!0}function Kb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qb(r,o){var c=Kb(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=o&&h>=o)return{node:c,offset:o-r};r=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Kb(c)}}function Jb(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Jb(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function ey(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Jc(r.document);o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=Jc(r.document)}return o}function gf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var FT=xi&&"documentMode"in document&&11>=document.documentMode,Pa=null,mf=null,el=null,vf=!1;function ty(r,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vf||Pa==null||Pa!==Jc(h)||(h=Pa,"selectionStart"in h&&gf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),el&&Jo(el,h)||(el=h,h=Gu(mf,"onSelect"),0<h.length&&(o=new iu("onSelect","select",null,o,c),r.push({event:o,listeners:h}),o.target=Pa)))}function Or(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var Oa={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},bf={},ny={};xi&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Lr(r){if(bf[r])return bf[r];if(!Oa[r])return r;var o=Oa[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in ny)return bf[r]=o[c];return r}var sy=Lr("animationend"),iy=Lr("animationiteration"),ry=Lr("animationstart"),zT=Lr("transitionrun"),$T=Lr("transitionstart"),BT=Lr("transitioncancel"),ay=Lr("transitionend"),oy=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Ms(r,o){oy.set(r,o),Nr(o,[r])}var ly=new WeakMap;function ds(r,o){if(typeof r=="object"&&r!==null){var c=ly.get(r);return c!==void 0?c:(o={value:r,source:o,stack:Ab(o)},ly.set(r,o),o)}return{value:r,source:o,stack:Ab(o)}}var hs=[],La=0,wf=0;function ou(){for(var r=La,o=wf=La=0;o<r;){var c=hs[o];hs[o++]=null;var h=hs[o];hs[o++]=null;var v=hs[o];hs[o++]=null;var w=hs[o];if(hs[o++]=null,h!==null&&v!==null){var R=h.pending;R===null?v.next=v:(v.next=R.next,R.next=v),h.pending=v}w!==0&&cy(c,v,w)}}function lu(r,o,c,h){hs[La++]=r,hs[La++]=o,hs[La++]=c,hs[La++]=h,wf|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function xf(r,o,c,h){return lu(r,o,c,h),cu(r)}function ja(r,o){return lu(r,null,null,o),cu(r)}function cy(r,o,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var v=!1,w=r.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(v=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,v&&o!==null&&(v=31-st(c),r=w.hiddenUpdates,h=r[v],h===null?r[v]=[o]:h.push(o),o.lane=c|536870912),w):null}function cu(r){if(50<El)throw El=0,Rp=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ia={};function HT(r,o,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,o,c,h){return new HT(r,o,c,h)}function Sf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Si(r,o){var c=r.alternate;return c===null?(c=Yn(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function uy(r,o){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,o=c.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function uu(r,o,c,h,v,w){var R=0;if(h=r,typeof r=="function")Sf(r)&&(R=1);else if(typeof r=="string")R=UM(r,c,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case j:return r=Yn(31,c,o,v),r.elementType=j,r.lanes=w,r;case S:return jr(c.children,v,w,o);case x:R=8,v|=24;break;case A:return r=Yn(12,c,o,v|2),r.elementType=A,r.lanes=w,r;case M:return r=Yn(13,c,o,v),r.elementType=M,r.lanes=w,r;case O:return r=Yn(19,c,o,v),r.elementType=O,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case E:case T:R=10;break e;case C:R=9;break e;case D:R=11;break e;case L:R=14;break e;case I:R=16,h=null;break e}R=29,c=Error(s(130,r===null?"null":typeof r,"")),h=null}return o=Yn(R,c,o,v),o.elementType=r,o.type=h,o.lanes=w,o}function jr(r,o,c,h){return r=Yn(7,r,h,o),r.lanes=c,r}function _f(r,o,c){return r=Yn(6,r,null,o),r.lanes=c,r}function Af(r,o,c){return o=Yn(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Fa=[],za=0,du=null,hu=0,fs=[],ps=0,Ir=null,_i=1,Ai="";function Fr(r,o){Fa[za++]=hu,Fa[za++]=du,du=r,hu=o}function dy(r,o,c){fs[ps++]=_i,fs[ps++]=Ai,fs[ps++]=Ir,Ir=r;var h=_i;r=Ai;var v=32-st(h)-1;h&=~(1<<v),c+=1;var w=32-st(o)+v;if(30<w){var R=v-v%5;w=(h&(1<<R)-1).toString(32),h>>=R,v-=R,_i=1<<32-st(o)+v|c<<v|h,Ai=w+r}else _i=1<<w|c<<v|h,Ai=r}function Ef(r){r.return!==null&&(Fr(r,1),dy(r,1,0))}function Cf(r){for(;r===du;)du=Fa[--za],Fa[za]=null,hu=Fa[--za],Fa[za]=null;for(;r===Ir;)Ir=fs[--ps],fs[ps]=null,Ai=fs[--ps],fs[ps]=null,_i=fs[--ps],fs[ps]=null}var Dn=null,Ot=null,at=!1,zr=null,Ys=!1,Rf=Error(s(519));function $r(r){var o=Error(s(418,""));throw sl(ds(o,r)),Rf}function hy(r){var o=r.stateNode,c=r.type,h=r.memoizedProps;switch(o[$t]=r,o[St]=h,c){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(c=0;c<Rl.length;c++)et(Rl[c],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),Rb(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Qc(o);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Mb(o,h.value,h.defaultValue,h.children),Qc(o)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Mw(o.textContent,c)?(h.popover!=null&&(et("beforetoggle",o),et("toggle",o)),h.onScroll!=null&&et("scroll",o),h.onScrollEnd!=null&&et("scrollend",o),h.onClick!=null&&(o.onclick=qu),o=!0):o=!1,o||$r(r)}function fy(r){for(Dn=r.return;Dn;)switch(Dn.tag){case 5:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:Dn=Dn.return}}function tl(r){if(r!==Dn)return!1;if(!at)return fy(r),at=!0,!1;var o=r.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||Vp(r.type,r.memoizedProps)),c=!c),c&&Ot&&$r(r),fy(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(o===0){Ot=ks(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;r=r.nextSibling}Ot=null}}else o===27?(o=Ot,dr(r.type)?(r=Yp,Yp=null,Ot=r):Ot=o):Ot=Dn?ks(r.stateNode.nextSibling):null;return!0}function nl(){Ot=Dn=null,at=!1}function py(){var r=zr;return r!==null&&(Fn===null?Fn=r:Fn.push.apply(Fn,r),zr=null),r}function sl(r){zr===null?zr=[r]:zr.push(r)}var Tf=G(null),Br=null,Ei=null;function Wi(r,o,c){V(Tf,o._currentValue),o._currentValue=c}function Ci(r){r._currentValue=Tf.current,se(Tf)}function Mf(r,o,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===c)break;r=r.return}}function Df(r,o,c,h){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var w=v.dependencies;if(w!==null){var R=v.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=v;for(var F=0;F<o.length;F++)if(k.context===o[F]){w.lanes|=c,k=w.alternate,k!==null&&(k.lanes|=c),Mf(w.return,c,r),h||(R=null);break e}w=k.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(s(341));R.lanes|=c,w=R.alternate,w!==null&&(w.lanes|=c),Mf(R,c,r),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===r){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function il(r,o,c,h){r=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var k=v.type;qn(v.pendingProps.value,R.value)||(r!==null?r.push(k):r=[k])}}else if(v===ue.current){if(R=v.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Pl):r=[Pl])}v=v.return}r!==null&&Df(o,r,c,h),o.flags|=262144}function fu(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Hr(r){Br=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return gy(Br,r)}function pu(r,o){return Br===null&&Hr(r),gy(r,o)}function gy(r,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Ei===null){if(r===null)throw Error(s(308));Ei=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ei=Ei.next=o;return c}var VT=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){o.aborted=!0,r.forEach(function(c){return c()})}},UT=n.unstable_scheduleCallback,GT=n.unstable_NormalPriority,sn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new VT,data:new Map,refCount:0}}function rl(r){r.refCount--,r.refCount===0&&UT(GT,function(){r.controller.abort()})}var al=null,Nf=0,$a=0,Ba=null;function qT(r,o){if(al===null){var c=al=[];Nf=0,$a=Op(),Ba={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Nf++,o.then(my,my),o}function my(){if(--Nf===0&&al!==null){Ba!==null&&(Ba.status="fulfilled");var r=al;al=null,$a=0,Ba=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function YT(r,o){var c=[],h={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return r.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<c.length;v++)(0,c[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),h}var vy=N.S;N.S=function(r,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&qT(r,o),vy!==null&&vy(r,o)};var Vr=G(null);function Pf(){var r=Vr.current;return r!==null?r:_t.pooledCache}function gu(r,o){o===null?V(Vr,Vr.current):V(Vr,o.pool)}function by(){var r=Pf();return r===null?null:{parent:sn._currentValue,pool:r}}var ol=Error(s(460)),yy=Error(s(474)),mu=Error(s(542)),Of={then:function(){}};function wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function vu(){}function xy(r,o,c){switch(c=r[c],c===void 0?r.push(o):c!==o&&(o.then(vu,vu),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,_y(r),r;default:if(typeof o.status=="string")o.then(vu,vu);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,_y(r),r}throw ll=o,ol}}var ll=null;function Sy(){if(ll===null)throw Error(s(459));var r=ll;return ll=null,r}function _y(r){if(r===ol||r===mu)throw Error(s(483))}var Ki=!1;function Lf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Qi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ji(r,o,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=cu(r),cy(r,null,c),o}return lu(r,h,o,c),cu(r)}function cl(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=r.pendingLanes,c|=h,o.lanes=c,Ft(r,c)}}function If(r,o){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?v=w=R:w=w.next=R,c=c.next}while(c!==null);w===null?v=w=o:w=w.next=o}else v=w=o;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}var Ff=!1;function ul(){if(Ff){var r=Ba;if(r!==null)throw r}}function dl(r,o,c,h){Ff=!1;var v=r.updateQueue;Ki=!1;var w=v.firstBaseUpdate,R=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var F=k,J=F.next;F.next=null,R===null?w=J:R.next=J,R=F;var le=r.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==R&&(k===null?le.firstBaseUpdate=J:k.next=J,le.lastBaseUpdate=F))}if(w!==null){var he=v.baseState;R=0,le=J=F=null,k=w;do{var te=k.lane&-536870913,ne=te!==k.lane;if(ne?(it&te)===te:(h&te)===te){te!==0&&te===$a&&(Ff=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ze=r,Oe=k;te=o;var gt=c;switch(Oe.tag){case 1:if(ze=Oe.payload,typeof ze=="function"){he=ze.call(gt,he,te);break e}he=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Oe.payload,te=typeof ze=="function"?ze.call(gt,he,te):ze,te==null)break e;he=p({},he,te);break e;case 2:Ki=!0}}te=k.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(J=le=ne,F=he):le=le.next=ne,R|=te;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);le===null&&(F=he),v.baseState=F,v.firstBaseUpdate=J,v.lastBaseUpdate=le,w===null&&(v.shared.lanes=0),or|=R,r.lanes=R,r.memoizedState=he}}function Ay(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function Ey(r,o){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)Ay(c[r],o)}var Ha=G(null),bu=G(0);function Cy(r,o){r=Pi,V(bu,r),V(Ha,o),Pi=r|o.baseLanes}function zf(){V(bu,Pi),V(Ha,Ha.current)}function $f(){Pi=bu.current,se(Ha),se(bu)}var er=0,Xe=null,ft=null,Wt=null,yu=!1,Va=!1,Ur=!1,wu=0,hl=0,Ua=null,XT=0;function Bt(){throw Error(s(321))}function Bf(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!qn(r[c],o[c]))return!1;return!0}function Hf(r,o,c,h,v,w){return er=w,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,N.H=r===null||r.memoizedState===null?c0:u0,Ur=!1,w=c(h,v),Ur=!1,Va&&(w=Ty(o,c,h,v)),Ry(r),w}function Ry(r){N.H=Cu;var o=ft!==null&&ft.next!==null;if(er=0,Wt=ft=Xe=null,yu=!1,hl=0,Ua=null,o)throw Error(s(300));r===null||dn||(r=r.dependencies,r!==null&&fu(r)&&(dn=!0))}function Ty(r,o,c,h){Xe=r;var v=0;do{if(Va&&(Ua=null),hl=0,Va=!1,25<=v)throw Error(s(301));if(v+=1,Wt=ft=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}N.H=tM,w=o(c,h)}while(Va);return w}function ZT(){var r=N.H,o=r.useState()[0];return o=typeof o.then=="function"?fl(o):o,r=r.useState()[0],(ft!==null?ft.memoizedState:null)!==r&&(Xe.flags|=1024),o}function Vf(){var r=wu!==0;return wu=0,r}function Uf(r,o,c){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~c}function Gf(r){if(yu){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}yu=!1}er=0,Wt=ft=Xe=null,Va=!1,hl=wu=0,Ua=null}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Xe.memoizedState=Wt=r:Wt=Wt.next=r,Wt}function Kt(){if(ft===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=ft.next;var o=Wt===null?Xe.memoizedState:Wt.next;if(o!==null)Wt=o,ft=r;else{if(r===null)throw Xe.alternate===null?Error(s(467)):Error(s(310));ft=r,r={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Wt===null?Xe.memoizedState=Wt=r:Wt=Wt.next=r}return Wt}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(r){var o=hl;return hl+=1,Ua===null&&(Ua=[]),r=xy(Ua,r,o),o=Xe,(Wt===null?o.memoizedState:Wt.next)===null&&(o=o.alternate,N.H=o===null||o.memoizedState===null?c0:u0),r}function xu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fl(r);if(r.$$typeof===T)return _n(r)}throw Error(s(438,String(r)))}function Yf(r){var o=null,c=Xe.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Xe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=qf(),Xe.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(r),h=0;h<r;h++)c[h]=U;return o.index++,c}function Ri(r,o){return typeof o=="function"?o(r):o}function Su(r){var o=Kt();return Xf(o,ft,r)}function Xf(r,o,c){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=c;var v=r.baseQueue,w=h.pending;if(w!==null){if(v!==null){var R=v.next;v.next=w.next,w.next=R}o.baseQueue=v=w,h.pending=null}if(w=r.baseState,v===null)r.memoizedState=w;else{o=v.next;var k=R=null,F=null,J=o,le=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(it&he)===he:(er&he)===he){var te=J.revertLane;if(te===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===$a&&(le=!0);else if((er&te)===te){J=J.next,te===$a&&(le=!0);continue}else he={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(k=F=he,R=w):F=F.next=he,Xe.lanes|=te,or|=te;he=J.action,Ur&&c(w,he),w=J.hasEagerState?J.eagerState:c(w,he)}else te={lane:he,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(k=F=te,R=w):F=F.next=te,Xe.lanes|=he,or|=he;J=J.next}while(J!==null&&J!==o);if(F===null?R=w:F.next=k,!qn(w,r.memoizedState)&&(dn=!0,le&&(c=Ba,c!==null)))throw c;r.memoizedState=w,r.baseState=R,r.baseQueue=F,h.lastRenderedState=w}return v===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Zf(r){var o=Kt(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=r;var h=c.dispatch,v=c.pending,w=o.memoizedState;if(v!==null){c.pending=null;var R=v=v.next;do w=r(w,R.action),R=R.next;while(R!==v);qn(w,o.memoizedState)||(dn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function My(r,o,c){var h=Xe,v=Kt(),w=at;if(w){if(c===void 0)throw Error(s(407));c=c()}else c=o();var R=!qn((ft||v).memoizedState,c);R&&(v.memoizedState=c,dn=!0),v=v.queue;var k=Ny.bind(null,h,v,r);if(pl(2048,8,k,[r]),v.getSnapshot!==o||R||Wt!==null&&Wt.memoizedState.tag&1){if(h.flags|=2048,Ga(9,_u(),ky.bind(null,h,v,c,o),null),_t===null)throw Error(s(349));w||(er&124)!==0||Dy(h,o,c)}return c}function Dy(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Xe.updateQueue,o===null?(o=qf(),Xe.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function ky(r,o,c,h){o.value=c,o.getSnapshot=h,Py(o)&&Oy(r)}function Ny(r,o,c){return c(function(){Py(o)&&Oy(r)})}function Py(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!qn(r,c)}catch{return!0}}function Oy(r){var o=ja(r,2);o!==null&&Qn(o,r,2)}function Wf(r){var o=jn();if(typeof r=="function"){var c=r;if(r=c(),Ur){qe(!0);try{c()}finally{qe(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},o}function Ly(r,o,c,h){return r.baseState=c,Xf(r,ft,typeof h=="function"?h:Ri)}function WT(r,o,c,h,v){if(Eu(r))throw Error(s(485));if(r=o.action,r!==null){var w={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};N.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,jy(o,w)):(w.next=c.next,o.pending=c.next=w)}}function jy(r,o){var c=o.action,h=o.payload,v=r.state;if(o.isTransition){var w=N.T,R={};N.T=R;try{var k=c(v,h),F=N.S;F!==null&&F(R,k),Iy(r,o,k)}catch(J){Kf(r,o,J)}finally{N.T=w}}else try{w=c(v,h),Iy(r,o,w)}catch(J){Kf(r,o,J)}}function Iy(r,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Fy(r,o,h)},function(h){return Kf(r,o,h)}):Fy(r,o,c)}function Fy(r,o,c){o.status="fulfilled",o.value=c,zy(o),r.state=c,o=r.pending,o!==null&&(c=o.next,c===o?r.pending=null:(c=c.next,o.next=c,jy(r,c)))}function Kf(r,o,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,zy(o),o=o.next;while(o!==h)}r.action=null}function zy(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function $y(r,o){return o}function By(r,o){if(at){var c=_t.formState;if(c!==null){e:{var h=Xe;if(at){if(Ot){t:{for(var v=Ot,w=Ys;v.nodeType!==8;){if(!w){v=null;break t}if(v=ks(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){Ot=ks(v.nextSibling),h=v.data==="F!";break e}}$r(h)}h=!1}h&&(o=c[0])}}return c=jn(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$y,lastRenderedState:o},c.queue=h,c=a0.bind(null,Xe,h),h.dispatch=c,h=Wf(!1),w=np.bind(null,Xe,!1,h.queue),h=jn(),v={state:o,dispatch:null,action:r,pending:null},h.queue=v,c=WT.bind(null,Xe,v,w,c),v.dispatch=c,h.memoizedState=r,[o,c,!1]}function Hy(r){var o=Kt();return Vy(o,ft,r)}function Vy(r,o,c){if(o=Xf(r,o,$y)[0],r=Su(Ri)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=fl(o)}catch(R){throw R===ol?mu:R}else h=o;o=Kt();var v=o.queue,w=v.dispatch;return c!==o.memoizedState&&(Xe.flags|=2048,Ga(9,_u(),KT.bind(null,v,c),null)),[h,w,r]}function KT(r,o){r.action=o}function Uy(r){var o=Kt(),c=ft;if(c!==null)return Vy(o,c,r);Kt(),o=o.memoizedState,c=Kt();var h=c.queue.dispatch;return c.memoizedState=r,[o,h,!1]}function Ga(r,o,c,h){return r={tag:r,create:c,deps:h,inst:o,next:null},o=Xe.updateQueue,o===null&&(o=qf(),Xe.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,o.lastEffect=r),r}function _u(){return{destroy:void 0,resource:void 0}}function Gy(){return Kt().memoizedState}function Au(r,o,c,h){var v=jn();h=h===void 0?null:h,Xe.flags|=r,v.memoizedState=Ga(1|o,_u(),c,h)}function pl(r,o,c,h){var v=Kt();h=h===void 0?null:h;var w=v.memoizedState.inst;ft!==null&&h!==null&&Bf(h,ft.memoizedState.deps)?v.memoizedState=Ga(o,w,c,h):(Xe.flags|=r,v.memoizedState=Ga(1|o,w,c,h))}function qy(r,o){Au(8390656,8,r,o)}function Yy(r,o){pl(2048,8,r,o)}function Xy(r,o){return pl(4,2,r,o)}function Zy(r,o){return pl(4,4,r,o)}function Wy(r,o){if(typeof o=="function"){r=r();var c=o(r);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Ky(r,o,c){c=c!=null?c.concat([r]):null,pl(4,4,Wy.bind(null,o,r),c)}function Qf(){}function Qy(r,o){var c=Kt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Bf(o,h[1])?h[0]:(c.memoizedState=[r,o],r)}function Jy(r,o){var c=Kt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Bf(o,h[1]))return h[0];if(h=r(),Ur){qe(!0);try{r()}finally{qe(!1)}}return c.memoizedState=[h,o],h}function Jf(r,o,c){return c===void 0||(er&1073741824)!==0?r.memoizedState=o:(r.memoizedState=c,r=nw(),Xe.lanes|=r,or|=r,c)}function e0(r,o,c,h){return qn(c,o)?c:Ha.current!==null?(r=Jf(r,c,h),qn(r,o)||(dn=!0),r):(er&42)===0?(dn=!0,r.memoizedState=c):(r=nw(),Xe.lanes|=r,or|=r,o)}function t0(r,o,c,h,v){var w=B.p;B.p=w!==0&&8>w?w:8;var R=N.T,k={};N.T=k,np(r,!1,o,c);try{var F=v(),J=N.S;if(J!==null&&J(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=YT(F,h);gl(r,o,le,Kn(r))}else gl(r,o,h,Kn(r))}catch(he){gl(r,o,{then:function(){},status:"rejected",reason:he},Kn())}finally{B.p=w,N.T=R}}function QT(){}function ep(r,o,c,h){if(r.tag!==5)throw Error(s(476));var v=n0(r).queue;t0(r,v,o,q,c===null?QT:function(){return s0(r),c(h)})}function n0(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:q},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:c},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function s0(r){var o=n0(r).next.queue;gl(r,o,{},Kn())}function tp(){return _n(Pl)}function i0(){return Kt().memoizedState}function r0(){return Kt().memoizedState}function JT(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var c=Kn();r=Qi(c);var h=Ji(o,r,c);h!==null&&(Qn(h,o,c),cl(h,o,c)),o={cache:kf()},r.payload=o;return}o=o.return}}function eM(r,o,c){var h=Kn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Eu(r)?o0(o,c):(c=xf(r,o,c,h),c!==null&&(Qn(c,r,h),l0(c,o,h)))}function a0(r,o,c){var h=Kn();gl(r,o,c,h)}function gl(r,o,c,h){var v={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Eu(r))o0(o,v);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var R=o.lastRenderedState,k=w(R,c);if(v.hasEagerState=!0,v.eagerState=k,qn(k,R))return lu(r,o,v,0),_t===null&&ou(),!1}catch{}finally{}if(c=xf(r,o,v,h),c!==null)return Qn(c,r,h),l0(c,o,h),!0}return!1}function np(r,o,c,h){if(h={lane:2,revertLane:Op(),action:h,hasEagerState:!1,eagerState:null,next:null},Eu(r)){if(o)throw Error(s(479))}else o=xf(r,c,h,2),o!==null&&Qn(o,r,2)}function Eu(r){var o=r.alternate;return r===Xe||o!==null&&o===Xe}function o0(r,o){Va=yu=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function l0(r,o,c){if((c&4194048)!==0){var h=o.lanes;h&=r.pendingLanes,c|=h,o.lanes=c,Ft(r,c)}}var Cu={readContext:_n,use:xu,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},c0={readContext:_n,use:xu,useCallback:function(r,o){return jn().memoizedState=[r,o===void 0?null:o],r},useContext:_n,useEffect:qy,useImperativeHandle:function(r,o,c){c=c!=null?c.concat([r]):null,Au(4194308,4,Wy.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Au(4194308,4,r,o)},useInsertionEffect:function(r,o){Au(4,2,r,o)},useMemo:function(r,o){var c=jn();o=o===void 0?null:o;var h=r();if(Ur){qe(!0);try{r()}finally{qe(!1)}}return c.memoizedState=[h,o],h},useReducer:function(r,o,c){var h=jn();if(c!==void 0){var v=c(o);if(Ur){qe(!0);try{c(o)}finally{qe(!1)}}}else v=o;return h.memoizedState=h.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},h.queue=r,r=r.dispatch=eM.bind(null,Xe,r),[h.memoizedState,r]},useRef:function(r){var o=jn();return r={current:r},o.memoizedState=r},useState:function(r){r=Wf(r);var o=r.queue,c=a0.bind(null,Xe,o);return o.dispatch=c,[r.memoizedState,c]},useDebugValue:Qf,useDeferredValue:function(r,o){var c=jn();return Jf(c,r,o)},useTransition:function(){var r=Wf(!1);return r=t0.bind(null,Xe,r.queue,!0,!1),jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,c){var h=Xe,v=jn();if(at){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),_t===null)throw Error(s(349));(it&124)!==0||Dy(h,o,c)}v.memoizedState=c;var w={value:c,getSnapshot:o};return v.queue=w,qy(Ny.bind(null,h,w,r),[r]),h.flags|=2048,Ga(9,_u(),ky.bind(null,h,w,c,o),null),c},useId:function(){var r=jn(),o=_t.identifierPrefix;if(at){var c=Ai,h=_i;c=(h&~(1<<32-st(h)-1)).toString(32)+c,o="«"+o+"R"+c,c=wu++,0<c&&(o+="H"+c.toString(32)),o+="»"}else c=XT++,o="«"+o+"r"+c.toString(32)+"»";return r.memoizedState=o},useHostTransitionStatus:tp,useFormState:By,useActionState:By,useOptimistic:function(r){var o=jn();o.memoizedState=o.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=np.bind(null,Xe,!0,c),c.dispatch=o,[r,o]},useMemoCache:Yf,useCacheRefresh:function(){return jn().memoizedState=JT.bind(null,Xe)}},u0={readContext:_n,use:xu,useCallback:Qy,useContext:_n,useEffect:Yy,useImperativeHandle:Ky,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:Jy,useReducer:Su,useRef:Gy,useState:function(){return Su(Ri)},useDebugValue:Qf,useDeferredValue:function(r,o){var c=Kt();return e0(c,ft.memoizedState,r,o)},useTransition:function(){var r=Su(Ri)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:fl(r),o]},useSyncExternalStore:My,useId:i0,useHostTransitionStatus:tp,useFormState:Hy,useActionState:Hy,useOptimistic:function(r,o){var c=Kt();return Ly(c,ft,r,o)},useMemoCache:Yf,useCacheRefresh:r0},tM={readContext:_n,use:xu,useCallback:Qy,useContext:_n,useEffect:Yy,useImperativeHandle:Ky,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:Jy,useReducer:Zf,useRef:Gy,useState:function(){return Zf(Ri)},useDebugValue:Qf,useDeferredValue:function(r,o){var c=Kt();return ft===null?Jf(c,r,o):e0(c,ft.memoizedState,r,o)},useTransition:function(){var r=Zf(Ri)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:fl(r),o]},useSyncExternalStore:My,useId:i0,useHostTransitionStatus:tp,useFormState:Uy,useActionState:Uy,useOptimistic:function(r,o){var c=Kt();return ft!==null?Ly(c,ft,r,o):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:r0},qa=null,ml=0;function Ru(r){var o=ml;return ml+=1,qa===null&&(qa=[]),xy(qa,r,o)}function vl(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Tu(r,o){throw o.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function d0(r){var o=r._init;return o(r._payload)}function h0(r){function o(X,H){if(r){var W=X.deletions;W===null?(X.deletions=[H],X.flags|=16):W.push(H)}}function c(X,H){if(!r)return null;for(;H!==null;)o(X,H),H=H.sibling;return null}function h(X){for(var H=new Map;X!==null;)X.key!==null?H.set(X.key,X):H.set(X.index,X),X=X.sibling;return H}function v(X,H){return X=Si(X,H),X.index=0,X.sibling=null,X}function w(X,H,W){return X.index=W,r?(W=X.alternate,W!==null?(W=W.index,W<H?(X.flags|=67108866,H):W):(X.flags|=67108866,H)):(X.flags|=1048576,H)}function R(X){return r&&X.alternate===null&&(X.flags|=67108866),X}function k(X,H,W,de){return H===null||H.tag!==6?(H=_f(W,X.mode,de),H.return=X,H):(H=v(H,W),H.return=X,H)}function F(X,H,W,de){var Ae=W.type;return Ae===S?le(X,H,W.props.children,de,W.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===I&&d0(Ae)===H.type)?(H=v(H,W.props),vl(H,W),H.return=X,H):(H=uu(W.type,W.key,W.props,null,X.mode,de),vl(H,W),H.return=X,H)}function J(X,H,W,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Af(W,X.mode,de),H.return=X,H):(H=v(H,W.children||[]),H.return=X,H)}function le(X,H,W,de,Ae){return H===null||H.tag!==7?(H=jr(W,X.mode,de,Ae),H.return=X,H):(H=v(H,W),H.return=X,H)}function he(X,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=_f(""+H,X.mode,W),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case m:return W=uu(H.type,H.key,H.props,null,X.mode,W),vl(W,H),W.return=X,W;case b:return H=Af(H,X.mode,W),H.return=X,H;case I:var de=H._init;return H=de(H._payload),he(X,H,W)}if(ae(H)||K(H))return H=jr(H,X.mode,W,null),H.return=X,H;if(typeof H.then=="function")return he(X,Ru(H),W);if(H.$$typeof===T)return he(X,pu(X,H),W);Tu(X,H)}return null}function te(X,H,W,de){var Ae=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ae!==null?null:k(X,H,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return W.key===Ae?F(X,H,W,de):null;case b:return W.key===Ae?J(X,H,W,de):null;case I:return Ae=W._init,W=Ae(W._payload),te(X,H,W,de)}if(ae(W)||K(W))return Ae!==null?null:le(X,H,W,de,null);if(typeof W.then=="function")return te(X,H,Ru(W),de);if(W.$$typeof===T)return te(X,H,pu(X,W),de);Tu(X,W)}return null}function ne(X,H,W,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return X=X.get(W)||null,k(H,X,""+de,Ae);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case m:return X=X.get(de.key===null?W:de.key)||null,F(H,X,de,Ae);case b:return X=X.get(de.key===null?W:de.key)||null,J(H,X,de,Ae);case I:var We=de._init;return de=We(de._payload),ne(X,H,W,de,Ae)}if(ae(de)||K(de))return X=X.get(W)||null,le(H,X,de,Ae,null);if(typeof de.then=="function")return ne(X,H,W,Ru(de),Ae);if(de.$$typeof===T)return ne(X,H,W,pu(H,de),Ae);Tu(H,de)}return null}function ze(X,H,W,de){for(var Ae=null,We=null,Re=H,Le=H=0,fn=null;Re!==null&&Le<W.length;Le++){Re.index>Le?(fn=Re,Re=null):fn=Re.sibling;var rt=te(X,Re,W[Le],de);if(rt===null){Re===null&&(Re=fn);break}r&&Re&&rt.alternate===null&&o(X,Re),H=w(rt,H,Le),We===null?Ae=rt:We.sibling=rt,We=rt,Re=fn}if(Le===W.length)return c(X,Re),at&&Fr(X,Le),Ae;if(Re===null){for(;Le<W.length;Le++)Re=he(X,W[Le],de),Re!==null&&(H=w(Re,H,Le),We===null?Ae=Re:We.sibling=Re,We=Re);return at&&Fr(X,Le),Ae}for(Re=h(Re);Le<W.length;Le++)fn=ne(Re,X,Le,W[Le],de),fn!==null&&(r&&fn.alternate!==null&&Re.delete(fn.key===null?Le:fn.key),H=w(fn,H,Le),We===null?Ae=fn:We.sibling=fn,We=fn);return r&&Re.forEach(function(mr){return o(X,mr)}),at&&Fr(X,Le),Ae}function Oe(X,H,W,de){if(W==null)throw Error(s(151));for(var Ae=null,We=null,Re=H,Le=H=0,fn=null,rt=W.next();Re!==null&&!rt.done;Le++,rt=W.next()){Re.index>Le?(fn=Re,Re=null):fn=Re.sibling;var mr=te(X,Re,rt.value,de);if(mr===null){Re===null&&(Re=fn);break}r&&Re&&mr.alternate===null&&o(X,Re),H=w(mr,H,Le),We===null?Ae=mr:We.sibling=mr,We=mr,Re=fn}if(rt.done)return c(X,Re),at&&Fr(X,Le),Ae;if(Re===null){for(;!rt.done;Le++,rt=W.next())rt=he(X,rt.value,de),rt!==null&&(H=w(rt,H,Le),We===null?Ae=rt:We.sibling=rt,We=rt);return at&&Fr(X,Le),Ae}for(Re=h(Re);!rt.done;Le++,rt=W.next())rt=ne(Re,X,Le,rt.value,de),rt!==null&&(r&&rt.alternate!==null&&Re.delete(rt.key===null?Le:rt.key),H=w(rt,H,Le),We===null?Ae=rt:We.sibling=rt,We=rt);return r&&Re.forEach(function(nD){return o(X,nD)}),at&&Fr(X,Le),Ae}function gt(X,H,W,de){if(typeof W=="object"&&W!==null&&W.type===S&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case m:e:{for(var Ae=W.key;H!==null;){if(H.key===Ae){if(Ae=W.type,Ae===S){if(H.tag===7){c(X,H.sibling),de=v(H,W.props.children),de.return=X,X=de;break e}}else if(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===I&&d0(Ae)===H.type){c(X,H.sibling),de=v(H,W.props),vl(de,W),de.return=X,X=de;break e}c(X,H);break}else o(X,H);H=H.sibling}W.type===S?(de=jr(W.props.children,X.mode,de,W.key),de.return=X,X=de):(de=uu(W.type,W.key,W.props,null,X.mode,de),vl(de,W),de.return=X,X=de)}return R(X);case b:e:{for(Ae=W.key;H!==null;){if(H.key===Ae)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){c(X,H.sibling),de=v(H,W.children||[]),de.return=X,X=de;break e}else{c(X,H);break}else o(X,H);H=H.sibling}de=Af(W,X.mode,de),de.return=X,X=de}return R(X);case I:return Ae=W._init,W=Ae(W._payload),gt(X,H,W,de)}if(ae(W))return ze(X,H,W,de);if(K(W)){if(Ae=K(W),typeof Ae!="function")throw Error(s(150));return W=Ae.call(W),Oe(X,H,W,de)}if(typeof W.then=="function")return gt(X,H,Ru(W),de);if(W.$$typeof===T)return gt(X,H,pu(X,W),de);Tu(X,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(c(X,H.sibling),de=v(H,W),de.return=X,X=de):(c(X,H),de=_f(W,X.mode,de),de.return=X,X=de),R(X)):c(X,H)}return function(X,H,W,de){try{ml=0;var Ae=gt(X,H,W,de);return qa=null,Ae}catch(Re){if(Re===ol||Re===mu)throw Re;var We=Yn(29,Re,null,X.mode);return We.lanes=de,We.return=X,We}finally{}}}var Ya=h0(!0),f0=h0(!1),gs=G(null),Xs=null;function tr(r){var o=r.alternate;V(rn,rn.current&1),V(gs,r),Xs===null&&(o===null||Ha.current!==null||o.memoizedState!==null)&&(Xs=r)}function p0(r){if(r.tag===22){if(V(rn,rn.current),V(gs,r),Xs===null){var o=r.alternate;o!==null&&o.memoizedState!==null&&(Xs=r)}}else nr()}function nr(){V(rn,rn.current),V(gs,gs.current)}function Ti(r){se(gs),Xs===r&&(Xs=null),se(rn)}var rn=G(0);function Mu(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||qp(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function sp(r,o,c,h){o=r.memoizedState,c=c(h,o),c=c==null?o:p({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ip={enqueueSetState:function(r,o,c){r=r._reactInternals;var h=Kn(),v=Qi(h);v.payload=o,c!=null&&(v.callback=c),o=Ji(r,v,h),o!==null&&(Qn(o,r,h),cl(o,r,h))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var h=Kn(),v=Qi(h);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=Ji(r,v,h),o!==null&&(Qn(o,r,h),cl(o,r,h))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=Kn(),h=Qi(c);h.tag=2,o!=null&&(h.callback=o),o=Ji(r,h,c),o!==null&&(Qn(o,r,c),cl(o,r,c))}};function g0(r,o,c,h,v,w,R){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,R):o.prototype&&o.prototype.isPureReactComponent?!Jo(c,h)||!Jo(v,w):!0}function m0(r,o,c,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==r&&ip.enqueueReplaceState(o,o.state,null)}function Gr(r,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(r=r.defaultProps){c===o&&(c=p({},c));for(var v in r)c[v]===void 0&&(c[v]=r[v])}return c}var Du=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function v0(r){Du(r)}function b0(r){console.error(r)}function y0(r){Du(r)}function ku(r,o){try{var c=r.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function w0(r,o,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function rp(r,o,c){return c=Qi(c),c.tag=3,c.payload={element:null},c.callback=function(){ku(r,o)},c}function x0(r){return r=Qi(r),r.tag=3,r}function S0(r,o,c,h){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var w=h.value;r.payload=function(){return v(w)},r.callback=function(){w0(o,c,h)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(r.callback=function(){w0(o,c,h),typeof v!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function nM(r,o,c,h,v){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&il(o,c,v,!0),c=gs.current,c!==null){switch(c.tag){case 13:return Xs===null?Mp():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,h===Of?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),kp(r,h,v)),!1;case 22:return c.flags|=65536,h===Of?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),kp(r,h,v)),!1}throw Error(s(435,c.tag))}return kp(r,h,v),Mp(),!1}if(at)return o=gs.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==Rf&&(r=Error(s(422),{cause:h}),sl(ds(r,c)))):(h!==Rf&&(o=Error(s(423),{cause:h}),sl(ds(o,c))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,h=ds(h,c),v=rp(r.stateNode,h,v),If(r,v),Lt!==4&&(Lt=2)),!1;var w=Error(s(520),{cause:h});if(w=ds(w,c),Al===null?Al=[w]:Al.push(w),Lt!==4&&(Lt=2),o===null)return!0;h=ds(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,r=v&-v,c.lanes|=r,r=rp(c.stateNode,h,r),If(c,r),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(lr===null||!lr.has(w))))return c.flags|=65536,v&=-v,c.lanes|=v,v=x0(v),S0(v,r,c,h),If(c,v),!1}c=c.return}while(c!==null);return!1}var _0=Error(s(461)),dn=!1;function bn(r,o,c,h){o.child=r===null?f0(o,null,c,h):Ya(o,r.child,c,h)}function A0(r,o,c,h,v){c=c.render;var w=o.ref;if("ref"in h){var R={};for(var k in h)k!=="ref"&&(R[k]=h[k])}else R=h;return Hr(o),h=Hf(r,o,c,R,w,v),k=Vf(),r!==null&&!dn?(Uf(r,o,v),Mi(r,o,v)):(at&&k&&Ef(o),o.flags|=1,bn(r,o,h,v),o.child)}function E0(r,o,c,h,v){if(r===null){var w=c.type;return typeof w=="function"&&!Sf(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,C0(r,o,w,h,v)):(r=uu(c.type,null,h,o,o.mode,v),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!fp(r,v)){var R=w.memoizedProps;if(c=c.compare,c=c!==null?c:Jo,c(R,h)&&r.ref===o.ref)return Mi(r,o,v)}return o.flags|=1,r=Si(w,h),r.ref=o.ref,r.return=o,o.child=r}function C0(r,o,c,h,v){if(r!==null){var w=r.memoizedProps;if(Jo(w,h)&&r.ref===o.ref)if(dn=!1,o.pendingProps=h=w,fp(r,v))(r.flags&131072)!==0&&(dn=!0);else return o.lanes=r.lanes,Mi(r,o,v)}return ap(r,o,c,h,v)}function R0(r,o,c){var h=o.pendingProps,v=h.children,w=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=w!==null?w.baseLanes|c:c,r!==null){for(v=o.child=r.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~h}else o.childLanes=0,o.child=null;return T0(r,o,h,c)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&gu(o,w!==null?w.cachePool:null),w!==null?Cy(o,w):zf(),p0(o);else return o.lanes=o.childLanes=536870912,T0(r,o,w!==null?w.baseLanes|c:c,c)}else w!==null?(gu(o,w.cachePool),Cy(o,w),nr(),o.memoizedState=null):(r!==null&&gu(o,null),zf(),nr());return bn(r,o,v,c),o.child}function T0(r,o,c,h){var v=Pf();return v=v===null?null:{parent:sn._currentValue,pool:v},o.memoizedState={baseLanes:c,cachePool:v},r!==null&&gu(o,null),zf(),p0(o),r!==null&&il(r,o,h,!0),null}function Nu(r,o){var c=o.ref;if(c===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(r===null||r.ref!==c)&&(o.flags|=4194816)}}function ap(r,o,c,h,v){return Hr(o),c=Hf(r,o,c,h,void 0,v),h=Vf(),r!==null&&!dn?(Uf(r,o,v),Mi(r,o,v)):(at&&h&&Ef(o),o.flags|=1,bn(r,o,c,v),o.child)}function M0(r,o,c,h,v,w){return Hr(o),o.updateQueue=null,c=Ty(o,h,c,v),Ry(r),h=Vf(),r!==null&&!dn?(Uf(r,o,w),Mi(r,o,w)):(at&&h&&Ef(o),o.flags|=1,bn(r,o,c,w),o.child)}function D0(r,o,c,h,v){if(Hr(o),o.stateNode===null){var w=Ia,R=c.contextType;typeof R=="object"&&R!==null&&(w=_n(R)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=ip,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},Lf(o),R=c.contextType,w.context=typeof R=="object"&&R!==null?_n(R):Ia,w.state=o.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(sp(o,c,R,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&ip.enqueueReplaceState(w,w.state,null),dl(o,h,w,v),ul(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(r===null){w=o.stateNode;var k=o.memoizedProps,F=Gr(c,k);w.props=F;var J=w.context,le=c.contextType;R=Ia,typeof le=="object"&&le!==null&&(R=_n(le));var he=c.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||J!==R)&&m0(o,w,h,R),Ki=!1;var te=o.memoizedState;w.state=te,dl(o,h,w,v),ul(),J=o.memoizedState,k||te!==J||Ki?(typeof he=="function"&&(sp(o,c,he,h),J=o.memoizedState),(F=Ki||g0(o,c,F,h,te,J,R))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),w.props=h,w.state=J,w.context=R,h=F):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,jf(r,o),R=o.memoizedProps,le=Gr(c,R),w.props=le,he=o.pendingProps,te=w.context,J=c.contextType,F=Ia,typeof J=="object"&&J!==null&&(F=_n(J)),k=c.getDerivedStateFromProps,(J=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==he||te!==F)&&m0(o,w,h,F),Ki=!1,te=o.memoizedState,w.state=te,dl(o,h,w,v),ul();var ne=o.memoizedState;R!==he||te!==ne||Ki||r!==null&&r.dependencies!==null&&fu(r.dependencies)?(typeof k=="function"&&(sp(o,c,k,h),ne=o.memoizedState),(le=Ki||g0(o,c,le,h,te,ne,F)||r!==null&&r.dependencies!==null&&fu(r.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ne,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ne,F)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ne),w.props=h,w.state=ne,w.context=F,h=le):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&te===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&te===r.memoizedState||(o.flags|=1024),h=!1)}return w=h,Nu(r,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,r!==null&&h?(o.child=Ya(o,r.child,null,v),o.child=Ya(o,null,c,v)):bn(r,o,c,v),o.memoizedState=w.state,r=o.child):r=Mi(r,o,v),r}function k0(r,o,c,h){return nl(),o.flags|=256,bn(r,o,c,h),o.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(r){return{baseLanes:r,cachePool:by()}}function cp(r,o,c){return r=r!==null?r.childLanes&~c:0,o&&(r|=ms),r}function N0(r,o,c){var h=o.pendingProps,v=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),R&&(v=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,r===null){if(at){if(v?tr(o):nr(),at){var k=Ot,F;if(F=k){e:{for(F=k,k=Ys;F.nodeType!==8;){if(!k){k=null;break e}if(F=ks(F.nextSibling),F===null){k=null;break e}}k=F}k!==null?(o.memoizedState={dehydrated:k,treeContext:Ir!==null?{id:_i,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},F=Yn(18,null,null,0),F.stateNode=k,F.return=o,o.child=F,Dn=o,Ot=null,F=!0):F=!1}F||$r(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return qp(k)?o.lanes=32:o.lanes=536870912,null;Ti(o)}return k=h.children,h=h.fallback,v?(nr(),v=o.mode,k=Pu({mode:"hidden",children:k},v),h=jr(h,v,c,null),k.return=o,h.return=o,k.sibling=h,o.child=k,v=o.child,v.memoizedState=lp(c),v.childLanes=cp(r,R,c),o.memoizedState=op,h):(tr(o),up(o,k))}if(F=r.memoizedState,F!==null&&(k=F.dehydrated,k!==null)){if(w)o.flags&256?(tr(o),o.flags&=-257,o=dp(r,o,c)):o.memoizedState!==null?(nr(),o.child=r.child,o.flags|=128,o=null):(nr(),v=h.fallback,k=o.mode,h=Pu({mode:"visible",children:h.children},k),v=jr(v,k,c,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,Ya(o,r.child,null,c),h=o.child,h.memoizedState=lp(c),h.childLanes=cp(r,R,c),o.memoizedState=op,o=v);else if(tr(o),qp(k)){if(R=k.nextSibling&&k.nextSibling.dataset,R)var J=R.dgst;R=J,h=Error(s(419)),h.stack="",h.digest=R,sl({value:h,source:null,stack:null}),o=dp(r,o,c)}else if(dn||il(r,o,c,!1),R=(c&r.childLanes)!==0,dn||R){if(R=_t,R!==null&&(h=c&-c,h=(h&42)!==0?1:Zt(h),h=(h&(R.suspendedLanes|c))!==0?0:h,h!==0&&h!==F.retryLane))throw F.retryLane=h,ja(r,h),Qn(R,r,h),_0;k.data==="$?"||Mp(),o=dp(r,o,c)}else k.data==="$?"?(o.flags|=192,o.child=r.child,o=null):(r=F.treeContext,Ot=ks(k.nextSibling),Dn=o,at=!0,zr=null,Ys=!1,r!==null&&(fs[ps++]=_i,fs[ps++]=Ai,fs[ps++]=Ir,_i=r.id,Ai=r.overflow,Ir=o),o=up(o,h.children),o.flags|=4096);return o}return v?(nr(),v=h.fallback,k=o.mode,F=r.child,J=F.sibling,h=Si(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,J!==null?v=Si(J,v):(v=jr(v,k,c,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,k=r.child.memoizedState,k===null?k=lp(c):(F=k.cachePool,F!==null?(J=sn._currentValue,F=F.parent!==J?{parent:J,pool:J}:F):F=by(),k={baseLanes:k.baseLanes|c,cachePool:F}),v.memoizedState=k,v.childLanes=cp(r,R,c),o.memoizedState=op,h):(tr(o),c=r.child,r=c.sibling,c=Si(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,r!==null&&(R=o.deletions,R===null?(o.deletions=[r],o.flags|=16):R.push(r)),o.child=c,o.memoizedState=null,c)}function up(r,o){return o=Pu({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function Pu(r,o){return r=Yn(22,r,null,o),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function dp(r,o,c){return Ya(o,r.child,null,c),r=up(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function P0(r,o,c){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),Mf(r.return,o,c)}function hp(r,o,c,h,v){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=v)}function O0(r,o,c){var h=o.pendingProps,v=h.revealOrder,w=h.tail;if(bn(r,o,h.children,c),h=rn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&P0(r,c,o);else if(r.tag===19)P0(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(V(rn,h),v){case"forwards":for(c=o.child,v=null;c!==null;)r=c.alternate,r!==null&&Mu(r)===null&&(v=c),c=c.sibling;c=v,c===null?(v=o.child,o.child=null):(v=c.sibling,c.sibling=null),hp(o,!1,v,c,w);break;case"backwards":for(c=null,v=o.child,o.child=null;v!==null;){if(r=v.alternate,r!==null&&Mu(r)===null){o.child=v;break}r=v.sibling,v.sibling=c,c=v,v=r}hp(o,!0,c,null,w);break;case"together":hp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Mi(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),or|=o.lanes,(c&o.childLanes)===0)if(r!==null){if(il(r,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,c=Si(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=Si(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function fp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&fu(r)))}function sM(r,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Wi(o,sn,r.memoizedState.cache),nl();break;case 27:case 5:De(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Wi(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(tr(o),o.flags|=128,null):(c&o.child.childLanes)!==0?N0(r,o,c):(tr(o),r=Mi(r,o,c),r!==null?r.sibling:null);tr(o);break;case 19:var v=(r.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(il(r,o,c,!1),h=(c&o.childLanes)!==0),v){if(h)return O0(r,o,c);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),V(rn,rn.current),h)break;return null;case 22:case 23:return o.lanes=0,R0(r,o,c);case 24:Wi(o,sn,r.memoizedState.cache)}return Mi(r,o,c)}function L0(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps)dn=!0;else{if(!fp(r,c)&&(o.flags&128)===0)return dn=!1,sM(r,o,c);dn=(r.flags&131072)!==0}else dn=!1,at&&(o.flags&1048576)!==0&&dy(o,hu,o.index);switch(o.lanes=0,o.tag){case 16:e:{r=o.pendingProps;var h=o.elementType,v=h._init;if(h=v(h._payload),o.type=h,typeof h=="function")Sf(h)?(r=Gr(h,r),o.tag=1,o=D0(null,o,h,r,c)):(o.tag=0,o=ap(null,o,h,r,c));else{if(h!=null){if(v=h.$$typeof,v===D){o.tag=11,o=A0(null,o,h,r,c);break e}else if(v===L){o.tag=14,o=E0(null,o,h,r,c);break e}}throw o=ce(h)||h,Error(s(306,o,""))}}return o;case 0:return ap(r,o,o.type,o.pendingProps,c);case 1:return h=o.type,v=Gr(h,o.pendingProps),D0(r,o,h,v,c);case 3:e:{if(be(o,o.stateNode.containerInfo),r===null)throw Error(s(387));h=o.pendingProps;var w=o.memoizedState;v=w.element,jf(r,o),dl(o,h,null,c);var R=o.memoizedState;if(h=R.cache,Wi(o,sn,h),h!==w.cache&&Df(o,[sn],c,!0),ul(),h=R.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=k0(r,o,h,c);break e}else if(h!==v){v=ds(Error(s(424)),o),sl(v),o=k0(r,o,h,c);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ot=ks(r.firstChild),Dn=o,at=!0,zr=null,Ys=!0,c=f0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(nl(),h===v){o=Mi(r,o,c);break e}bn(r,o,h,c)}o=o.child}return o;case 26:return Nu(r,o),r===null?(c=zw(o.type,null,o.pendingProps,null))?o.memoizedState=c:at||(c=o.type,r=o.pendingProps,h=Yu(ee.current).createElement(c),h[$t]=o,h[St]=r,wn(h,c,r),un(h),o.stateNode=h):o.memoizedState=zw(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return De(o),r===null&&at&&(h=o.stateNode=jw(o.type,o.pendingProps,ee.current),Dn=o,Ys=!0,v=Ot,dr(o.type)?(Yp=v,Ot=ks(h.firstChild)):Ot=v),bn(r,o,o.pendingProps.children,c),Nu(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&at&&((v=h=Ot)&&(h=kM(h,o.type,o.pendingProps,Ys),h!==null?(o.stateNode=h,Dn=o,Ot=ks(h.firstChild),Ys=!1,v=!0):v=!1),v||$r(o)),De(o),v=o.type,w=o.pendingProps,R=r!==null?r.memoizedProps:null,h=w.children,Vp(v,w)?h=null:R!==null&&Vp(v,R)&&(o.flags|=32),o.memoizedState!==null&&(v=Hf(r,o,ZT,null,null,c),Pl._currentValue=v),Nu(r,o),bn(r,o,h,c),o.child;case 6:return r===null&&at&&((r=c=Ot)&&(c=NM(c,o.pendingProps,Ys),c!==null?(o.stateNode=c,Dn=o,Ot=null,r=!0):r=!1),r||$r(o)),null;case 13:return N0(r,o,c);case 4:return be(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=Ya(o,null,h,c):bn(r,o,h,c),o.child;case 11:return A0(r,o,o.type,o.pendingProps,c);case 7:return bn(r,o,o.pendingProps,c),o.child;case 8:return bn(r,o,o.pendingProps.children,c),o.child;case 12:return bn(r,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,Wi(o,o.type,h.value),bn(r,o,h.children,c),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,Hr(o),v=_n(v),h=h(v),o.flags|=1,bn(r,o,h,c),o.child;case 14:return E0(r,o,o.type,o.pendingProps,c);case 15:return C0(r,o,o.type,o.pendingProps,c);case 19:return O0(r,o,c);case 31:return h=o.pendingProps,c=o.mode,h={mode:h.mode,children:h.children},r===null?(c=Pu(h,c),c.ref=o.ref,o.child=c,c.return=o,o=c):(c=Si(r.child,h),c.ref=o.ref,o.child=c,c.return=o,o=c),o;case 22:return R0(r,o,c);case 24:return Hr(o),h=_n(sn),r===null?(v=Pf(),v===null&&(v=_t,w=kf(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=c),v=w),o.memoizedState={parent:h,cache:v},Lf(o),Wi(o,sn,v)):((r.lanes&c)!==0&&(jf(r,o),dl(o,null,null,c),ul()),v=r.memoizedState,w=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Wi(o,sn,h)):(h=w.cache,Wi(o,sn,h),h!==v.cache&&Df(o,[sn],c,!0))),bn(r,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Di(r){r.flags|=4}function j0(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Uw(o)){if(o=gs.current,o!==null&&((it&4194048)===it?Xs!==null:(it&62914560)!==it&&(it&536870912)===0||o!==Xs))throw ll=Of,yy;r.flags|=8192}}function Ou(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Xc():536870912,r.lanes|=o,Ka|=o)}function bl(r,o){if(!at)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Dt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(o)for(var v=r.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=h,r.childLanes=c,o}function iM(r,o,c){var h=o.pendingProps;switch(Cf(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(o),null;case 1:return Dt(o),null;case 3:return c=o.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ci(sn),we(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(tl(o)?Di(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,py())),Dt(o),null;case 26:return c=o.memoizedState,r===null?(Di(o),c!==null?(Dt(o),j0(o,c)):(Dt(o),o.flags&=-16777217)):c?c!==r.memoizedState?(Di(o),Dt(o),j0(o,c)):(Dt(o),o.flags&=-16777217):(r.memoizedProps!==h&&Di(o),Dt(o),o.flags&=-16777217),null;case 27:$e(o),c=ee.current;var v=o.type;if(r!==null&&o.stateNode!=null)r.memoizedProps!==h&&Di(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return Dt(o),null}r=re.current,tl(o)?hy(o):(r=jw(v,h,c),o.stateNode=r,Di(o))}return Dt(o),null;case 5:if($e(o),c=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==h&&Di(o);else{if(!h){if(o.stateNode===null)throw Error(s(166));return Dt(o),null}if(r=re.current,tl(o))hy(o);else{switch(v=Yu(ee.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?v.createElement(c,{is:h.is}):v.createElement(c)}}r[$t]=o,r[St]=h;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=r;e:switch(wn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Di(o)}}return Dt(o),o.flags&=-16777217,null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==h&&Di(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(s(166));if(r=ee.current,tl(o)){if(r=o.stateNode,c=o.memoizedProps,h=null,v=Dn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}r[$t]=o,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Mw(r.nodeValue,c)),r||$r(o)}else r=Yu(r).createTextNode(h),r[$t]=o,o.stateNode=r}return Dt(o),null;case 13:if(h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=tl(o),h!==null&&h.dehydrated!==null){if(r===null){if(!v)throw Error(s(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[$t]=o}else nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Dt(o),v=!1}else v=py(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ti(o),o):(Ti(o),null)}if(Ti(o),(o.flags&128)!==0)return o.lanes=c,o;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048)}return c!==r&&c&&(o.child.flags|=8192),Ou(o,o.updateQueue),Dt(o),null;case 4:return we(),r===null&&Fp(o.stateNode.containerInfo),Dt(o),null;case 10:return Ci(o.type),Dt(o),null;case 19:if(se(rn),v=o.memoizedState,v===null)return Dt(o),null;if(h=(o.flags&128)!==0,w=v.rendering,w===null)if(h)bl(v,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(w=Mu(r),w!==null){for(o.flags|=128,bl(v,!1),r=w.updateQueue,o.updateQueue=r,Ou(o,r),o.subtreeFlags=0,r=c,c=o.child;c!==null;)uy(c,r),c=c.sibling;return V(rn,rn.current&1|2),o.child}r=r.sibling}v.tail!==null&&bt()>Iu&&(o.flags|=128,h=!0,bl(v,!1),o.lanes=4194304)}else{if(!h)if(r=Mu(w),r!==null){if(o.flags|=128,h=!0,r=r.updateQueue,o.updateQueue=r,Ou(o,r),bl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!at)return Dt(o),null}else 2*bt()-v.renderingStartTime>Iu&&c!==536870912&&(o.flags|=128,h=!0,bl(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(r=v.last,r!==null?r.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=bt(),o.sibling=null,r=rn.current,V(rn,h?r&1|2:r&1),o):(Dt(o),null);case 22:case 23:return Ti(o),$f(),h=o.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Dt(o),o.subtreeFlags&6&&(o.flags|=8192)):Dt(o),c=o.updateQueue,c!==null&&Ou(o,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),r!==null&&se(Vr),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ci(sn),Dt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function rM(r,o){switch(Cf(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ci(sn),we(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 13:if(Ti(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));nl()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return se(rn),null;case 4:return we(),null;case 10:return Ci(o.type),null;case 22:case 23:return Ti(o),$f(),r!==null&&se(Vr),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Ci(sn),null;case 25:return null;default:return null}}function I0(r,o){switch(Cf(o),o.tag){case 3:Ci(sn),we();break;case 26:case 27:case 5:$e(o);break;case 4:we();break;case 13:Ti(o);break;case 19:se(rn);break;case 10:Ci(o.type);break;case 22:case 23:Ti(o),$f(),r!==null&&se(Vr);break;case 24:Ci(sn)}}function yl(r,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&r)===r){h=void 0;var w=c.create,R=c.inst;h=w(),R.destroy=h}c=c.next}while(c!==v)}}catch(k){yt(o,o.return,k)}}function sr(r,o,c){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var w=v.next;h=w;do{if((h.tag&r)===r){var R=h.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,v=o;var F=c,J=k;try{J()}catch(le){yt(v,F,le)}}}h=h.next}while(h!==w)}}catch(le){yt(o,o.return,le)}}function F0(r){var o=r.updateQueue;if(o!==null){var c=r.stateNode;try{Ey(o,c)}catch(h){yt(r,r.return,h)}}}function z0(r,o,c){c.props=Gr(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){yt(r,o,h)}}function wl(r,o){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(v){yt(r,o,v)}}function Zs(r,o){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(v){yt(r,o,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){yt(r,o,v)}else c.current=null}function $0(r){var o=r.type,c=r.memoizedProps,h=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(v){yt(r,r.return,v)}}function pp(r,o,c){try{var h=r.stateNode;CM(h,r.type,c,o),h[St]=o}catch(v){yt(r,r.return,v)}}function B0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&dr(r.type)||r.tag===4}function gp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||B0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&dr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mp(r,o,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(r),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=qu));else if(h!==4&&(h===27&&dr(r.type)&&(c=r.stateNode,o=null),r=r.child,r!==null))for(mp(r,o,c),r=r.sibling;r!==null;)mp(r,o,c),r=r.sibling}function Lu(r,o,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(h!==4&&(h===27&&dr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for(Lu(r,o,c),r=r.sibling;r!==null;)Lu(r,o,c),r=r.sibling}function H0(r){var o=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);wn(o,h,c),o[$t]=r,o[St]=c}catch(w){yt(r,r.return,w)}}var ki=!1,Ht=!1,vp=!1,V0=typeof WeakSet=="function"?WeakSet:Set,hn=null;function aM(r,o){if(r=r.containerInfo,Bp=Ju,r=ey(r),gf(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var R=0,k=-1,F=-1,J=0,le=0,he=r,te=null;t:for(;;){for(var ne;he!==c||v!==0&&he.nodeType!==3||(k=R+v),he!==w||h!==0&&he.nodeType!==3||(F=R+h),he.nodeType===3&&(R+=he.nodeValue.length),(ne=he.firstChild)!==null;)te=he,he=ne;for(;;){if(he===r)break t;if(te===c&&++J===v&&(k=R),te===w&&++le===h&&(F=R),(ne=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ne}c=k===-1||F===-1?null:{start:k,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(Hp={focusedElem:r,selectionRange:c},Ju=!1,hn=o;hn!==null;)if(o=hn,r=o.child,(o.subtreeFlags&1024)!==0&&r!==null)r.return=o,hn=r;else for(;hn!==null;){switch(o=hn,w=o.alternate,r=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,c=o,v=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var ze=Gr(c.type,v,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(ze,w),h.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){yt(c,c.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,c=r.nodeType,c===9)Gp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,hn=r;break}hn=o.return}}function U0(r,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ir(r,c),h&4&&yl(5,c);break;case 1:if(ir(r,c),h&4)if(r=c.stateNode,o===null)try{r.componentDidMount()}catch(R){yt(c,c.return,R)}else{var v=Gr(c.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(v,o,r.__reactInternalSnapshotBeforeUpdate)}catch(R){yt(c,c.return,R)}}h&64&&F0(c),h&512&&wl(c,c.return);break;case 3:if(ir(r,c),h&64&&(r=c.updateQueue,r!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Ey(r,o)}catch(R){yt(c,c.return,R)}}break;case 27:o===null&&h&4&&H0(c);case 26:case 5:ir(r,c),o===null&&h&4&&$0(c),h&512&&wl(c,c.return);break;case 12:ir(r,c);break;case 13:ir(r,c),h&4&&Y0(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=gM.bind(null,c),PM(r,c))));break;case 22:if(h=c.memoizedState!==null||ki,!h){o=o!==null&&o.memoizedState!==null||Ht,v=ki;var w=Ht;ki=h,(Ht=o)&&!w?rr(r,c,(c.subtreeFlags&8772)!==0):ir(r,c),ki=v,Ht=w}break;case 30:break;default:ir(r,c)}}function G0(r){var o=r.alternate;o!==null&&(r.alternate=null,G0(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&Zh(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,In=!1;function Ni(r,o,c){for(c=c.child;c!==null;)q0(r,o,c),c=c.sibling}function q0(r,o,c){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(xe,c)}catch{}switch(c.tag){case 26:Ht||Zs(c,o),Ni(r,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ht||Zs(c,o);var h=Ct,v=In;dr(c.type)&&(Ct=c.stateNode,In=!1),Ni(r,o,c),Ml(c.stateNode),Ct=h,In=v;break;case 5:Ht||Zs(c,o);case 6:if(h=Ct,v=In,Ct=null,Ni(r,o,c),Ct=h,In=v,Ct!==null)if(In)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(c.stateNode)}catch(w){yt(c,o,w)}else try{Ct.removeChild(c.stateNode)}catch(w){yt(c,o,w)}break;case 18:Ct!==null&&(In?(r=Ct,Ow(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Il(r)):Ow(Ct,c.stateNode));break;case 4:h=Ct,v=In,Ct=c.stateNode.containerInfo,In=!0,Ni(r,o,c),Ct=h,In=v;break;case 0:case 11:case 14:case 15:Ht||sr(2,c,o),Ht||sr(4,c,o),Ni(r,o,c);break;case 1:Ht||(Zs(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&z0(c,o,h)),Ni(r,o,c);break;case 21:Ni(r,o,c);break;case 22:Ht=(h=Ht)||c.memoizedState!==null,Ni(r,o,c),Ht=h;break;default:Ni(r,o,c)}}function Y0(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Il(r)}catch(c){yt(o,o.return,c)}}function oM(r){switch(r.tag){case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new V0),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new V0),o;default:throw Error(s(435,r.tag))}}function bp(r,o){var c=oM(r);o.forEach(function(h){var v=mM.bind(null,r,h);c.has(h)||(c.add(h),h.then(v,v))})}function Xn(r,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h],w=r,R=o,k=R;e:for(;k!==null;){switch(k.tag){case 27:if(dr(k.type)){Ct=k.stateNode,In=!1;break e}break;case 5:Ct=k.stateNode,In=!1;break e;case 3:case 4:Ct=k.stateNode.containerInfo,In=!0;break e}k=k.return}if(Ct===null)throw Error(s(160));q0(w,R,v),Ct=null,In=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)X0(o,r),o=o.sibling}var Ds=null;function X0(r,o){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(o,r),Zn(r),h&4&&(sr(3,r,r.return),yl(3,r),sr(5,r,r.return));break;case 1:Xn(o,r),Zn(r),h&512&&(Ht||c===null||Zs(c,c.return)),h&64&&ki&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var v=Ds;if(Xn(o,r),Zn(r),h&512&&(Ht||c===null||Zs(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){e:{h=r.type,c=r.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":w=v.getElementsByTagName("title")[0],(!w||w[Uo]||w[$t]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(h),v.head.insertBefore(w,v.querySelector("head > title"))),wn(w,h,c),w[$t]=r,un(w),h=w;break e;case"link":var R=Hw("link","href",v).get(h+(c.href||""));if(R){for(var k=0;k<R.length;k++)if(w=R[k],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(k,1);break t}}w=v.createElement(h),wn(w,h,c),v.head.appendChild(w);break;case"meta":if(R=Hw("meta","content",v).get(h+(c.content||""))){for(k=0;k<R.length;k++)if(w=R[k],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(k,1);break t}}w=v.createElement(h),wn(w,h,c),v.head.appendChild(w);break;default:throw Error(s(468,h))}w[$t]=r,un(w),h=w}r.stateNode=h}else Vw(v,r.type,r.stateNode);else r.stateNode=Bw(v,h,r.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?Vw(v,r.type,r.stateNode):Bw(v,h,r.memoizedProps)):h===null&&r.stateNode!==null&&pp(r,r.memoizedProps,c.memoizedProps)}break;case 27:Xn(o,r),Zn(r),h&512&&(Ht||c===null||Zs(c,c.return)),c!==null&&h&4&&pp(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Xn(o,r),Zn(r),h&512&&(Ht||c===null||Zs(c,c.return)),r.flags&32){v=r.stateNode;try{Ma(v,"")}catch(ne){yt(r,r.return,ne)}}h&4&&r.stateNode!=null&&(v=r.memoizedProps,pp(r,v,c!==null?c.memoizedProps:v)),h&1024&&(vp=!0);break;case 6:if(Xn(o,r),Zn(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(ne){yt(r,r.return,ne)}}break;case 3:if(Wu=null,v=Ds,Ds=Xu(o.containerInfo),Xn(o,r),Ds=v,Zn(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Il(o.containerInfo)}catch(ne){yt(r,r.return,ne)}vp&&(vp=!1,Z0(r));break;case 4:h=Ds,Ds=Xu(r.stateNode.containerInfo),Xn(o,r),Zn(r),Ds=h;break;case 12:Xn(o,r),Zn(r);break;case 13:Xn(o,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ap=bt()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,bp(r,h)));break;case 22:v=r.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,J=ki,le=Ht;if(ki=J||v,Ht=le||F,Xn(o,r),Ht=le,ki=J,Zn(r),h&8192)e:for(o=r.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(c===null||F||ki||Ht||qr(r)),c=null,o=r;;){if(o.tag===5||o.tag===26){if(c===null){F=c=o;try{if(w=F.stateNode,v)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{k=F.stateNode;var he=F.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){yt(F,F.return,ne)}}}else if(o.tag===6){if(c===null){F=o;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(ne){yt(F,F.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,bp(r,c))));break;case 19:Xn(o,r),Zn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,bp(r,h)));break;case 30:break;case 21:break;default:Xn(o,r),Zn(r)}}function Zn(r){var o=r.flags;if(o&2){try{for(var c,h=r.return;h!==null;){if(B0(h)){c=h;break}h=h.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var v=c.stateNode,w=gp(r);Lu(r,w,v);break;case 5:var R=c.stateNode;c.flags&32&&(Ma(R,""),c.flags&=-33);var k=gp(r);Lu(r,k,R);break;case 3:case 4:var F=c.stateNode.containerInfo,J=gp(r);mp(r,J,F);break;default:throw Error(s(161))}}catch(le){yt(r,r.return,le)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Z0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Z0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function ir(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)U0(r,o.alternate,o),o=o.sibling}function qr(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:sr(4,o,o.return),qr(o);break;case 1:Zs(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&z0(o,o.return,c),qr(o);break;case 27:Ml(o.stateNode);case 26:case 5:Zs(o,o.return),qr(o);break;case 22:o.memoizedState===null&&qr(o);break;case 30:qr(o);break;default:qr(o)}r=r.sibling}}function rr(r,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=r,w=o,R=w.flags;switch(w.tag){case 0:case 11:case 15:rr(v,w,c),yl(4,w);break;case 1:if(rr(v,w,c),h=w,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){yt(h,h.return,J)}if(h=w,v=h.updateQueue,v!==null){var k=h.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)Ay(F[v],k)}catch(J){yt(h,h.return,J)}}c&&R&64&&F0(w),wl(w,w.return);break;case 27:H0(w);case 26:case 5:rr(v,w,c),c&&h===null&&R&4&&$0(w),wl(w,w.return);break;case 12:rr(v,w,c);break;case 13:rr(v,w,c),c&&R&4&&Y0(v,w);break;case 22:w.memoizedState===null&&rr(v,w,c),wl(w,w.return);break;case 30:break;default:rr(v,w,c)}o=o.sibling}}function yp(r,o){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&rl(c))}function wp(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rl(r))}function Ws(r,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)W0(r,o,c,h),o=o.sibling}function W0(r,o,c,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ws(r,o,c,h),v&2048&&yl(9,o);break;case 1:Ws(r,o,c,h);break;case 3:Ws(r,o,c,h),v&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&rl(r)));break;case 12:if(v&2048){Ws(r,o,c,h),r=o.stateNode;try{var w=o.memoizedProps,R=w.id,k=w.onPostCommit;typeof k=="function"&&k(R,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(F){yt(o,o.return,F)}}else Ws(r,o,c,h);break;case 13:Ws(r,o,c,h);break;case 23:break;case 22:w=o.stateNode,R=o.alternate,o.memoizedState!==null?w._visibility&2?Ws(r,o,c,h):xl(r,o):w._visibility&2?Ws(r,o,c,h):(w._visibility|=2,Xa(r,o,c,h,(o.subtreeFlags&10256)!==0)),v&2048&&yp(R,o);break;case 24:Ws(r,o,c,h),v&2048&&wp(o.alternate,o);break;default:Ws(r,o,c,h)}}function Xa(r,o,c,h,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=r,R=o,k=c,F=h,J=R.flags;switch(R.tag){case 0:case 11:case 15:Xa(w,R,k,F,v),yl(8,R);break;case 23:break;case 22:var le=R.stateNode;R.memoizedState!==null?le._visibility&2?Xa(w,R,k,F,v):xl(w,R):(le._visibility|=2,Xa(w,R,k,F,v)),v&&J&2048&&yp(R.alternate,R);break;case 24:Xa(w,R,k,F,v),v&&J&2048&&wp(R.alternate,R);break;default:Xa(w,R,k,F,v)}o=o.sibling}}function xl(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=r,h=o,v=h.flags;switch(h.tag){case 22:xl(c,h),v&2048&&yp(h.alternate,h);break;case 24:xl(c,h),v&2048&&wp(h.alternate,h);break;default:xl(c,h)}o=o.sibling}}var Sl=8192;function Za(r){if(r.subtreeFlags&Sl)for(r=r.child;r!==null;)K0(r),r=r.sibling}function K0(r){switch(r.tag){case 26:Za(r),r.flags&Sl&&r.memoizedState!==null&&qM(Ds,r.memoizedState,r.memoizedProps);break;case 5:Za(r);break;case 3:case 4:var o=Ds;Ds=Xu(r.stateNode.containerInfo),Za(r),Ds=o;break;case 22:r.memoizedState===null&&(o=r.alternate,o!==null&&o.memoizedState!==null?(o=Sl,Sl=16777216,Za(r),Sl=o):Za(r));break;default:Za(r)}}function Q0(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function _l(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];hn=h,ew(h,r)}Q0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)J0(r),r=r.sibling}function J0(r){switch(r.tag){case 0:case 11:case 15:_l(r),r.flags&2048&&sr(9,r,r.return);break;case 3:_l(r);break;case 12:_l(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,ju(r)):_l(r);break;default:_l(r)}}function ju(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];hn=h,ew(h,r)}Q0(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:sr(8,o,o.return),ju(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,ju(o));break;default:ju(o)}r=r.sibling}}function ew(r,o){for(;hn!==null;){var c=hn;switch(c.tag){case 0:case 11:case 15:sr(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:rl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,hn=h;else e:for(c=r;hn!==null;){h=hn;var v=h.sibling,w=h.return;if(G0(h),h===c){hn=null;break e}if(v!==null){v.return=w,hn=v;break e}hn=w}}}var lM={getCacheForType:function(r){var o=_n(sn),c=o.data.get(r);return c===void 0&&(c=r(),o.data.set(r,c)),c}},cM=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Je=null,it=0,ct=0,Wn=null,ar=!1,Wa=!1,xp=!1,Pi=0,Lt=0,or=0,Yr=0,Sp=0,ms=0,Ka=0,Al=null,Fn=null,_p=!1,Ap=0,Iu=1/0,Fu=null,lr=null,yn=0,cr=null,Qa=null,Ja=0,Ep=0,Cp=null,tw=null,El=0,Rp=null;function Kn(){if((lt&2)!==0&&it!==0)return it&-it;if(N.T!==null){var r=$a;return r!==0?r:Op()}return kr()}function nw(){ms===0&&(ms=(it&536870912)===0||at?Ts():536870912);var r=gs.current;return r!==null&&(r.flags|=32),ms}function Qn(r,o,c){(r===_t&&(ct===2||ct===9)||r.cancelPendingCommit!==null)&&(eo(r,0),ur(r,it,ms,!1)),Xi(r,c),((lt&2)===0||r!==_t)&&(r===_t&&((lt&2)===0&&(Yr|=c),Lt===4&&ur(r,it,ms,!1)),Ks(r))}function sw(r,o,c){if((lt&6)!==0)throw Error(s(327));var h=!c&&(o&124)===0&&(o&r.expiredLanes)===0||bi(r,o),v=h?hM(r,o):Dp(r,o,!0),w=h;do{if(v===0){Wa&&!h&&ur(r,o,0,!1);break}else{if(c=r.current.alternate,w&&!uM(c)){v=Dp(r,o,!1),w=!1;continue}if(v===2){if(w=o,r.errorRecoveryDisabledLanes&w)var R=0;else R=r.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var k=r;v=Al;var F=k.current.memoizedState.isDehydrated;if(F&&(eo(k,R).flags|=256),R=Dp(k,R,!1),R!==2){if(xp&&!F){k.errorRecoveryDisabledLanes|=w,Yr|=w,v=4;break e}w=Fn,Fn=v,w!==null&&(Fn===null?Fn=w:Fn.push.apply(Fn,w))}v=R}if(w=!1,v!==2)continue}}if(v===1){eo(r,0),ur(r,o,0,!0);break}e:{switch(h=r,w=v,w){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:ur(h,o,ms,!ar);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(v=Ap+300-bt(),10<v)){if(ur(h,o,ms,!ar),qs(h,0,!0)!==0)break e;h.timeoutHandle=Nw(iw.bind(null,h,c,Fn,Fu,_p,o,ms,Yr,Ka,ar,w,2,-0,0),v);break e}iw(h,c,Fn,Fu,_p,o,ms,Yr,Ka,ar,w,0,-0,0)}}break}while(!0);Ks(r)}function iw(r,o,c,h,v,w,R,k,F,J,le,he,te,ne){if(r.timeoutHandle=-1,he=o.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:GM},K0(o),he=YM(),he!==null)){r.cancelPendingCommit=he(dw.bind(null,r,o,w,c,h,v,R,k,F,le,1,te,ne)),ur(r,w,R,!J);return}dw(r,o,w,c,h,v,R,k,F)}function uM(r){for(var o=r;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var v=c[h],w=v.getSnapshot;v=v.value;try{if(!qn(w(),v))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ur(r,o,c,h){o&=~Sp,o&=~Yr,r.suspendedLanes|=o,r.pingedLanes&=~o,h&&(r.warmLanes|=o),h=r.expirationTimes;for(var v=o;0<v;){var w=31-st(v),R=1<<w;h[w]=-1,v&=~R}c!==0&&Ve(r,c,o)}function zu(){return(lt&6)===0?(Cl(0),!1):!0}function Tp(){if(Je!==null){if(ct===0)var r=Je.return;else r=Je,Ei=Br=null,Gf(r),qa=null,ml=0,r=Je;for(;r!==null;)I0(r.alternate,r),r=r.return;Je=null}}function eo(r,o){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,TM(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Tp(),_t=r,Je=c=Si(r.current,null),it=o,ct=0,Wn=null,ar=!1,Wa=bi(r,o),xp=!1,Ka=ms=Sp=Yr=or=Lt=0,Fn=Al=null,_p=!1,(o&8)!==0&&(o|=o&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=o;0<h;){var v=31-st(h),w=1<<v;o|=r[v],h&=~w}return Pi=o,ou(),c}function rw(r,o){Xe=null,N.H=Cu,o===ol||o===mu?(o=Sy(),ct=3):o===yy?(o=Sy(),ct=4):ct=o===_0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wn=o,Je===null&&(Lt=1,ku(r,ds(o,r.current)))}function aw(){var r=N.H;return N.H=Cu,r===null?Cu:r}function ow(){var r=N.A;return N.A=lM,r}function Mp(){Lt=4,ar||(it&4194048)!==it&&gs.current!==null||(Wa=!0),(or&134217727)===0&&(Yr&134217727)===0||_t===null||ur(_t,it,ms,!1)}function Dp(r,o,c){var h=lt;lt|=2;var v=aw(),w=ow();(_t!==r||it!==o)&&(Fu=null,eo(r,o)),o=!1;var R=Lt;e:do try{if(ct!==0&&Je!==null){var k=Je,F=Wn;switch(ct){case 8:Tp(),R=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(o=!0);var J=ct;if(ct=0,Wn=null,to(r,k,F,J),c&&Wa){R=0;break e}break;default:J=ct,ct=0,Wn=null,to(r,k,F,J)}}dM(),R=Lt;break}catch(le){rw(r,le)}while(!0);return o&&r.shellSuspendCounter++,Ei=Br=null,lt=h,N.H=v,N.A=w,Je===null&&(_t=null,it=0,ou()),R}function dM(){for(;Je!==null;)lw(Je)}function hM(r,o){var c=lt;lt|=2;var h=aw(),v=ow();_t!==r||it!==o?(Fu=null,Iu=bt()+500,eo(r,o)):Wa=bi(r,o);e:do try{if(ct!==0&&Je!==null){o=Je;var w=Wn;t:switch(ct){case 1:ct=0,Wn=null,to(r,o,w,1);break;case 2:case 9:if(wy(w)){ct=0,Wn=null,cw(o);break}o=function(){ct!==2&&ct!==9||_t!==r||(ct=7),Ks(r)},w.then(o,o);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:wy(w)?(ct=0,Wn=null,cw(o)):(ct=0,Wn=null,to(r,o,w,7));break;case 5:var R=null;switch(Je.tag){case 26:R=Je.memoizedState;case 5:case 27:var k=Je;if(!R||Uw(R)){ct=0,Wn=null;var F=k.sibling;if(F!==null)Je=F;else{var J=k.return;J!==null?(Je=J,$u(J)):Je=null}break t}}ct=0,Wn=null,to(r,o,w,5);break;case 6:ct=0,Wn=null,to(r,o,w,6);break;case 8:Tp(),Lt=6;break e;default:throw Error(s(462))}}fM();break}catch(le){rw(r,le)}while(!0);return Ei=Br=null,N.H=h,N.A=v,lt=c,Je!==null?0:(_t=null,it=0,ou(),Lt)}function fM(){for(;Je!==null&&!Et();)lw(Je)}function lw(r){var o=L0(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,o===null?$u(r):Je=o}function cw(r){var o=r,c=o.alternate;switch(o.tag){case 15:case 0:o=M0(c,o,o.pendingProps,o.type,void 0,it);break;case 11:o=M0(c,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:Gf(o);default:I0(c,o),o=Je=uy(o,Pi),o=L0(c,o,Pi)}r.memoizedProps=r.pendingProps,o===null?$u(r):Je=o}function to(r,o,c,h){Ei=Br=null,Gf(o),qa=null,ml=0;var v=o.return;try{if(nM(r,v,o,c,it)){Lt=1,ku(r,ds(c,r.current)),Je=null;return}}catch(w){if(v!==null)throw Je=v,w;Lt=1,ku(r,ds(c,r.current)),Je=null;return}o.flags&32768?(at||h===1?r=!0:Wa||(it&536870912)!==0?r=!1:(ar=r=!0,(h===2||h===9||h===3||h===6)&&(h=gs.current,h!==null&&h.tag===13&&(h.flags|=16384))),uw(o,r)):$u(o)}function $u(r){var o=r;do{if((o.flags&32768)!==0){uw(o,ar);return}r=o.return;var c=iM(o.alternate,o,Pi);if(c!==null){Je=c;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=r}while(o!==null);Lt===0&&(Lt=5)}function uw(r,o){do{var c=rM(r.alternate,r);if(c!==null){c.flags&=32767,Je=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(r=r.sibling,r!==null)){Je=r;return}Je=r=c}while(r!==null);Lt=6,Je=null}function dw(r,o,c,h,v,w,R,k,F){r.cancelPendingCommit=null;do Bu();while(yn!==0);if((lt&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(w=o.lanes|o.childLanes,w|=wf,Zc(r,c,w,R,k,F),r===_t&&(Je=_t=null,it=0),Qa=o,cr=r,Ja=c,Ep=w,Cp=v,tw=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,vM(Q,function(){return mw(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=N.T,N.T=null,v=B.p,B.p=2,R=lt,lt|=4;try{aM(r,o,c)}finally{lt=R,B.p=v,N.T=h}}yn=1,hw(),fw(),pw()}}function hw(){if(yn===1){yn=0;var r=cr,o=Qa,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=N.T,N.T=null;var h=B.p;B.p=2;var v=lt;lt|=4;try{X0(o,r);var w=Hp,R=ey(r.containerInfo),k=w.focusedElem,F=w.selectionRange;if(R!==k&&k&&k.ownerDocument&&Jb(k.ownerDocument.documentElement,k)){if(F!==null&&gf(k)){var J=F.start,le=F.end;if(le===void 0&&(le=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(le,k.value.length);else{var he=k.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ne=te.getSelection(),ze=k.textContent.length,Oe=Math.min(F.start,ze),gt=F.end===void 0?Oe:Math.min(F.end,ze);!ne.extend&&Oe>gt&&(R=gt,gt=Oe,Oe=R);var X=Qb(k,Oe),H=Qb(k,gt);if(X&&H&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var W=he.createRange();W.setStart(X.node,X.offset),ne.removeAllRanges(),Oe>gt?(ne.addRange(W),ne.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),ne.addRange(W))}}}}for(he=[],ne=k;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<he.length;k++){var de=he[k];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Ju=!!Bp,Hp=Bp=null}finally{lt=v,B.p=h,N.T=c}}r.current=o,yn=2}}function fw(){if(yn===2){yn=0;var r=cr,o=Qa,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=N.T,N.T=null;var h=B.p;B.p=2;var v=lt;lt|=4;try{U0(r,o.alternate,o)}finally{lt=v,B.p=h,N.T=c}}yn=3}}function pw(){if(yn===4||yn===3){yn=0,ht();var r=cr,o=Qa,c=Ja,h=tw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?yn=5:(yn=0,Qa=cr=null,gw(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(lr=null),vn(c),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(xe,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=N.T,v=B.p,B.p=2,N.T=null;try{for(var w=r.onRecoverableError,R=0;R<h.length;R++){var k=h[R];w(k.value,{componentStack:k.stack})}}finally{N.T=o,B.p=v}}(Ja&3)!==0&&Bu(),Ks(r),v=r.pendingLanes,(c&4194090)!==0&&(v&42)!==0?r===Rp?El++:(El=0,Rp=r):El=0,Cl(0)}}function gw(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,rl(o)))}function Bu(r){return hw(),fw(),pw(),mw()}function mw(){if(yn!==5)return!1;var r=cr,o=Ep;Ep=0;var c=vn(Ja),h=N.T,v=B.p;try{B.p=32>c?32:c,N.T=null,c=Cp,Cp=null;var w=cr,R=Ja;if(yn=0,Qa=cr=null,Ja=0,(lt&6)!==0)throw Error(s(331));var k=lt;if(lt|=4,J0(w.current),W0(w,w.current,R,c),lt=k,Cl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(xe,w)}catch{}return!0}finally{B.p=v,N.T=h,gw(r,o)}}function vw(r,o,c){o=ds(c,o),o=rp(r.stateNode,o,2),r=Ji(r,o,2),r!==null&&(Xi(r,2),Ks(r))}function yt(r,o,c){if(r.tag===3)vw(r,r,c);else for(;o!==null;){if(o.tag===3){vw(o,r,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(lr===null||!lr.has(h))){r=ds(c,r),c=x0(2),h=Ji(o,c,2),h!==null&&(S0(c,h,o,r),Xi(h,2),Ks(h));break}}o=o.return}}function kp(r,o,c){var h=r.pingCache;if(h===null){h=r.pingCache=new cM;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(c)||(xp=!0,v.add(c),r=pM.bind(null,r,o,c),o.then(r,r))}function pM(r,o,c){var h=r.pingCache;h!==null&&h.delete(o),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,_t===r&&(it&c)===c&&(Lt===4||Lt===3&&(it&62914560)===it&&300>bt()-Ap?(lt&2)===0&&eo(r,0):Sp|=c,Ka===it&&(Ka=0)),Ks(r)}function bw(r,o){o===0&&(o=Xc()),r=ja(r,o),r!==null&&(Xi(r,o),Ks(r))}function gM(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),bw(r,c)}function mM(r,o){var c=0;switch(r.tag){case 13:var h=r.stateNode,v=r.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(o),bw(r,c)}function vM(r,o){return dt(r,o)}var Hu=null,no=null,Np=!1,Vu=!1,Pp=!1,Xr=0;function Ks(r){r!==no&&r.next===null&&(no===null?Hu=no=r:no=no.next=r),Vu=!0,Np||(Np=!0,yM())}function Cl(r,o){if(!Pp&&Vu){Pp=!0;do for(var c=!1,h=Hu;h!==null;){if(r!==0){var v=h.pendingLanes;if(v===0)var w=0;else{var R=h.suspendedLanes,k=h.pingedLanes;w=(1<<31-st(42|r)+1)-1,w&=v&~(R&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Sw(h,w))}else w=it,w=qs(h,h===_t?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||bi(h,w)||(c=!0,Sw(h,w));h=h.next}while(c);Pp=!1}}function bM(){yw()}function yw(){Vu=Np=!1;var r=0;Xr!==0&&(RM()&&(r=Xr),Xr=0);for(var o=bt(),c=null,h=Hu;h!==null;){var v=h.next,w=ww(h,o);w===0?(h.next=null,c===null?Hu=v:c.next=v,v===null&&(no=c)):(c=h,(r!==0||(w&3)!==0)&&(Vu=!0)),h=v}Cl(r)}function ww(r,o){for(var c=r.suspendedLanes,h=r.pingedLanes,v=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var R=31-st(w),k=1<<R,F=v[R];F===-1?((k&c)===0||(k&h)!==0)&&(v[R]=Yi(k,o)):F<=o&&(r.expiredLanes|=k),w&=~k}if(o=_t,c=it,c=qs(r,r===o?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===o&&(ct===2||ct===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Qe(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||bi(r,c)){if(o=c&-c,o===r.callbackPriority)return o;switch(h!==null&&Qe(h),vn(c)){case 2:case 8:c=z;break;case 32:c=Q;break;case 268435456:c=ve;break;default:c=Q}return h=xw.bind(null,r),c=dt(c,h),r.callbackPriority=o,r.callbackNode=c,o}return h!==null&&h!==null&&Qe(h),r.callbackPriority=2,r.callbackNode=null,2}function xw(r,o){if(yn!==0&&yn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Bu()&&r.callbackNode!==c)return null;var h=it;return h=qs(r,r===_t?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(sw(r,h,o),ww(r,bt()),r.callbackNode!=null&&r.callbackNode===c?xw.bind(null,r):null)}function Sw(r,o){if(Bu())return null;sw(r,o,!0)}function yM(){MM(function(){(lt&6)!==0?dt(It,bM):yw()})}function Op(){return Xr===0&&(Xr=Ts()),Xr}function _w(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:eu(""+r)}function Aw(r,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,r.id&&c.setAttribute("form",r.id),o.parentNode.insertBefore(c,o),r=new FormData(r),c.parentNode.removeChild(c),r}function wM(r,o,c,h,v){if(o==="submit"&&c&&c.stateNode===v){var w=_w((v[St]||null).action),R=h.submitter;R&&(o=(o=R[St]||null)?_w(o.formAction):R.getAttribute("formAction"),o!==null&&(w=o,R=null));var k=new iu("action","action",null,h,v);r.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xr!==0){var F=R?Aw(v,R):new FormData(v);ep(c,{pending:!0,data:F,method:v.method,action:w},null,F)}}else typeof w=="function"&&(k.preventDefault(),F=R?Aw(v,R):new FormData(v),ep(c,{pending:!0,data:F,method:v.method,action:w},w,F))},currentTarget:v}]})}}for(var Lp=0;Lp<yf.length;Lp++){var jp=yf[Lp],xM=jp.toLowerCase(),SM=jp[0].toUpperCase()+jp.slice(1);Ms(xM,"on"+SM)}Ms(sy,"onAnimationEnd"),Ms(iy,"onAnimationIteration"),Ms(ry,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(zT,"onTransitionRun"),Ms($T,"onTransitionStart"),Ms(BT,"onTransitionCancel"),Ms(ay,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_M=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Ew(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],v=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var R=h.length-1;0<=R;R--){var k=h[R],F=k.instance,J=k.currentTarget;if(k=k.listener,F!==w&&v.isPropagationStopped())break e;w=k,v.currentTarget=J;try{w(v)}catch(le){Du(le)}v.currentTarget=null,w=F}else for(R=0;R<h.length;R++){if(k=h[R],F=k.instance,J=k.currentTarget,k=k.listener,F!==w&&v.isPropagationStopped())break e;w=k,v.currentTarget=J;try{w(v)}catch(le){Du(le)}v.currentTarget=null,w=F}}}}function et(r,o){var c=o[Sa];c===void 0&&(c=o[Sa]=new Set);var h=r+"__bubble";c.has(h)||(Cw(o,r,2,!1),c.add(h))}function Ip(r,o,c){var h=0;o&&(h|=4),Cw(c,r,h,o)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Fp(r){if(!r[Uu]){r[Uu]=!0,yb.forEach(function(c){c!=="selectionchange"&&(_M.has(c)||Ip(c,!1,r),Ip(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Uu]||(o[Uu]=!0,Ip("selectionchange",!1,o))}}function Cw(r,o,c,h){switch(Ww(o)){case 2:var v=WM;break;case 8:v=KM;break;default:v=Qp}c=v.bind(null,o,c,r),v=void 0,!af||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?r.addEventListener(o,c,{capture:!0,passive:v}):r.addEventListener(o,c,!0):v!==void 0?r.addEventListener(o,c,{passive:v}):r.addEventListener(o,c,!1)}function zp(r,o,c,h,v){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var k=h.stateNode.containerInfo;if(k===v)break;if(R===4)for(R=h.return;R!==null;){var F=R.tag;if((F===3||F===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;k!==null;){if(R=_a(k),R===null)return;if(F=R.tag,F===5||F===6||F===26||F===27){h=w=R;continue e}k=k.parentNode}}h=h.return}Pb(function(){var J=w,le=sf(c),he=[];e:{var te=oy.get(r);if(te!==void 0){var ne=iu,ze=r;switch(r){case"keypress":if(nu(c)===0)break e;case"keydown":case"keyup":ne=vT;break;case"focusin":ze="focus",ne=uf;break;case"focusout":ze="blur",ne=uf;break;case"beforeblur":case"afterblur":ne=uf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=rT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=wT;break;case sy:case iy:case ry:ne=lT;break;case ay:ne=ST;break;case"scroll":case"scrollend":ne=sT;break;case"wheel":ne=AT;break;case"copy":case"cut":case"paste":ne=uT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Fb;break;case"toggle":case"beforetoggle":ne=CT}var Oe=(o&4)!==0,gt=!Oe&&(r==="scroll"||r==="scrollend"),X=Oe?te!==null?te+"Capture":null:te;Oe=[];for(var H=J,W;H!==null;){var de=H;if(W=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||W===null||X===null||(de=qo(H,X),de!=null&&Oe.push(Tl(H,de,W))),gt)break;H=H.return}0<Oe.length&&(te=new ne(te,ze,null,c,le),he.push({event:te,listeners:Oe}))}}if((o&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&c!==nf&&(ze=c.relatedTarget||c.fromElement)&&(_a(ze)||ze[cn]))break e;if((ne||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(ze=c.relatedTarget||c.toElement,ne=J,ze=ze?_a(ze):null,ze!==null&&(gt=a(ze),Oe=ze.tag,ze!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(ze=null)):(ne=null,ze=J),ne!==ze)){if(Oe=jb,de="onMouseLeave",X="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Fb,de="onPointerLeave",X="onPointerEnter",H="pointer"),gt=ne==null?te:Go(ne),W=ze==null?te:Go(ze),te=new Oe(de,H+"leave",ne,c,le),te.target=gt,te.relatedTarget=W,de=null,_a(le)===J&&(Oe=new Oe(X,H+"enter",ze,c,le),Oe.target=W,Oe.relatedTarget=gt,de=Oe),gt=de,ne&&ze)t:{for(Oe=ne,X=ze,H=0,W=Oe;W;W=so(W))H++;for(W=0,de=X;de;de=so(de))W++;for(;0<H-W;)Oe=so(Oe),H--;for(;0<W-H;)X=so(X),W--;for(;H--;){if(Oe===X||X!==null&&Oe===X.alternate)break t;Oe=so(Oe),X=so(X)}Oe=null}else Oe=null;ne!==null&&Rw(he,te,ne,Oe,!1),ze!==null&&gt!==null&&Rw(he,gt,ze,Oe,!0)}}e:{if(te=J?Go(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ae=qb;else if(Ub(te))if(Yb)Ae=jT;else{Ae=OT;var We=PT}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&tf(J.elementType)&&(Ae=qb):Ae=LT;if(Ae&&(Ae=Ae(r,J))){Gb(he,Ae,c,le);break e}We&&We(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&ef(te,"number",te.value)}switch(We=J?Go(J):window,r){case"focusin":(Ub(We)||We.contentEditable==="true")&&(Pa=We,mf=J,el=null);break;case"focusout":el=mf=Pa=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,ty(he,c,le);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":ty(he,c,le)}var Re;if(hf)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Na?Hb(r,c)&&(Le="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(zb&&c.locale!=="ko"&&(Na||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Na&&(Re=Ob()):(Zi=le,of="value"in Zi?Zi.value:Zi.textContent,Na=!0)),We=Gu(J,Le),0<We.length&&(Le=new Ib(Le,r,null,c,le),he.push({event:Le,listeners:We}),Re?Le.data=Re:(Re=Vb(c),Re!==null&&(Le.data=Re)))),(Re=TT?MT(r,c):DT(r,c))&&(Le=Gu(J,"onBeforeInput"),0<Le.length&&(We=new Ib("onBeforeInput","beforeinput",null,c,le),he.push({event:We,listeners:Le}),We.data=Re)),wM(he,r,J,c,le)}Ew(he,o)})}function Tl(r,o,c){return{instance:r,listener:o,currentTarget:c}}function Gu(r,o){for(var c=o+"Capture",h=[];r!==null;){var v=r,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=qo(r,c),v!=null&&h.unshift(Tl(r,v,w)),v=qo(r,o),v!=null&&h.push(Tl(r,v,w))),r.tag===3)return h;r=r.return}return[]}function so(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Rw(r,o,c,h,v){for(var w=o._reactName,R=[];c!==null&&c!==h;){var k=c,F=k.alternate,J=k.stateNode;if(k=k.tag,F!==null&&F===h)break;k!==5&&k!==26&&k!==27||J===null||(F=J,v?(J=qo(c,w),J!=null&&R.unshift(Tl(c,J,F))):v||(J=qo(c,w),J!=null&&R.push(Tl(c,J,F)))),c=c.return}R.length!==0&&r.push({event:o,listeners:R})}var AM=/\r\n?/g,EM=/\u0000|\uFFFD/g;function Tw(r){return(typeof r=="string"?r:""+r).replace(AM,`
`).replace(EM,"")}function Mw(r,o){return o=Tw(o),Tw(r)===o}function qu(){}function pt(r,o,c,h,v,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ma(r,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ma(r,""+h);break;case"className":Kc(r,"class",h);break;case"tabIndex":Kc(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(r,c,h);break;case"style":kb(r,h,w);break;case"data":if(o!=="object"){Kc(r,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=eu(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&pt(r,o,"name",v.name,v,null),pt(r,o,"formEncType",v.formEncType,v,null),pt(r,o,"formMethod",v.formMethod,v,null),pt(r,o,"formTarget",v.formTarget,v,null)):(pt(r,o,"encType",v.encType,v,null),pt(r,o,"method",v.method,v,null),pt(r,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=eu(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=qu);break;case"onScroll":h!=null&&et("scroll",r);break;case"onScrollEnd":h!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=eu(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":et("beforetoggle",r),et("toggle",r),Wc(r,"popover",h);break;case"xlinkActuate":wi(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":wi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":wi(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":wi(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":wi(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":wi(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":wi(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":wi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":wi(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Wc(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=tT.get(c)||c,Wc(r,c,h))}}function $p(r,o,c,h,v,w){switch(c){case"style":kb(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(c=h.__html,c!=null){if(v.children!=null)throw Error(s(60));r.innerHTML=c}}break;case"children":typeof h=="string"?Ma(r,h):(typeof h=="number"||typeof h=="bigint")&&Ma(r,""+h);break;case"onScroll":h!=null&&et("scroll",r);break;case"onScrollEnd":h!=null&&et("scrollend",r);break;case"onClick":h!=null&&(r.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wb.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),o=c.slice(2,v?c.length-7:void 0),w=r[St]||null,w=w!=null?w[c]:null,typeof w=="function"&&r.removeEventListener(o,w,v),typeof h=="function")){typeof w!="function"&&w!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(o,h,v);break e}c in r?r[c]=h:h===!0?r.setAttribute(c,""):Wc(r,c,h)}}}function wn(r,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var h=!1,v=!1,w;for(w in c)if(c.hasOwnProperty(w)){var R=c[w];if(R!=null)switch(w){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:pt(r,o,w,R,c,null)}}v&&pt(r,o,"srcSet",c.srcSet,c,null),h&&pt(r,o,"src",c.src,c,null);return;case"input":et("invalid",r);var k=w=R=v=null,F=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var le=c[h];if(le!=null)switch(h){case"name":v=le;break;case"type":R=le;break;case"checked":F=le;break;case"defaultChecked":J=le;break;case"value":w=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,o));break;default:pt(r,o,h,le,c,null)}}Rb(r,w,k,F,J,R,v,!1),Qc(r);return;case"select":et("invalid",r),h=R=w=null;for(v in c)if(c.hasOwnProperty(v)&&(k=c[v],k!=null))switch(v){case"value":w=k;break;case"defaultValue":R=k;break;case"multiple":h=k;default:pt(r,o,v,k,c,null)}o=w,c=R,r.multiple=!!h,o!=null?Ta(r,!!h,o,!1):c!=null&&Ta(r,!!h,c,!0);return;case"textarea":et("invalid",r),w=v=h=null;for(R in c)if(c.hasOwnProperty(R)&&(k=c[R],k!=null))switch(R){case"value":h=k;break;case"defaultValue":v=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:pt(r,o,R,k,c,null)}Mb(r,h,v,w),Qc(r);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(h=c[F],h!=null))switch(F){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:pt(r,o,F,h,c,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(h=0;h<Rl.length;h++)et(Rl[h],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:pt(r,o,J,h,c,null)}return;default:if(tf(o)){for(le in c)c.hasOwnProperty(le)&&(h=c[le],h!==void 0&&$p(r,o,le,h,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(h=c[k],h!=null&&pt(r,o,k,h,c,null))}function CM(r,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,R=null,k=null,F=null,J=null,le=null;for(ne in c){var he=c[ne];if(c.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":F=he;default:h.hasOwnProperty(ne)||pt(r,o,ne,null,h,he)}}for(var te in h){var ne=h[te];if(he=c[te],h.hasOwnProperty(te)&&(ne!=null||he!=null))switch(te){case"type":w=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":le=ne;break;case"value":R=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,o));break;default:ne!==he&&pt(r,o,te,ne,h,he)}}Jh(r,R,k,F,J,le,w,v);return;case"select":ne=R=k=te=null;for(w in c)if(F=c[w],c.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":ne=F;default:h.hasOwnProperty(w)||pt(r,o,w,null,h,F)}for(v in h)if(w=h[v],F=c[v],h.hasOwnProperty(v)&&(w!=null||F!=null))switch(v){case"value":te=w;break;case"defaultValue":k=w;break;case"multiple":R=w;default:w!==F&&pt(r,o,v,w,h,F)}o=k,c=R,h=ne,te!=null?Ta(r,!!c,te,!1):!!h!=!!c&&(o!=null?Ta(r,!!c,o,!0):Ta(r,!!c,c?[]:"",!1));return;case"textarea":ne=te=null;for(k in c)if(v=c[k],c.hasOwnProperty(k)&&v!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:pt(r,o,k,null,h,v)}for(R in h)if(v=h[R],w=c[R],h.hasOwnProperty(R)&&(v!=null||w!=null))switch(R){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==w&&pt(r,o,R,v,h,w)}Tb(r,te,ne);return;case"option":for(var ze in c)if(te=c[ze],c.hasOwnProperty(ze)&&te!=null&&!h.hasOwnProperty(ze))switch(ze){case"selected":r.selected=!1;break;default:pt(r,o,ze,null,h,te)}for(F in h)if(te=h[F],ne=c[F],h.hasOwnProperty(F)&&te!==ne&&(te!=null||ne!=null))switch(F){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:pt(r,o,F,te,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)te=c[Oe],c.hasOwnProperty(Oe)&&te!=null&&!h.hasOwnProperty(Oe)&&pt(r,o,Oe,null,h,te);for(J in h)if(te=h[J],ne=c[J],h.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,o));break;default:pt(r,o,J,te,h,ne)}return;default:if(tf(o)){for(var gt in c)te=c[gt],c.hasOwnProperty(gt)&&te!==void 0&&!h.hasOwnProperty(gt)&&$p(r,o,gt,void 0,h,te);for(le in h)te=h[le],ne=c[le],!h.hasOwnProperty(le)||te===ne||te===void 0&&ne===void 0||$p(r,o,le,te,h,ne);return}}for(var X in c)te=c[X],c.hasOwnProperty(X)&&te!=null&&!h.hasOwnProperty(X)&&pt(r,o,X,null,h,te);for(he in h)te=h[he],ne=c[he],!h.hasOwnProperty(he)||te===ne||te==null&&ne==null||pt(r,o,he,te,h,ne)}var Bp=null,Hp=null;function Yu(r){return r.nodeType===9?r:r.ownerDocument}function Dw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Vp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Up=null;function RM(){var r=window.event;return r&&r.type==="popstate"?r===Up?!1:(Up=r,!0):(Up=null,!1)}var Nw=typeof setTimeout=="function"?setTimeout:void 0,TM=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(r){return Pw.resolve(null).then(r).catch(DM)}:Nw;function DM(r){setTimeout(function(){throw r})}function dr(r){return r==="head"}function Ow(r,o){var c=o,h=0,v=0;do{var w=c.nextSibling;if(r.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(0<h&&8>h){c=h;var R=r.ownerDocument;if(c&1&&Ml(R.documentElement),c&2&&Ml(R.body),c&4)for(c=R.head,Ml(c),R=c.firstChild;R;){var k=R.nextSibling,F=R.nodeName;R[Uo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=k}}if(v===0){r.removeChild(w),Il(o);return}v--}else c==="$"||c==="$?"||c==="$!"?v++:h=c.charCodeAt(0)-48;else h=0;c=w}while(c);Il(o)}function Gp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Gp(c),Zh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function kM(r,o,c,h){for(;r.nodeType===1;){var v=c;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Uo])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=ks(r.nextSibling),r===null)break}return null}function NM(r,o,c){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=ks(r.nextSibling),r===null))return null;return r}function qp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function PM(r,o){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function ks(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return r}var Yp=null;function Lw(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}function jw(r,o,c){switch(o=Yu(c),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Ml(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);Zh(r)}var vs=new Map,Iw=new Set;function Xu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oi=B.d;B.d={f:OM,r:LM,D:jM,C:IM,L:FM,m:zM,X:BM,S:$M,M:HM};function OM(){var r=Oi.f(),o=zu();return r||o}function LM(r){var o=Aa(r);o!==null&&o.tag===5&&o.type==="form"?s0(o):Oi.r(r)}var io=typeof document>"u"?null:document;function Fw(r,o,c){var h=io;if(h&&typeof o=="string"&&o){var v=us(o);v='link[rel="'+r+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),Iw.has(v)||(Iw.add(v),r={rel:r,crossOrigin:c,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),wn(o,"link",r),un(o),h.head.appendChild(o)))}}function jM(r){Oi.D(r),Fw("dns-prefetch",r,null)}function IM(r,o){Oi.C(r,o),Fw("preconnect",r,o)}function FM(r,o,c){Oi.L(r,o,c);var h=io;if(h&&r&&o){var v='link[rel="preload"][as="'+us(o)+'"]';o==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+us(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+us(c.imageSizes)+'"]')):v+='[href="'+us(r)+'"]';var w=v;switch(o){case"style":w=ro(r);break;case"script":w=ao(r)}vs.has(w)||(r=p({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:r,as:o},c),vs.set(w,r),h.querySelector(v)!==null||o==="style"&&h.querySelector(Dl(w))||o==="script"&&h.querySelector(kl(w))||(o=h.createElement("link"),wn(o,"link",r),un(o),h.head.appendChild(o)))}}function zM(r,o){Oi.m(r,o);var c=io;if(c&&r){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+us(h)+'"][href="'+us(r)+'"]',w=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ao(r)}if(!vs.has(w)&&(r=p({rel:"modulepreload",href:r},o),vs.set(w,r),c.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(kl(w)))return}h=c.createElement("link"),wn(h,"link",r),un(h),c.head.appendChild(h)}}}function $M(r,o,c){Oi.S(r,o,c);var h=io;if(h&&r){var v=Ea(h).hoistableStyles,w=ro(r);o=o||"default";var R=v.get(w);if(!R){var k={loading:0,preload:null};if(R=h.querySelector(Dl(w)))k.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},c),(c=vs.get(w))&&Xp(r,c);var F=R=h.createElement("link");un(F),wn(F,"link",r),F._p=new Promise(function(J,le){F.onload=J,F.onerror=le}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Zu(R,o,h)}R={type:"stylesheet",instance:R,count:1,state:k},v.set(w,R)}}}function BM(r,o){Oi.X(r,o);var c=io;if(c&&r){var h=Ea(c).hoistableScripts,v=ao(r),w=h.get(v);w||(w=c.querySelector(kl(v)),w||(r=p({src:r,async:!0},o),(o=vs.get(v))&&Zp(r,o),w=c.createElement("script"),un(w),wn(w,"link",r),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function HM(r,o){Oi.M(r,o);var c=io;if(c&&r){var h=Ea(c).hoistableScripts,v=ao(r),w=h.get(v);w||(w=c.querySelector(kl(v)),w||(r=p({src:r,async:!0,type:"module"},o),(o=vs.get(v))&&Zp(r,o),w=c.createElement("script"),un(w),wn(w,"link",r),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(v,w))}}function zw(r,o,c,h){var v=(v=ee.current)?Xu(v):null;if(!v)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=ro(c.href),c=Ea(v).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=ro(c.href);var w=Ea(v).hoistableStyles,R=w.get(r);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,R),(w=v.querySelector(Dl(r)))&&!w._p&&(R.instance=w,R.state.loading=5),vs.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vs.set(r,c),w||VM(v,r,c,R.state))),o&&h===null)throw Error(s(528,""));return R}if(o&&h!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ao(c),c=Ea(v).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ro(r){return'href="'+us(r)+'"'}function Dl(r){return'link[rel="stylesheet"]['+r+"]"}function $w(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function VM(r,o,c,h){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=r.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),wn(o,"link",c),un(o),r.head.appendChild(o))}function ao(r){return'[src="'+us(r)+'"]'}function kl(r){return"script[async]"+r}function Bw(r,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=r.querySelector('style[data-href~="'+us(c.href)+'"]');if(h)return o.instance=h,un(h),h;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),un(h),wn(h,"style",v),Zu(h,c.precedence,r),o.instance=h;case"stylesheet":v=ro(c.href);var w=r.querySelector(Dl(v));if(w)return o.state.loading|=4,o.instance=w,un(w),w;h=$w(c),(v=vs.get(v))&&Xp(h,v),w=(r.ownerDocument||r).createElement("link"),un(w);var R=w;return R._p=new Promise(function(k,F){R.onload=k,R.onerror=F}),wn(w,"link",h),o.state.loading|=4,Zu(w,c.precedence,r),o.instance=w;case"script":return w=ao(c.src),(v=r.querySelector(kl(w)))?(o.instance=v,un(v),v):(h=c,(v=vs.get(w))&&(h=p({},c),Zp(h,v)),r=r.ownerDocument||r,v=r.createElement("script"),un(v),wn(v,"link",h),r.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Zu(h,c.precedence,r));return o.instance}function Zu(r,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,w=v,R=0;R<h.length;R++){var k=h[R];if(k.dataset.precedence===o)w=k;else if(w!==v)break}w?w.parentNode.insertBefore(r,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(r,o.firstChild))}function Xp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Zp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Wu=null;function Hw(r,o,c){if(Wu===null){var h=new Map,v=Wu=new Map;v.set(c,h)}else v=Wu,h=v.get(c),h||(h=new Map,v.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),v=0;v<c.length;v++){var w=c[v];if(!(w[Uo]||w[$t]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(o)||"";R=r+R;var k=h.get(R);k?k.push(w):h.set(R,[w])}}return h}function Vw(r,o,c){r=r.ownerDocument||r,r.head.insertBefore(c,o==="title"?r.querySelector("head > title"):null)}function UM(r,o,c){if(c===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Uw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Nl=null;function GM(){}function qM(r,o,c){if(Nl===null)throw Error(s(475));var h=Nl;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=ro(c.href),w=r.querySelector(Dl(v));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Ku.bind(h),r.then(h,h)),o.state.loading|=4,o.instance=w,un(w);return}w=r.ownerDocument||r,c=$w(c),(v=vs.get(v))&&Xp(c,v),w=w.createElement("link"),un(w);var R=w;R._p=new Promise(function(k,F){R.onload=k,R.onerror=F}),wn(w,"link",c),o.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Ku.bind(h),r.addEventListener("load",o),r.addEventListener("error",o))}}function YM(){if(Nl===null)throw Error(s(475));var r=Nl;return r.stylesheets&&r.count===0&&Wp(r,r.stylesheets),0<r.count?function(o){var c=setTimeout(function(){if(r.stylesheets&&Wp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qu=null;function Wp(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qu=new Map,o.forEach(XM,r),Qu=null,Ku.call(r))}function XM(r,o){if(!(o.state.loading&4)){var c=Qu.get(r);if(c)var h=c.get(null);else{c=new Map,Qu.set(r,c);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var R=v[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),h=R)}h&&c.set(null,h)}v=o.instance,R=v.getAttribute("data-precedence"),w=c.get(R)||h,w===h&&c.set(null,v),c.set(R,v),this.count++,h=Ku.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),w?w.parentNode.insertBefore(v,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),o.state.loading|=4}}var Pl={$$typeof:T,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function ZM(r,o,c,h,v,w,R,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.hiddenUpdates=Vo(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Gw(r,o,c,h,v,w,R,k,F,J,le,he){return r=new ZM(r,o,c,R,k,F,J,he),o=1,w===!0&&(o|=24),w=Yn(3,null,null,o),r.current=w,w.stateNode=r,o=kf(),o.refCount++,r.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},Lf(w),r}function qw(r){return r?(r=Ia,r):Ia}function Yw(r,o,c,h,v,w){v=qw(v),h.context===null?h.context=v:h.pendingContext=v,h=Qi(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=Ji(r,h,o),c!==null&&(Qn(c,r,o),cl(c,r,o))}function Xw(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function Kp(r,o){Xw(r,o),(r=r.alternate)&&Xw(r,o)}function Zw(r){if(r.tag===13){var o=ja(r,67108864);o!==null&&Qn(o,r,67108864),Kp(r,67108864)}}var Ju=!0;function WM(r,o,c,h){var v=N.T;N.T=null;var w=B.p;try{B.p=2,Qp(r,o,c,h)}finally{B.p=w,N.T=v}}function KM(r,o,c,h){var v=N.T;N.T=null;var w=B.p;try{B.p=8,Qp(r,o,c,h)}finally{B.p=w,N.T=v}}function Qp(r,o,c,h){if(Ju){var v=Jp(h);if(v===null)zp(r,o,h,ed,c),Kw(r,h);else if(JM(v,r,o,c,h))h.stopPropagation();else if(Kw(r,h),o&4&&-1<QM.indexOf(r)){for(;v!==null;){var w=Aa(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=ls(w.pendingLanes);if(R!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var F=1<<31-st(R);k.entanglements[1]|=F,R&=~F}Ks(w),(lt&6)===0&&(Iu=bt()+500,Cl(0))}}break;case 13:k=ja(w,2),k!==null&&Qn(k,w,2),zu(),Kp(w,2)}if(w=Jp(h),w===null&&zp(r,o,h,ed,c),w===v)break;v=w}v!==null&&h.stopPropagation()}else zp(r,o,h,null,c)}}function Jp(r){return r=sf(r),eg(r)}var ed=null;function eg(r){if(ed=null,r=_a(r),r!==null){var o=a(r);if(o===null)r=null;else{var c=o.tag;if(c===13){if(r=l(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return ed=r,null}function Ww(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case It:return 2;case z:return 8;case Q:case ie:return 32;case ve:return 268435456;default:return 32}default:return 32}}var tg=!1,hr=null,fr=null,pr=null,Ol=new Map,Ll=new Map,gr=[],QM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kw(r,o){switch(r){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Ol.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(o.pointerId)}}function jl(r,o,c,h,v,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Aa(o),o!==null&&Zw(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),r)}function JM(r,o,c,h,v){switch(o){case"focusin":return hr=jl(hr,r,o,c,h,v),!0;case"dragenter":return fr=jl(fr,r,o,c,h,v),!0;case"mouseover":return pr=jl(pr,r,o,c,h,v),!0;case"pointerover":var w=v.pointerId;return Ol.set(w,jl(Ol.get(w)||null,r,o,c,h,v)),!0;case"gotpointercapture":return w=v.pointerId,Ll.set(w,jl(Ll.get(w)||null,r,o,c,h,v)),!0}return!1}function Qw(r){var o=_a(r.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){r.blockedOn=o,nn(r.priority,function(){if(c.tag===13){var h=Kn();h=Zt(h);var v=ja(c,h);v!==null&&Qn(v,c,h),Kp(c,h)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function td(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=Jp(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);nf=h,c.target.dispatchEvent(h),nf=null}else return o=Aa(c),o!==null&&Zw(o),r.blockedOn=c,!1;o.shift()}return!0}function Jw(r,o,c){td(r)&&c.delete(o)}function eD(){tg=!1,hr!==null&&td(hr)&&(hr=null),fr!==null&&td(fr)&&(fr=null),pr!==null&&td(pr)&&(pr=null),Ol.forEach(Jw),Ll.forEach(Jw)}function nd(r,o){r.blockedOn===o&&(r.blockedOn=null,tg||(tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eD)))}var sd=null;function ex(r){sd!==r&&(sd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sd===r&&(sd=null);for(var o=0;o<r.length;o+=3){var c=r[o],h=r[o+1],v=r[o+2];if(typeof h!="function"){if(eg(h||c)===null)continue;break}var w=Aa(c);w!==null&&(r.splice(o,3),o-=3,ep(w,{pending:!0,data:v,method:c.method,action:h},h,v))}}))}function Il(r){function o(F){return nd(F,r)}hr!==null&&nd(hr,r),fr!==null&&nd(fr,r),pr!==null&&nd(pr,r),Ol.forEach(o),Ll.forEach(o);for(var c=0;c<gr.length;c++){var h=gr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<gr.length&&(c=gr[0],c.blockedOn===null);)Qw(c),c.blockedOn===null&&gr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],R=v[St]||null;if(typeof w=="function")R||ex(c);else if(R){var k=null;if(w&&w.hasAttribute("formAction")){if(v=w,R=w[St]||null)k=R.formAction;else if(eg(v)!==null)continue}else k=R.action;typeof k=="function"?c[h+1]=k:(c.splice(h,3),h-=3),ex(c)}}}function ng(r){this._internalRoot=r}id.prototype.render=ng.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,h=Kn();Yw(c,h,r,o,null,null)},id.prototype.unmount=ng.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Yw(r.current,2,null,r,null,null),zu(),o[cn]=null}};function id(r){this._internalRoot=r}id.prototype.unstable_scheduleHydration=function(r){if(r){var o=kr();r={blockedOn:null,target:r,priority:o};for(var c=0;c<gr.length&&o!==0&&o<gr[c].priority;c++);gr.splice(c,0,r),c===0&&Qw(r)}};var tx=e.version;if(tx!=="19.1.0")throw Error(s(527,tx,"19.1.0"));B.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(o),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var tD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{xe=rd.inject(tD),ke=rd}catch{}}return zl.createRoot=function(r,o){if(!i(r))throw Error(s(299));var c=!1,h="",v=v0,w=b0,R=y0,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=Gw(r,1,!1,null,null,c,h,v,w,R,k,null),r[cn]=o.current,Fp(r),new ng(o)},zl.hydrateRoot=function(r,o,c){if(!i(r))throw Error(s(299));var h=!1,v="",w=v0,R=b0,k=y0,F=null,J=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(F=c.unstable_transitionCallbacks),c.formState!==void 0&&(J=c.formState)),o=Gw(r,1,!0,o,c??null,h,v,w,R,k,F,J),o.context=qw(null),c=o.current,h=Kn(),h=Zt(h),v=Qi(h),v.callback=null,Ji(c,v,h),c=h,o.current.lanes=c,Xi(o,c),Ks(o),r[cn]=o.current,Fp(r),new id(o)},zl.version="19.1.0",zl}var fx;function dD(){if(fx)return ag.exports;fx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ag.exports=uD(),ag.exports}var hD=dD();const kn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Xg=[.001,0,0,.001,0,0],ug=1.35,Jn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ai={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},fD="pdfjs_internal_editor_",Be={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},nt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},N_={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Cn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ec={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Vt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},fo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},_c={ERRORS:0,WARNINGS:1,INFOS:5},oc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ad={moveTo:0,lineTo:1,curveTo:2,closePath:3},P_={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ah=_c.WARNINGS;function pD(n){Number.isInteger(n)&&(ah=n)}function gD(){return ah}function oh(n){ah>=_c.INFOS&&console.log(`Info: ${n}`)}function Ue(n){ah>=_c.WARNINGS&&console.log(`Warning: ${n}`)}function mt(n){throw new Error(n)}function en(n,e){n||mt(e)}function mD(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Fm(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=xD(n)}catch{}const s=e?URL.parse(n,e):URL.parse(n);return mD(s)?s:null}function zm(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&Fm(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function tt(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const da=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class px extends da{constructor(e,t){super(e,"PasswordException"),this.code=t}}class dg extends da{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class $d extends da{constructor(e){super(e,"InvalidPDFException")}}class lc extends da{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class vD extends da{constructor(e){super(e,"FormatError")}}class Hi extends da{constructor(e){super(e,"AbortException")}}function O_(n){(typeof n!="object"||n?.length===void 0)&&mt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const a=Math.min(i+t,e),l=n.subarray(i,a);s.push(String.fromCharCode.apply(null,l))}return s.join("")}function Ac(n){typeof n!="string"&&mt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function bD(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function yD(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function wD(){try{return new Function(""),!0}catch{return!1}}class gn{static get isLittleEndian(){return tt(this,"isLittleEndian",yD())}static get isEvalSupported(){return tt(this,"isEvalSupported",wD())}static get isOffscreenCanvasSupported(){return tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return tt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return tt(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return tt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class Te{static makeHexColor(e,t,s){return`#${hg[e]}${hg[t]}${hg[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,s=0){const i=e[s],a=e[s+1];e[s]=i*t[0]+a*t[2]+t[4],e[s+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const i=t[0],a=t[1],l=t[2],u=t[3],d=t[4],f=t[5];for(let p=0;p<6;p+=2){const g=e[s+p],m=e[s+p+1];e[s+p]=g*i+m*l+d,e[s+p+1]=g*a+m*u+f}}static applyInverseTransform(e,t){const s=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-s*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,s){const i=t[0],a=t[1],l=t[2],u=t[3],d=t[4],f=t[5],p=e[0],g=e[1],m=e[2],b=e[3];let S=i*p+d,x=S,A=i*m+d,E=A,C=u*g+f,T=C,D=u*b+f,M=D;if(a!==0||l!==0){const O=a*p,L=a*m,I=l*g,j=l*b;S+=I,E+=I,A+=j,x+=j,C+=O,M+=O,D+=L,T+=L}s[0]=Math.min(s[0],S,A,x,E),s[1]=Math.min(s[1],C,D,T,M),s[2]=Math.max(s[2],S,A,x,E),s[3]=Math.max(s[3],C,D,T,M)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],i=e[1],a=e[2],l=e[3],u=s**2+i**2,d=s*a+i*l,f=a**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));t[0]=Math.sqrt(p+g||1),t[1]=Math.sqrt(p-g||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[s,a,i,l]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,i,a){a[0]=Math.min(a[0],e,s),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,s),a[3]=Math.max(a[3],t,i)}static#e(e,t,s,i,a,l,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,m=f*f,b=m*f,S=g*(g*(g*e+3*f*t)+3*m*s)+b*i,x=g*(g*(g*a+3*f*l)+3*m*u)+b*d;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],x),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],x)}static#t(e,t,s,i,a,l,u,d,f,p,g,m){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#e(e,t,s,i,a,l,u,d,-g/p,m);return}const b=p**2-4*g*f;if(b<0)return;const S=Math.sqrt(b),x=2*f;this.#e(e,t,s,i,a,l,u,d,(-p+S)/x,m),this.#e(e,t,s,i,a,l,u,d,(-p-S)/x,m)}static bezierBoundingBox(e,t,s,i,a,l,u,d,f){f[0]=Math.min(f[0],e,u),f[1]=Math.min(f[1],t,d),f[2]=Math.max(f[2],e,u),f[3]=Math.max(f[3],t,d),this.#t(e,s,a,u,t,i,l,d,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),f),this.#t(e,s,a,u,t,i,l,d,3*(-t+3*(i-l)+d),6*(t-2*i+l),3*(i-t),f)}}function xD(n){return decodeURIComponent(escape(n))}let fg=null,gx=null;function L_(n){return fg||(fg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gx=new Map([["ﬅ","ſt"]])),n.replaceAll(fg,(e,t,s)=>t?t.normalize("NFKC"):gx.get(s))}function $m(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),O_(n)}const Bm="pdfjs_internal_id_";function SD(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,i,...a]=t;if(!n(s)&&!Number.isInteger(s)||!e(i))return!1;const l=a.length;let u=!0;switch(i.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function Rn(n,e,t){return Math.min(Math.max(n,e),t)}function j_(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(O_(n))}function _D(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Ac(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Ii="http://www.w3.org/2000/svg";class ia{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Do(n,e="text"){if(Wl(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class Ec{constructor({viewBox:e,userUnit:t,scale:s,rotation:i,offsetX:a=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=i,this.offsetX=a,this.offsetY=l,s*=t;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,g,m,b;switch(i%=360,i<0&&(i+=360),i){case 180:p=-1,g=0,m=0,b=1;break;case 90:p=0,g=1,m=1,b=0;break;case 270:p=0,g=-1,m=-1,b=0;break;case 0:p=1,g=0,m=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(m=-m,b=-b);let S,x,A,E;p===0?(S=Math.abs(f-e[1])*s+a,x=Math.abs(d-e[0])*s+l,A=(e[3]-e[1])*s,E=(e[2]-e[0])*s):(S=Math.abs(d-e[0])*s+a,x=Math.abs(f-e[1])*s+l,A=(e[2]-e[0])*s,E=(e[3]-e[1])*s),this.transform=[p*s,g*s,m*s,b*s,S-p*s*d-m*s*f,x-g*s*d-b*s*f],this.width=A,this.height=E}get rawDims(){const e=this.viewBox;return tt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Ec({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const s=[e,t];return Te.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];Te.applyTransform(t,this.transform);const s=[e[2],e[3]];return Te.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return Te.applyInverseTransform(s,this.transform),s}}class lh extends da{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Cc(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ch(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function I_(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function F_(n,e="document.pdf"){if(typeof n!="string")return e;if(Cc(n))return Ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let a=s.exec(i[1])||s.exec(i[2])||s.exec(i[3]);if(a&&(a=a[0],a.includes("%")))try{a=s.exec(decodeURIComponent(a))[0]}catch{}return a||e}class mx{started=Object.create(null);times=[];time(e){e in this.started&&Ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:a}of this.times)e.push(`${s.padEnd(t)} ${a-i}ms
`);return e.join("")}}function Wl(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function Cs(n){n.preventDefault()}function Gt(n){n.preventDefault(),n.stopPropagation()}function AD(n){console.log("Deprecated API usage: "+n)}class Hm{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(t[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(s,i,a,l,u,d))}}function z_(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,a=[0,0,parseInt(s),parseInt(i)];return new Ec({viewBox:a,userUnit:1,scale:e,rotation:t})}function Vm(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ue(`Not a valid color format: "${n}"`),[0,0,0])}function ED(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Vm(s))}e.remove()}function kt(n){const{a:e,b:t,c:s,d:i,e:a,f:l}=n.getTransform();return[e,t,s,i,a,l]}function ei(n){const{a:e,b:t,c:s,d:i,e:a,f:l}=n.getTransform().invertSelf();return[e,t,s,i,a,l]}function Er(n,e,t=!1,s=!0){if(e instanceof Ec){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:l}=n,u=gn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${i}px`,f=`var(--total-scale-factor) * ${a}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}s&&n.setAttribute("data-main-rotation",e.rotation)}class Fs{constructor(){const{pixelRatio:e}=Fs;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,i,a=-1){let l=1/0,u=1/0,d=1/0;s=Fs.capPixels(s,a),s>0&&(l=Math.sqrt(s/(e*t))),i!==-1&&(u=i/e,d=i/t);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const Bd=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class tc{#e=null;#t=null;#n;#s=null;#r=null;#i=null;static#l=null;constructor(e){this.#n=e,tc.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Cs,{signal:t}),e.addEventListener("pointerdown",tc.#o,{signal:t});const s=this.#s=document.createElement("div");s.className="buttons",e.append(s);const i=this.#n.toolbarPosition;if(i){const{style:a}=e,l=this.#n._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}get div(){return this.#e}static#o(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,Gt(e)}#c(e){this.#n._focusEventsAllowed=!0,Gt(e)}#h(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Cs,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#r?.shown()}#u(){const{editorType:e,_uiManager:t}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",tc.#l[e]),this.#h(s),s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#s.append(s)}get#f(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#s.prepend(t,this.#f),this.#r=e}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#h(t),this.#s.prepend(t,this.#f)}async addEditSignatureButton(e){const t=this.#i=await e.renderEditButton(this.#n);this.#h(t),this.#s.prepend(t,this.#f)}updateEditSignatureButton(e){this.#i&&(this.#i.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class CD{#e=null;#t=null;#n;constructor(e){this.#n=e}#s(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Cs,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#r(e,t){let s=0,i=0;for(const a of e){const l=a.y+a.height;if(l<s)continue;const u=a.x+(t?a.width:0);if(l>s){i=u,s=l;continue}t?u>i&&(i=u):u<i&&(i=u)}return[t?1-i:i,s]}show(e,t,s){const[i,a]=this.#r(t,s),{style:l}=this.#t||=this.#s();e.append(this.#t),l.insetInlineEnd=`${100*i}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;e.addEventListener("contextmenu",Cs,{signal:s}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#e.append(e)}}function $_(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}class RD{#e=0;get id(){return`${fD}${this.#e++}`}}class Um{#e=$m();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return tt(this,"_isSVGFittingCanvas",a)}async#s(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(s.url=t,i=await Do(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const a=Um._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{s.bitmap=u,s.isSvg=!0,f()},l.onload=async()=>{const g=s.svgUrl=l.result;u.src=await a?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(i),await d}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){Ue(i),s=null}return this.#n.set(e,s),s&&this.#n.set(s.id,s),s}async getFromFile(e){const{lastModified:t,name:s,size:i,type:a}=e;return this.#s(`${t}_${s}_${i}_${a}`,e)}async getFromUrl(e){return this.#s(e,e)}async getFromBlob(e,t){const s=await t;return this.#s(e,s)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s?.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,s),this.#n.set(s.id,s),s}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}s.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class TD{#e=[];#t=!1;#n;#s=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:s,mustExec:i,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(i&&e(),this.#t)return;const d={cmd:e,undo:t,post:s,type:a};if(this.#s===-1){this.#e.length>0&&(this.#e.length=0),this.#s=0,this.#e.push(d);return}if(l&&this.#e[this.#s].type===a){u&&(d.undo=this.#e[this.#s].undo),this.#e[this.#s]=d;return}const f=this.#s+1;f===this.#n?this.#e.splice(0,1):(this.#s=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(d)}undo(){if(this.#s===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1,this.#s-=1}redo(){if(this.#s<this.#e.length-1){this.#s+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#e.length-1}cleanType(e){if(this.#s!==-1){for(let t=this.#s;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#s-t),this.#s=t;return}this.#e.length=0,this.#s=-1}}destroy(){this.#e=null}}class Rc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=gn.platform;for(const[s,i,a={}]of e)for(const l of s){const u=l.startsWith("mac+");t&&u?(this.callbacks.set(l.slice(4),{callback:i,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!u&&(this.callbacks.set(l,{callback:i,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(this.#e(t));if(!s)return;const{callback:i,options:{bubbles:a=!1,args:l=[],checker:u=null}}=s;u&&!u(e,t)||(i.bind(e,...l,t)(),a||Gt(t))}}class Gm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return ED(e),tt(this,"_colors",e)}convert(e){const t=Vm(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((a,l)=>a===t[l]))return Gm._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Te.makeHexColor(...t):e}}class Vi{#e=new AbortController;#t=null;#n=new Map;#s=new Map;#r=null;#i=null;#l=null;#o=new TD;#d=null;#c=null;#h=0;#u=new Set;#f=null;#a=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#v=!1;#b=null;#y=null;#x=null;#_=null;#E=!1;#R=null;#M=new RD;#S=!1;#T=!1;#C=null;#k=null;#N=null;#P=null;#$=null;#A=Be.NONE;#w=new Set;#I=null;#F=null;#V=null;#U=null;#G={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#B=[0,0];#O=null;#L=null;#H=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Vi.prototype,t=l=>l.#L.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),s=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return tt(this,"_keyboardManager",new Rc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#L.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#L.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,s,i,a,l,u,d,f,p,g,m,b,S){const x=this._signal=this.#e.signal;this.#L=e,this.#H=t,this.#r=s,this.#F=i,this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:x}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),a._on("setpreference",this.onSetPreference.bind(this),{signal:x}),a._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:x}),this.#se(),this.#oe(),this.#W(),this.#i=l.annotationStorage,this.#b=l.filterFactory,this.#V=u,this.#_=d||null,this.#m=f,this.#g=p,this.#v=g,this.#$=m||null,this.viewParameters={realScale:ia.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=S!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#P?.clear(),this.#t=null,this.#w.clear(),this.#o.destroy(),this.#r?.destroy(),this.#F?.destroy(),this.#R?.hide(),this.#R=null,this.#N?.destroy(),this.#N=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#O&&(clearTimeout(this.#O),this.#O=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return tt(this,"hcmFilter",this.#V?this.#b.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return tt(this,"direction",getComputedStyle(this.#L).direction)}get highlightColors(){return tt(this,"highlightColors",this.#_?new Map(this.#_.split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=e}setMainHighlightColorPicker(e){this.#N=e}editAltText(e,t=!1){this.#r?.editAltText(this,e,t)}getSignature(e){this.#F?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#F}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#v=t;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#L.focus()}findParent(e,t){for(const s of this.#s.values()){const{x:i,y:a,width:l,height:u}=s.div.getBoundingClientRect();if(e>=i&&e<=i+l&&t>=a&&t<=a+u)return s}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*ia.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#Z(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of this.#s.values())if(s.hasTextLayer(e))return s;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:a,focusOffset:l}=t,u=t.toString(),f=this.#Y(t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const g=this.#Z(f),m=this.#A===Be.NONE,b=()=>{g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:s,anchorOffset:i,focusNode:a,focusOffset:l,text:u}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(Be.HIGHLIGHT,b);return}b()}#te(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=this.#Y(e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(this.#R||=new CD(this),this.#R.show(s,i,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}#ne(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#R?.hide(),this.#I=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const i=this.#Y(e).closest(".textLayer");if(!i){this.#I&&(this.#R?.hide(),this.#I=null,this.#D({hasSelectedText:!1}));return}if(this.#R?.hide(),this.#I=t,this.#D({hasSelectedText:!0}),!(this.#A!==Be.HIGHLIGHT&&this.#A!==Be.NONE)&&(this.#A===Be.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#E=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#A===Be.HIGHLIGHT?this.#Z(i):null;a?.toggleDrawing();const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),a?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}}#X(e=""){this.#A===Be.HIGHLIGHT?this.highlightSelection(e):this.#m&&this.#te()}#se(){document.addEventListener("selectionchange",this.#ne.bind(this),{signal:this._signal})}#ie(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#re(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#w)if(t.div.contains(e)){this.#k=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#k)return;const[e,t]=this.#k;this.#k=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#W(){if(this.#C)return;this.#C=new AbortController;const e=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ae(){this.#C?.abort(),this.#C=null}#K(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#Q(){this.#d?.abort(),this.#d=null}#oe(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#W(),this.#K()}removeEditListeners(){this.#ae(),this.#Q()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of this.#a)if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of this.#a)if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of this.#w){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of this.#a)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(a){Ue(`paste: "${a.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const d of s){const f=await i.deserialize(d);if(!f)return;a.push(f)}const l=()=>{for(const d of a)this.#J(d);this.#ee(a)},u=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(a){Ue(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#A!==Be.NONE&&!this.isEditorHandlingKeyboard&&Vi._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#E&&(this.#E=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(e){Object.entries(e).some(([s,i])=>this.#G[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#G,e)}),this.#A===Be.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#z([[nt.HIGHLIGHT_FREE,!0]]))}#z(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ie(),this.#K(),this.#D({isEditing:this.#A!==Be.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:this.#o.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#re(),this.#Q(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#a){this.#a=e;for(const t of this.#a)this.#z(t.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#s.get(this.#h)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#s.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(this.#A!==e&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#A=e,e===Be.NONE){this.setEditingState(!1),this.#ce(),this._editorUndoBar?.hide(),this.#j.resolve();return}e===Be.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#le(),this.unselectAll();for(const i of this.#s.values())i.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const i of this.#n.values())i.annotationElementId===t||i.id===t?(this.setSelected(i),i.enterInEditMode()):i.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#A&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#a){switch(e){case nt.CREATE:this.currentLayer.addNewEditor(t);return;case nt.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(t);break;case nt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#U||=new Map).set(e,t),this.showAllEditors("highlight",t);break}for(const s of this.#w)s.updateParams(e,t);for(const s of this.#a)s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){for(const a of this.#n.values())a.editorType===e&&a.show(t);(this.#U?.get(nt.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#z([[nt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#T!==e){this.#T=e;for(const t of this.#s.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#le(){if(!this.#S){this.#S=!0;const e=[];for(const t of this.#s.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#ce(){if(this.unselectAll(),this.#S){this.#S=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const s of this.#n.values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#P?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#J(e){const t=this.#s.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#z(e.propertiesToUpdate))}get#ue(){let e=null;for(e of this.#w);return e}updateUI(e){this.#ue===e&&this.#z(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#z(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#w.has(e)){this.#w.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#w.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.#c?.commitOrRemove();for(const t of this.#w)t!==e&&t.unselect();this.#w.clear(),this.#w.add(e),e.select(),this.#z(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#w.has(e)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(e){e.unselect(),this.#w.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#o.undo(),this.#D({hasSomethingToUndo:this.#o.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()}),this._editorUndoBar?.hide()}redo(){this.#o.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#o.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(e){this.#o.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}cleanUndoStack(e){this.#o.cleanType(e)}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#w],s=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},i=()=>{for(const a of t)this.#J(a)};this.addCommands({cmd:s,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ee(e){for(const t of this.#w)t.unselect();this.#w.clear();for(const t of e)t.isEmpty()||(this.#w.add(t),t.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#w)e.commit();this.#ee(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#A!==Be.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const e of this.#w)e.unselect();this.#w.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#B[0]+=e,this.#B[1]+=t;const[i,a]=this.#B,l=[...this.#w],u=1e3;this.#O&&clearTimeout(this.#O),this.#O=setTimeout(()=>{this.#O=null,this.#B[0]=this.#B[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(i,a),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-i,-a),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#w)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:i,y:a,pageIndex:l},u]of e)u.newX=i,u.newY=a,u.newPageIndex=l,t||=i!==u.savedX||a!==u.savedY||l!==u.savedPageIndex;if(!t)return!1;const s=(i,a,l,u)=>{if(this.#n.has(i.id)){const d=this.#s.get(u);d?i._setParentAndPosition(d,a,l):(i.pageIndex=u,i.x=a,i.y=l)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:l,newPageIndex:u}]of e)s(i,a,l,u)},undo:()=>{for(const[i,{savedX:a,savedY:l,savedPageIndex:u}]of e)s(i,a,l,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const s of this.#f.keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#A}get imageManager(){return tt(this,"imageManager",new Um)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:s,y:i,width:a,height:l}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(f,p,g,m)=>({x:(p-i)/l,y:1-(f+g-s)/a,width:m/l,height:g/a});break;case"180":u=(f,p,g,m)=>({x:1-(f+g-s)/a,y:1-(p+m-i)/l,width:g/a,height:m/l});break;case"270":u=(f,p,g,m)=>({x:1-(p+m-i)/l,y:(f-s)/a,width:m/l,height:g/a});break;default:u=(f,p,g,m)=>({x:(f-s)/a,y:(p-i)/l,width:g/a,height:m/l});break}const d=[];for(let f=0,p=t.rangeCount;f<p;f++){const g=t.getRangeAt(f);if(!g.collapsed)for(const{x:m,y:b,width:S,height:x}of g.getClientRects())S===0||x===0||d.push(u(m,b,S,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#l||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#l?.delete(e)}renderAnnotationElement(e){const t=this.#l?.get(e.data.id);if(!t)return;const s=this.#i.getRawValue(t);s&&(this.#A===Be.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){const i=this.#P?.get(e);i&&(i.setCanvas(t,s),this.#P.delete(e))}addMissingCanvas(e,t){(this.#P||=new Map).set(e,t)}}class ii{#e=null;#t=!1;#n=null;#s=null;#r=null;#i=null;#l=!1;#o=null;#d=null;#c=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,ii.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ii._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#s=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",ii.#f.missing),t.setAttribute("data-l10n-id",ii.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#d._uiManager._signal;e.addEventListener("contextmenu",Cs,{signal:s}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:s});const i=a=>{a.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#a}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#l=!0,i(a))},{signal:s}),await this.#p(),e}get#a(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#l}),this.#l=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(e){this.#e===null&&(this.#c=e,this.#h=await ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#d.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#c===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:a=!1}){s&&(this.#c=s,this.#h=i),!(this.#e===e&&this.#t===t)&&(a||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#a}})}destroy(){this.#n?.remove(),this.#n=null,this.#s=null,this.#r=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ii.#f[this.#a]),this.#s?.setAttribute("data-l10n-id",ii.#f[`${this.#a}-label`]),!this.#e){this.#r?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#r?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#r;if(!t){this.#r=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#d.id}`;const i=100,a=this.#d._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#r.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r?.classList.remove("show")},{signal:a})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#d.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Tc{#e;#t=!1;#n=null;#s;#r;#i;#l;#o=null;#d;#c=null;#h;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:l=null,signal:u}){this.#e=e,this.#n=s,this.#s=t,this.#r=i,this.#i=a,this.#l=l,this.#h=new AbortController,this.#d=AbortSignal.any([u,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Fs.pixelRatio}#f(e){if(this.#s?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,a=AbortSignal.any([this.#d,i.signal]),l=this.#e,u={capture:!0,signal:a,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Gt(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#u){this.#u=new AbortController;const i=AbortSignal.any([this.#d,this.#u.signal]),a=this.#e,l={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#a.bind(this),l);const u=this.#p.bind(this);a.addEventListener("touchend",u,l),a.addEventListener("touchcancel",u,l),l.capture=!0,a.addEventListener("pointerdown",Gt,l),a.addEventListener("pointermove",Gt,l),a.addEventListener("pointercancel",Gt,l),a.addEventListener("pointerup",Gt,l),this.#r?.()}if(Gt(e),e.touches.length!==2||this.#n?.()){this.#c=null;return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),this.#c={touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#a(e){if(!this.#c||e.touches.length!==2)return;Gt(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:i,screenY:a}=t,{screenX:l,screenY:u}=s,d=this.#c,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:m}=d,b=g-f,S=m-p,x=l-i,A=u-a,E=Math.hypot(x,A)||1,C=Math.hypot(b,S)||1;if(!this.#t&&Math.abs(C-E)<=Tc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=i,d.touch0Y=a,d.touch1X=l,d.touch1Y=u,!this.#t){this.#t=!0;return}const T=[(i+l)/2,(a+u)/2];this.#i?.(T,C,E)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#l?.()),this.#c&&(Gt(e),this.#c=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Ne{#e=null;#t=null;#n=null;#s=!1;#r=null;#i="";#l=!1;#o=null;#d=null;#c=null;#h=null;#u="";#f=!1;#a=null;#p=!1;#m=!1;#g=!1;#v=null;#b=0;#y=0;#x=null;#_=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#E=!1;#R=Ne._zIndex++;static _borderLineWidth=-1;static _colorManager=new Gm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ne.prototype._resizeWithKeyboard,t=Vi.TRANSLATE_SMALL,s=Vi.TRANSLATE_BIG;return tt(this,"_resizerKeyboardManager",new Rc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],Ne.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[a,l];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new MD({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Ne._l10n??=e,Ne._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ne._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);Ne._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){mt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#E}set _isDraggable(e){this.#E=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#R}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#H(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[a,l]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/a,this.y=(t+i)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,i]=this.parentDimensions;this.setAt(e*s,t*i,this.width*s,this.height*i),this._onTranslated()}#M([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#M(this.parentDimensions,e,t)}translateInPage(e,t){this.#a||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#a||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=s;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#a&&(this.#a[0]!==this.x||this.#a[1]!==this.y)}get _hasBeenResized(){return!!this.#a&&(this.#a[2]!==this.width||this.#a[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=Ne,i=s/e,a=s/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,i]}=this;let{x:a,y:l,width:u,height:d}=this;if(u*=s,d*=i,a*=s,l*=i,this._mustFixPosition)switch(e){case 0:a=Rn(a,0,s-u),l=Rn(l,0,i-d);break;case 90:a=Rn(a,0,s-d),l=Rn(l,u,i);break;case 180:a=Rn(a,u,s),l=Rn(l,d,i);break;case 270:a=Rn(a,d,s),l=Rn(l,0,i-u);break}this.x=a/=s,this.y=l/=i;const[f,p]=this.getBaseTranslation();a+=f,l+=p,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ne.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ne.#S(e,t,360-this.parentRotation)}#T(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,i]=this.parentDimensions,{style:a}=this.div;a.width=`${(100*e/s).toFixed(2)}%`,this.#l||(a.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,i=s.endsWith("%"),a=!this.#l&&t.endsWith("%");if(i&&a)return;const[l,u]=this.parentDimensions;i||(e.width=`${(100*parseFloat(s)/l).toFixed(2)}%`),!this.#l&&!a&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");this.#o.append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",this.#k.bind(this,s),{signal:t}),i.addEventListener("contextmenu",Cs,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#o)}#k(e,t){t.preventDefault();const{isMac:s}=gn.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#n?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#d=[t.screenX,t.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#$.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Gt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Cs,{signal:l}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#P()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(e,t,s,i){this.width=s,this.height=i,this.x=e,this.y=t;const[a,l]=this.parentDimensions;this.setDims(a*s,l*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#P(){if(!this.#c)return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=this.#c;this.#c=null;const a=this.x,l=this.y,u=this.width,d=this.height;a===e&&l===t&&u===s&&d===i||this.addCommands({cmd:this.#N.bind(this,a,l,u,d),undo:this.#N.bind(this,e,t,s,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#$(e,t){const[s,i]=this.parentDimensions,a=this.x,l=this.y,u=this.width,d=this.height,f=Ne.MIN_SIZE/s,p=Ne.MIN_SIZE/i,g=this.#T(this.rotation),m=(N,B)=>[g[0]*N+g[2]*B,g[1]*N+g[3]*B],b=this.#T(360-this.rotation),S=(N,B)=>[b[0]*N+b[2]*B,b[1]*N+b[3]*B];let x,A,E=!1,C=!1;switch(e){case"topLeft":E=!0,x=(N,B)=>[0,0],A=(N,B)=>[N,B];break;case"topMiddle":x=(N,B)=>[N/2,0],A=(N,B)=>[N/2,B];break;case"topRight":E=!0,x=(N,B)=>[N,0],A=(N,B)=>[0,B];break;case"middleRight":C=!0,x=(N,B)=>[N,B/2],A=(N,B)=>[0,B/2];break;case"bottomRight":E=!0,x=(N,B)=>[N,B],A=(N,B)=>[0,0];break;case"bottomMiddle":x=(N,B)=>[N/2,B],A=(N,B)=>[N/2,0];break;case"bottomLeft":E=!0,x=(N,B)=>[0,B],A=(N,B)=>[N,0];break;case"middleLeft":C=!0,x=(N,B)=>[0,B/2],A=(N,B)=>[N,B/2];break}const T=x(u,d),D=A(u,d);let M=m(...D);const O=Ne._round(a+M[0]),L=Ne._round(l+M[1]);let I=1,j=1,U,$;if(t.fromKeyboard)({deltaX:U,deltaY:$}=t);else{const{screenX:N,screenY:B}=t,[q,Y]=this.#d;[U,$]=this.screenToPageTranslation(N-q,B-Y),this.#d[0]=N,this.#d[1]=B}if([U,$]=S(U/s,$/i),E){const N=Math.hypot(u,d);I=j=Math.max(Math.min(Math.hypot(D[0]-T[0]-U,D[1]-T[1]-$)/N,1/u,1/d),f/u,p/d)}else C?I=Rn(Math.abs(D[0]-T[0]-U),f,1)/u:j=Rn(Math.abs(D[1]-T[1]-$),p,1)/d;const K=Ne._round(u*I),Z=Ne._round(d*j);M=m(...A(K,Z));const ce=O-M[0],ae=L-M[1];this.#a||=[this.x,this.y,this.width,this.height],this.width=K,this.height=Z,this.x=ce,this.y=ae,this.setDims(s*K,i*Z),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new tc(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(ii.initialize(Ne._l10n),this.#n=new ii(this),this.#e&&(this.#n.data=this.#e,this.#e=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),$_(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#_||=new Tc({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#A.bind(this),onPinching:this.#w.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#A(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#w(e,t,s){let a=.7*(s/t)+1-.7;if(a===1)return;const l=this.#T(this.rotation),u=(O,L)=>[l[0]*O+l[2]*L,l[1]*O+l[3]*L],[d,f]=this.parentDimensions,p=this.x,g=this.y,m=this.width,b=this.height,S=Ne.MIN_SIZE/d,x=Ne.MIN_SIZE/f;a=Math.max(Math.min(a,1/m,1/b),S/m,x/b);const A=Ne._round(m*a),E=Ne._round(b*a);if(A===m&&E===b)return;this.#a||=[p,g,m,b];const C=u(m/2,b/2),T=Ne._round(p+C[0]),D=Ne._round(g+C[1]),M=u(A/2,E/2);this.x=T-M[0],this.y=D-M[1],this.width=A,this.height=E,this.setDims(d*A,f*E),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#P()}pointerdown(e){const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#V(e);return}this.#F(e)}#F(e){const{isMac:t}=gn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#V(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),l={capture:!0,passive:!1,signal:a},u=f=>{i.abort(),this.#r=null,this.#f=!1,this._uiManager.endDragSession()||this.#F(f),s&&this._onStopDragging()};t&&(this.#b=e.clientX,this.#y=e.clientY,this.#r=e.pointerId,this.#i=e.pointerType,window.addEventListener("pointermove",f=>{s||(s=!0,this._onStartDragging());const{clientX:p,clientY:g,pointerId:m}=f;if(m!==this.#r){Gt(f);return}const[b,S]=this.screenToPageTranslation(p-this.#b,g-this.#y);this.#b=p,this.#y=g,this._uiManager.dragSelectedEditors(b,S)},l),window.addEventListener("touchmove",Gt,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#i&&(this.#_||f.isPrimary)&&u(f),Gt(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}Gt(f)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const i=this.parentScale,[a,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=e/i,p=t/i,g=this.x*a,m=this.y*l,b=this.width*a,S=this.height*l;switch(s){case 0:return[g+f+u,l-m-p-S+d,g+f+b+u,l-m-p+d];case 90:return[g+p+u,l-m+f+d,g+p+S+u,l-m+f+b+d];case 180:return[g-f-b+u,l-m+p+d,g-f+u,l-m+p+S+d];case 270:return[g-p-S+u,l-m-f-b+d,g-p+u,l-m-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,a,l]=e,u=a-s,d=l-i;switch(this.rotation){case 0:return[s,t-l,u,d];case 90:return[s,t-i,d,u];case 180:return[a,t-i,u,d];case 270:return[a,t-l,d,u];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return t<l&&i>0&&e<a&&s>0}#U(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){mt("An editor must be serializable")}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[a,l]=i.pageDimensions,[u,d,f,p]=i.getRectInCurrentCoords(e.rect,l);return i.x=u/a,i.y=d/l,i.width=f/a,i.height=p/l,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#H(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#_?.destroy(),this.#_=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#o.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#o.children;if(!this.#t){this.#t=Array.from(t);const l=this.#G.bind(this),u=this.#B.bind(this),d=this._uiManager._signal;for(const f of this.#t){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#O.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Ne._l10nResizer[p])}}const s=this.#t[0];let i=0;for(const l of t){if(l===s)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==i){if(a<i)for(let u=0;u<i-a;u++)this.#o.append(this.#o.firstChild);else if(a>i)for(let u=0;u<a-i;u++)this.#o.firstChild.before(this.#o.lastChild);let l=0;for(const u of t){const f=this.#t[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Ne._l10nResizer[f])}}this.#L(0),this.#g=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Ne._resizerKeyboardManager.exec(this,e)}#B(e){this.#g&&e.relatedTarget?.parentNode!==this.#o&&this.#H()}#O(e){this.#u=this.#g?e:""}#L(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#g&&this.#$(this.#u,{deltaX:e,deltaY:t,fromKeyboard:!0})}#H(){this.#g=!1,this.#L(-1),this.#P()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#l=!0;const s=e/t,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:s}=e;let i=this.#x.get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(s),this.#x.size===0&&(this.#x=null)},Ne._telemetryTimeout),this.#x.set(s,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class MD extends Ne{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const vx=3285377520,bs=4294901760,ti=65535;class B_{constructor(e){this.h1=e?e&4294967295:vx,this.h2=e?e&4294967295:vx}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let x=0,A=e.length;x<A;x++){const E=e.charCodeAt(x);E<=255?t[s++]=E:(t[s++]=E>>>8,t[s++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,a=s-i*4,l=new Uint32Array(t.buffer,0,i);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,m=461845907,b=g&ti,S=m&ti;for(let x=0;x<i;x++)x&1?(u=l[x],u=u*g&bs|u*b&ti,u=u<<15|u>>>17,u=u*m&bs|u*S&ti,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[x],d=d*g&bs|d*b&ti,d=d<<15|d>>>17,d=d*m&bs|d*S&ti,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,a){case 3:u^=t[i*4+2]<<16;case 2:u^=t[i*4+1]<<8;case 1:u^=t[i*4],u=u*g&bs|u*b&ti,u=u<<15|u>>>17,u=u*m&bs|u*S&ti,i&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&bs|e*36045&ti,t=t*4283543511&bs|((t<<16|e>>>16)*2950163797&bs)>>>16,e^=t>>>1,e=e*444984403&bs|e*60499&ti,t=t*3301882366&bs|((t<<16|e>>>16)*3120437893&bs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zg=Object.freeze({map:null,hash:"",transfer:void 0});class qm{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=this.#n.get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof Ne)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=this.#n.get(e);let i=!1;if(s!==void 0)for(const[a,l]of Object.entries(t))s[a]!==l&&(i=!0,s[a]=l);else i=!0,this.#n.set(e,t);i&&this.#s(),t instanceof Ne&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new H_(this)}get serializable(){if(this.#n.size===0)return Zg;const e=new Map,t=new B_,s=[],i=Object.create(null);let a=!1;for(const[l,u]of this.#n){const d=u instanceof Ne?u.serialize(!1,i):u;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const l of e.values())l.bitmap&&s.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Zg}get editorStats(){let e=null;const t=new Map;for(const s of this.#n.values()){if(!(s instanceof Ne))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:a}=i;t.has(a)||t.set(a,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[a]||=new Map;for(const[u,d]of Object.entries(i)){if(u==="type")continue;let f=l.get(u);f||(f=new Map,l.set(u,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[s,i]of t)e[s]=i.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof Ne)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class H_ extends qm{#e;constructor(e){super();const{map:t,hash:s,transfer:i}=e.serializable,a=structuredClone(t,i?{transfer:i}:null);this.#e={map:a,hash:s,transfer:i}}get print(){mt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return tt(this,"modifiedIds",{ids:new Set,hash:""})}}class DD{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||this.#e.has(e.loadedName))){if(en(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:l}=e,u=new FontFace(i,a,l);this.addNativeFontFace(u);try{await u.load(),this.#e.add(i),s?.(e)}catch{Ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}mt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw Ue(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return tt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return tt(this,"isSyncFontLoadingSupported",kn||gn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(en(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const a=s.shift();setTimeout(a.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return tt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(D,M){return D.charCodeAt(M)<<24|D.charCodeAt(M+1)<<16|D.charCodeAt(M+2)<<8|D.charCodeAt(M+3)&255}function i(D,M,O,L){const I=D.substring(0,M),j=D.substring(M+O);return I+L+j}let a,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(D,M){if(++f>30){Ue("Load test font never loaded."),M();return}if(d.font="30px "+D,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,D,M))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,g.length,g);const S=16,x=1482184792;let A=s(m,S);for(a=0,l=g.length-3;a<l;a+=4)A=A-x+s(g,a)|0;a<g.length&&(A=A-x+s(g+"XXX",a)|0),m=i(m,S,4,bD(A));const E=`url(data:font/opentype;base64,${btoa(m)});`,C=`@font-face {font-family:"${g}";src:${E}}`;this.insertRule(C);const T=this._document.createElement("div");T.style.visibility="hidden",T.style.width=T.style.height="10px",T.style.position="absolute",T.style.top=T.style.left="0px";for(const D of[e.loadedName,g]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=D,T.append(M)}this._document.body.append(T),p(g,()=>{T.remove(),t.complete()})}}class kD{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${j_(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let i;try{i=e.get(s)}catch(l){Ue(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=a}}function ND(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(kn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function PD(n){if(kn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Ac(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function od(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Wg=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,OD=n=>typeof n=="object"&&typeof n?.name=="string",V_=SD.bind(null,Wg,OD);class LD{#e=new Map;#t=Promise.resolve();postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if(s?.signal instanceof AbortSignal){const{signal:a}=s;if(a.aborted){Ue("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const ld={DATA:1,ERROR:2},Qt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function bx(){}function $n(n){if(n instanceof Hi||n instanceof $d||n instanceof px||n instanceof lc||n instanceof dg)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||mt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Hi(n.message);case"InvalidPDFException":return new $d(n.message);case"PasswordException":return new px(n.message,n.code);case"ResponseException":return new lc(n.message,n.status,n.missing);case"UnknownErrorException":return new dg(n.message,n.details)}return new dg(n.message,n.toString())}class Kl{#e=new AbortController;constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#s(e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===ld.DATA)i.resolve(e.data);else if(e.callback===ld.ERROR)i.reject($n(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(l){a.postMessage({sourceName:s,targetName:i,callback:ld.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:s,targetName:i,callback:ld.ERROR,callbackId:e.callbackId,reason:$n(l)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,s,i){const a=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:e,streamId:a,data:t,desiredSize:f.desiredSize},i),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Qt.PULL,streamId:a,desiredSize:f.desiredSize}),p.promise},cancel:f=>{en(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Qt.CANCEL,streamId:a,reason:$n(f)}),p.promise}},s)}#n(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,a=this.comObj,l=this,u=this.actionHandler[e.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=p,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:s,targetName:i,stream:Qt.ENQUEUE,streamId:t,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:i,stream:Qt.CLOSE,streamId:t}),delete l.streamSinks[t])},error(f){en(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:s,targetName:i,stream:Qt.ERROR,streamId:t,reason:$n(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(u,e.data,d).then(function(){a.postMessage({sourceName:s,targetName:i,stream:Qt.START_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:i,stream:Qt.START_COMPLETE,streamId:t,reason:$n(f)})})}#s(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,a=this.comObj,l=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case Qt.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject($n(e.reason));break;case Qt.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject($n(e.reason));break;case Qt.PULL:if(!u){a.postMessage({sourceName:s,targetName:i,stream:Qt.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,Promise.try(u.onPull||bx).then(function(){a.postMessage({sourceName:s,targetName:i,stream:Qt.PULL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:i,stream:Qt.PULL_COMPLETE,streamId:t,reason:$n(f)})});break;case Qt.ENQUEUE:if(en(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case Qt.CLOSE:if(en(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#r(l,t);break;case Qt.ERROR:en(l,"error should have stream controller"),l.controller.error($n(e.reason)),this.#r(l,t);break;case Qt.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject($n(e.reason)),this.#r(l,t);break;case Qt.CANCEL:if(!u)break;const d=$n(e.reason);Promise.try(u.onCancel||bx,d).then(function(){a.postMessage({sourceName:s,targetName:i,stream:Qt.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){a.postMessage({sourceName:s,targetName:i,stream:Qt.CANCEL_COMPLETE,streamId:t,reason:$n(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#r(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class U_{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){mt("Abstract method `_createCanvas` called.")}}class jD extends U_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class G_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class yx extends G_{async _fetch(e){const t=await Do(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ac(t)}}class q_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,a){return"none"}destroy(e=!1){}}class ID extends q_{#e;#t;#n;#s;#r;#i;#l=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#s=e,this.#r=t}get#o(){return this.#t||=new Map}get#d(){return this.#i||=new Map}get#c(){if(!this.#n){const e=this.#r.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const s=this.#r.createElementNS(Ii,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#r.createElementNS(Ii,"defs"),e.append(s),s.append(this.#n),this.#r.body.append(e)}return this.#n}#h(e){if(e.length===1){const d=e[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[t,s,i]=e,a=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)a[d]=t[d]/255,l[d]=s[d]/255,u[d]=i[d]/255;return[a.join(","),l.join(","),u.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#r.URL;t!==this.#r.baseURI&&(Cc(t)?Ue('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=zm(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[s,i,a]=this.#h(e),l=e.length===1?s:`${s}${i}${a}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const u=`g_${this.#s}_transfer_map_${this.#l++}`,d=this.#u(u);this.#o.set(e,d),this.#o.set(l,d);const f=this.#p(u);return this.#g(s,i,a,f),d}addHCMFilter(e,t){const s=`${e}-${t}`,i="base";let a=this.#d.get(i);if(a?.key===s||(a?(a.filter?.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},this.#d.set(i,a)),!e||!t))return a.url;const l=this.#b(e);e=Te.makeHexColor(...l);const u=this.#b(t);if(t=Te.makeHexColor(...u),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return a.url;const d=new Array(256);for(let b=0;b<=255;b++){const S=b/255;d[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#s}_hcm_filter`,g=a.filter=this.#p(p);this.#g(f,f,f,g),this.#a(g);const m=(b,S)=>{const x=l[b]/255,A=u[b]/255,E=new Array(S+1);for(let C=0;C<=S;C++)E[C]=x+C/S*(A-x);return E.join(",")};return this.#g(m(0,5),m(1,5),m(2,5),g),a.url=this.#u(p),a.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[s]=this.#h([e]),i=`alpha_${s}`;if(t=this.#o.get(i),t)return this.#o.set(e,t),t;const a=`g_${this.#s}_alpha_map_${this.#l++}`,l=this.#u(a);this.#o.set(e,l),this.#o.set(i,l);const u=this.#p(a);return this.#v(s,u),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let s,i;if(e?([s]=this.#h([e]),i=`luminosity_${s}`):i="luminosity",t=this.#o.get(i),t)return this.#o.set(e,t),t;const a=`g_${this.#s}_luminosity_map_${this.#l++}`,l=this.#u(a);this.#o.set(e,l),this.#o.set(i,l);const u=this.#p(a);return this.#f(u),e&&this.#v(s,u),l}addHighlightHCMFilter(e,t,s,i,a){const l=`${t}-${s}-${i}-${a}`;let u=this.#d.get(e);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#d.set(e,u)),!t||!s))return u.url;const[d,f]=[t,s].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[m,b]=[i,a].map(this.#b.bind(this));g<p&&([p,g,m,b]=[g,p,b,m]),this.#c.style.color="";const S=(E,C,T)=>{const D=new Array(256),M=(g-p)/T,O=E/255,L=(C-E)/(255*T);let I=0;for(let j=0;j<=T;j++){const U=Math.round(p+j*M),$=O+j*L;for(let K=I;K<=U;K++)D[K]=$;I=U+1}for(let j=I;j<256;j++)D[j]=D[I-1];return D.join(",")},x=`g_${this.#s}_hcm_${e}_filter`,A=u.filter=this.#p(x);return this.#a(A),this.#g(S(m[0],b[0],5),S(m[1],b[1],5),S(m[2],b[2],5),A),u.url=this.#u(x),u.url}destroy(e=!1){e&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#l=0)}#f(e){const t=this.#r.createElementNS(Ii,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#a(e){const t=this.#r.createElementNS(Ii,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#r.createElementNS(Ii,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#m(e,t,s){const i=this.#r.createElementNS(Ii,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),e.append(i)}#g(e,t,s,i){const a=this.#r.createElementNS(Ii,"feComponentTransfer");i.append(a),this.#m(a,"feFuncR",e),this.#m(a,"feFuncG",t),this.#m(a,"feFuncB",s)}#v(e,t){const s=this.#r.createElementNS(Ii,"feComponentTransfer");t.append(s),this.#m(s,"feFuncA",e)}#b(e){return this.#c.style.color=e,Vm(getComputedStyle(this.#c).getPropertyValue("color"))}}class Y_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class wx extends Y_{async _fetch(e){const t=await Do(e,"arraybuffer");return new Uint8Array(t)}}class X_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){mt("Abstract method `_fetch` called.")}}class xx extends X_{async _fetch(e){const t=await Do(e,"arraybuffer");return new Uint8Array(t)}}kn&&Ue("Please use the `legacy` build in Node.js environments.");async function Ym(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class FD extends q_{}class zD extends U_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class $D extends G_{async _fetch(e){return Ym(e)}}class BD extends Y_{async _fetch(e){return Ym(e)}}class HD extends X_{async _fetch(e){return Ym(e)}}const xn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Kg(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class Xm{isModifyingCurrentTransform(){return!1}getPattern(){mt("Abstract method `getPattern` called.")}}class VD extends Xm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let a;if(i===xn.STROKE||i===xn.FILL){const l=t.current.getClippedPathBoundingBox(i,kt(e))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=t.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),s=Te.transform(s,[1,0,0,1,l[0],l[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Kg(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=e.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(s);a.setTransform(g)}else Kg(e,this._bbox),a=this._createGradient(e);return a}}function pg(n,e,t,s,i,a,l,u){const d=e.coords,f=e.colors,p=n.data,g=n.width*4;let m;d[t+1]>d[s+1]&&(m=t,t=s,s=m,m=a,a=l,l=m),d[s+1]>d[i+1]&&(m=s,s=i,i=m,m=l,l=u,u=m),d[t+1]>d[s+1]&&(m=t,t=s,s=m,m=a,a=l,l=m);const b=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,x=(d[s]+e.offsetX)*e.scaleX,A=(d[s+1]+e.offsetY)*e.scaleY,E=(d[i]+e.offsetX)*e.scaleX,C=(d[i+1]+e.offsetY)*e.scaleY;if(S>=C)return;const T=f[a],D=f[a+1],M=f[a+2],O=f[l],L=f[l+1],I=f[l+2],j=f[u],U=f[u+1],$=f[u+2],K=Math.round(S),Z=Math.round(C);let ce,ae,N,B,q,Y,P,G;for(let se=K;se<=Z;se++){if(se<A){const ue=se<S?0:(S-se)/(S-A);ce=b-(b-x)*ue,ae=T-(T-O)*ue,N=D-(D-L)*ue,B=M-(M-I)*ue}else{let ue;se>C?ue=1:A===C?ue=0:ue=(A-se)/(A-C),ce=x-(x-E)*ue,ae=O-(O-j)*ue,N=L-(L-U)*ue,B=I-(I-$)*ue}let V;se<S?V=0:se>C?V=1:V=(S-se)/(S-C),q=b-(b-E)*V,Y=T-(T-j)*V,P=D-(D-U)*V,G=M-(M-$)*V;const re=Math.round(Math.min(ce,q)),ge=Math.round(Math.max(ce,q));let ee=g*se+re*4;for(let ue=re;ue<=ge;ue++)V=(ce-ue)/(ce-q),V<0?V=0:V>1&&(V=1),p[ee++]=ae-(ae-Y)*V|0,p[ee++]=N-(N-P)*V|0,p[ee++]=B-(B-G)*V|0,p[ee++]=255}}function UD(n,e,t){const s=e.coords,i=e.colors;let a,l;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(s.length/u)-1,f=u-1;for(a=0;a<d;a++){let p=a*u;for(let g=0;g<f;g++,p++)pg(n,t,s[p],s[p+1],s[p+u],i[p],i[p+1],i[p+u]),pg(n,t,s[p+u+1],s[p+1],s[p+u],i[p+u+1],i[p+1],i[p+u])}break;case"triangles":for(a=0,l=s.length;a<l;a+=3)pg(n,t,s[a],s[a+1],s[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class GD extends Xm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),b=f/g,S=p/m,x={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/b,scaleY:1/S},A=g+4,E=m+4,C=s.getCanvas("mesh",A,E),T=C.context,D=T.createImageData(g,m);if(t){const O=D.data;for(let L=0,I=O.length;L<I;L+=4)O[L]=t[0],O[L+1]=t[1],O[L+2]=t[2],O[L+3]=255}for(const O of this._figures)UD(D,O,x);return T.putImageData(D,2,2),{canvas:C.canvas,offsetX:u-2*b,offsetY:d-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,i){Kg(e,this._bbox);const a=new Float32Array(2);if(i===xn.SHADING)Te.singularValueDecompose2dScale(kt(e),a);else if(this.matrix){Te.singularValueDecompose2dScale(this.matrix,a);const[u,d]=a;Te.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=u,a[1]*=d}else Te.singularValueDecompose2dScale(t.baseTransform,a);const l=this._createMeshCanvas(a,i===xn.SHADING?null:this._background,t.cachedCanvases);return i!==xn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class qD extends Xm{getPattern(){return"hotpink"}}function YD(n){switch(n[0]){case"RadialAxial":return new VD(n);case"Mesh":return new GD(n);case"Dummy":return new qD}throw new Error(`Unknown IR type: ${n[0]}`)}const Sx={COLORED:1,UNCOLORED:2};class Zm{static MAX_PATTERN_SIZE=3e3;constructor(e,t,s,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:i,tilingType:a,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),oh("TilingType: "+a);const p=t[0],g=t[1],m=t[2],b=t[3],S=m-p,x=b-g,A=new Float32Array(2);Te.singularValueDecompose2dScale(this.matrix,A);const[E,C]=A;Te.singularValueDecompose2dScale(this.baseTransform,A);const T=E*A[0],D=C*A[1];let M=S,O=x,L=!1,I=!1;const j=Math.ceil(d*T),U=Math.ceil(f*D),$=Math.ceil(S*T),K=Math.ceil(x*D);j>=$?M=d:L=!0,U>=K?O=f:I=!0;const Z=this.getSizeAndScale(M,this.ctx.canvas.width,T),ce=this.getSizeAndScale(O,this.ctx.canvas.height,D),ae=e.cachedCanvases.getCanvas("pattern",Z.size,ce.size),N=ae.context,B=u.createCanvasGraphics(N);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,i,l),N.translate(-Z.scale*p,-ce.scale*g),B.transform(Z.scale,0,0,ce.scale,0,0),N.save(),this.clipBbox(B,p,g,m,b),B.baseTransform=kt(B.ctx),B.executeOperatorList(s),B.endDrawing(),N.restore(),L||I){const q=ae.canvas;L&&(M=d),I&&(O=f);const Y=this.getSizeAndScale(M,this.ctx.canvas.width,T),P=this.getSizeAndScale(O,this.ctx.canvas.height,D),G=Y.size,se=P.size,V=e.cachedCanvases.getCanvas("pattern-workaround",G,se),re=V.context,ge=L?Math.floor(S/d):0,ee=I?Math.floor(x/f):0;for(let ue=0;ue<=ge;ue++)for(let be=0;be<=ee;be++)re.drawImage(q,G*ue,se*be,G,se,0,0,G,se);return{canvas:V.canvas,scaleX:Y.scale,scaleY:P.scale,offsetX:p,offsetY:g}}return{canvas:ae.canvas,scaleX:Z.scale,scaleY:ce.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,s){const i=Math.max(Zm.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*s);return a>=i?a=i:s=a/e,{scale:s,size:a}}clipBbox(e,t,s,i,a){const l=i-t,u=a-s;e.ctx.rect(t,s,l,u),Te.axialAlignedBoundingBox([t,s,i,a],kt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,a=e.current;switch(t){case Sx.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;i.fillStyle=a.fillColor=l,i.strokeStyle=a.strokeColor=u;break;case Sx.UNCOLORED:i.fillStyle=i.strokeStyle=s,a.fillColor=a.strokeColor=s;break;default:throw new vD(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,i){let a=s;i!==xn.SHADING&&(a=Te.transform(a,t.baseTransform),this.matrix&&(a=Te.transform(a,this.matrix)));const l=this.createPatternCanvas(t);let u=new DOMMatrix(a);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=e.createPattern(l.canvas,"repeat");return d.setTransform(u),d}}function XD({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const u=gn.isLittleEndian?4278190080:255,[d,f]=l?[a,u]:[u,a],p=s>>3,g=s&7,m=n.length;t=new Uint32Array(t.buffer);let b=0;for(let S=0;S<i;S++){for(const A=e+p;e<A;e++){const E=e<m?n[e]:255;t[b++]=E&128?f:d,t[b++]=E&64?f:d,t[b++]=E&32?f:d,t[b++]=E&16?f:d,t[b++]=E&8?f:d,t[b++]=E&4?f:d,t[b++]=E&2?f:d,t[b++]=E&1?f:d}if(g===0)continue;const x=e<m?n[e++]:255;for(let A=0;A<g;A++)t[b++]=x&1<<7-A?f:d}return{srcPos:e,destPos:b}}const _x=16,Ax=100,ZD=15,Ex=10,Hn=16,gg=new DOMMatrix,ts=new Float32Array(2),mo=new Float32Array([1/0,1/0,-1/0,-1/0]);function WD(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,i,a,l,u){e.transform(t,s,i,a,l,u),this.__originalTransform(t,s,i,a,l,u)},n.setTransform=function(t,s,i,a,l,u){e.setTransform(t,s,i,a,l,u),this.__originalSetTransform(t,s,i,a,l,u)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,a,l,u){e.bezierCurveTo(t,s,i,a,l,u),this.__originalBezierCurveTo(t,s,i,a,l,u)},n.rect=function(t,s,i,a){e.rect(t,s,i,a),this.__originalRect(t,s,i,a)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class KD{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function cd(n,e,t,s,i,a,l,u,d,f){const[p,g,m,b,S,x]=kt(n);if(g===0&&m===0){const C=l*p+S,T=Math.round(C),D=u*b+x,M=Math.round(D),O=(l+d)*p+S,L=Math.abs(Math.round(O)-T)||1,I=(u+f)*b+x,j=Math.abs(Math.round(I)-M)||1;return n.setTransform(Math.sign(p),0,0,Math.sign(b),T,M),n.drawImage(e,t,s,i,a,0,0,L,j),n.setTransform(p,g,m,b,S,x),[L,j]}if(p===0&&b===0){const C=u*m+S,T=Math.round(C),D=l*g+x,M=Math.round(D),O=(u+f)*m+S,L=Math.abs(Math.round(O)-T)||1,I=(l+d)*g+x,j=Math.abs(Math.round(I)-M)||1;return n.setTransform(0,Math.sign(g),Math.sign(m),0,T,M),n.drawImage(e,t,s,i,a,0,0,j,L),n.setTransform(p,g,m,b,S,x),[j,L]}n.drawImage(e,t,s,i,a,l,u,d,f);const A=Math.hypot(p,g),E=Math.hypot(m,b);return[A*d,E*f]}class Cx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Xg;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Cn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=mo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=xn.FILL,t=null){const s=this.minMax.slice();if(e===xn.STROKE){t||mt("Stroke bounding box must include transform."),Te.singularValueDecompose2dScale(t,ts);const i=ts[0]*this.lineWidth/2,a=ts[1]*this.lineWidth/2;s[0]-=i,s[1]-=a,s[2]+=i,s[3]+=a}return s}updateClipFromPath(){const e=Te.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(mo,0)}getClippedPathBoundingBox(e=xn.FILL,t=null){return Te.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Rx(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%Hn,a=(t-i)/Hn,l=i===0?a:a+1,u=n.createImageData(s,Hn);let d=0,f;const p=e.data,g=u.data;let m,b,S,x;if(e.kind===ec.GRAYSCALE_1BPP){const A=p.byteLength,E=new Uint32Array(g.buffer,0,g.byteLength>>2),C=E.length,T=s+7>>3,D=4294967295,M=gn.isLittleEndian?4278190080:255;for(m=0;m<l;m++){for(S=m<a?Hn:i,f=0,b=0;b<S;b++){const O=A-d;let L=0;const I=O>T?s:O*8-7,j=I&-8;let U=0,$=0;for(;L<j;L+=8)$=p[d++],E[f++]=$&128?D:M,E[f++]=$&64?D:M,E[f++]=$&32?D:M,E[f++]=$&16?D:M,E[f++]=$&8?D:M,E[f++]=$&4?D:M,E[f++]=$&2?D:M,E[f++]=$&1?D:M;for(;L<I;L++)U===0&&($=p[d++],U=128),E[f++]=$&U?D:M,U>>=1}for(;f<C;)E[f++]=0;n.putImageData(u,0,m*Hn)}}else if(e.kind===ec.RGBA_32BPP){for(b=0,x=s*Hn*4,m=0;m<a;m++)g.set(p.subarray(d,d+x)),d+=x,n.putImageData(u,0,b),b+=Hn;m<l&&(x=s*i*4,g.set(p.subarray(d,d+x)),n.putImageData(u,0,b))}else if(e.kind===ec.RGB_24BPP)for(S=Hn,x=s*S,m=0;m<l;m++){for(m>=a&&(S=i,x=s*S),f=0,b=x;b--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;n.putImageData(u,0,m*Hn)}else throw new Error(`bad image kind: ${e.kind}`)}function Tx(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%Hn,a=(t-i)/Hn,l=i===0?a:a+1,u=n.createImageData(s,Hn);let d=0;const f=e.data,p=u.data;for(let g=0;g<l;g++){const m=g<a?Hn:i;({srcPos:d}=XD({src:f,srcPos:d,dest:p,width:s,height:m,nonBlackColor:0})),n.putImageData(u,0,g*Hn)}}function $l(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ud(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Mx(n,e){if(e)return!0;Te.singularValueDecompose2dScale(n,ts);const t=Math.fround(Fs.pixelRatio*ia.PDF_TO_CSS_UNITS);return ts[0]<=t&&ts[1]<=t}const QD=["butt","round","square"],JD=["miter","round","bevel"],e2={},Dx={};class bo{constructor(e,t,s,i,a,{optionalContentConfig:l,markedContentStack:u=null},d,f){this.ctx=e,this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new KD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=u,s){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...kt(this.compositeCtx))}this.ctx.save(),ud(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=kt(this.ctx)}executeOperatorList(e,t,s,i){const a=e.argsArray,l=e.fnArray;let u=t||0;const d=a.length;if(d===u)return u;const f=d-u>Ex&&typeof s=="function",p=f?Date.now()+ZD:0;let g=0;const m=this.commonObjs,b=this.objs;let S;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,s),u;if(S=l[u],S!==oc.dependency)this[S].apply(this,a[u]);else for(const x of a[u]){const A=x.startsWith("g_")?m:b;if(!A.has(x))return A.get(x,s),u}if(u++,u===d)return u;if(f&&++g>Ex){if(Date.now()>p)return s(),u;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),u=s,d=i,f="prescale1",p,g;for(;a>2&&u>1||l>2&&d>1;){let m=u,b=d;a>2&&u>1&&(m=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),a/=u/m),l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/b),p=this.cachedCanvases.getCanvas(f,m,b),g=p.context,g.clearRect(0,0,m,b),g.drawImage(e,0,0,u,d,0,0,m,b),e=p.canvas,u=m,d=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:i}=e,a=this.current.fillColor,l=this.current.patternFill,u=kt(t);let d,f,p,g;if((e.bitmap||e.data)&&e.count>1){const j=e.bitmap||e.data.buffer;f=JSON.stringify(l?u:[u.slice(0,4),a]),d=this._cachedBitmapsMap.get(j),d||(d=new Map,this._cachedBitmapsMap.set(j,d));const U=d.get(f);if(U&&!l){const $=Math.round(Math.min(u[0],u[2])+u[4]),K=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:U,offsetX:$,offsetY:K}}p=U}p||(g=this.cachedCanvases.getCanvas("maskCanvas",s,i),Tx(g.context,e));let m=Te.transform(u,[1/s,0,0,-1/i,0,0]);m=Te.transform(m,[1,0,0,1,0,-i]);const b=mo.slice();Te.axialAlignedBoundingBox([0,0,s,i],m,b);const[S,x,A,E]=b,C=Math.round(A-S)||1,T=Math.round(E-x)||1,D=this.cachedCanvases.getCanvas("fillCanvas",C,T),M=D.context,O=S,L=x;M.translate(-O,-L),M.transform(...m),p||(p=this._scaleImage(g.canvas,ei(M)),p=p.img,d&&l&&d.set(f,p)),M.imageSmoothingEnabled=Mx(kt(M),e.interpolate),cd(M,p,0,0,p.width,p.height,0,0,s,i),M.globalCompositeOperation="source-in";const I=Te.transform(ei(M),[1,0,0,1,-O,-L]);return M.fillStyle=l?a.getPattern(t,this,I,xn.FILL):a,M.fillRect(0,0,s,i),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,D.canvas)),{canvas:D.canvas,offsetX:Math.round(O),offsetY:Math.round(L)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=QD[e]}setLineJoin(e){this.ctx.lineJoin=JD[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx;const a=this.ctx=i.context;a.setTransform(this.suspendedCtx.getTransform()),$l(this.suspendedCtx,a),WD(a,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),$l(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const a=i[0],l=i[1],u=i[2]-a,d=i[3]-l;u===0||d===0||(this.genericComposeSMask(t.context,s,u,d,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,a,l,u,d,f,p,g){let m=e.canvas,b=d-p,S=f-g;if(l)if(b<0||S<0||b+s>m.width||S+i>m.height){const A=this.cachedCanvases.getCanvas("maskExtension",s,i),E=A.context;E.drawImage(m,-b,-S),E.globalCompositeOperation="destination-atop",E.fillStyle=l,E.fillRect(0,0,s,i),E.globalCompositeOperation="source-over",m=A.canvas,b=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(b,S,s,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(b,S,s,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const x=new Path2D;x.rect(d,f,s,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(m,b,S,s,i,d,f,s,i),t.restore()}save(){this.inSMaskMode&&$l(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&$l(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,i,a,l){this.ctx.transform(e,t,s,i,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){let[i]=t;if(!s){i||=t[0]=new Path2D,this[e](i);return}if(!(i instanceof Path2D)){const a=t[0]=new Path2D;for(let l=0,u=i.length;l<u;)switch(i[l++]){case ad.moveTo:a.moveTo(i[l++],i[l++]);break;case ad.lineTo:a.lineTo(i[l++],i[l++]);break;case ad.curveTo:a.bezierCurveTo(i[l++],i[l++],i[l++],i[l++],i[l++],i[l++]);break;case ad.closePath:a.closePath();break;default:Ue(`Unrecognized drawing path operator: ${i[l-1]}`);break}i=a}Te.axialAlignedBoundingBox(s,kt(this.ctx),this.current.minMax),this[e](i)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const s=this.ctx,i=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&i?.getPattern){const a=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=i.getPattern(s,this,ei(s),xn.STROKE),a){const l=new Path2D;l.addPath(e,s.getTransform().invertSelf().multiplySelf(a)),e=l}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(xn.STROKE,kt(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const s=this.ctx,i=this.current.fillColor,a=this.current.patternFill;let l=!1;if(a){const d=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=i.getPattern(s,this,ei(s),xn.FILL),d){const f=new Path2D;f.addPath(e,s.getTransform().invertSelf().multiplySelf(d)),e=f}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),l&&s.restore(),t&&this.consumePath(e,u)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=e2}eoClip(){this.pendingClip=Dx}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const s=new Path2D,i=t.getTransform().invertSelf();for(const{transform:a,x:l,y:u,fontSize:d,path:f}of e)s.addPath(f,new DOMMatrix(a).preMultiplySelf(i).translate(l,u).scale(d,-d));t.clip(s),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const s=this.commonObjs.get(e),i=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=s.fontMatrix||Xg,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ue("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const a=s.loadedName||"sans-serif",l=s.systemFontInfo?.css||`"${a}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let f=t;t<_x?f=_x:t>Ax&&(f=Ax),this.current.fontSizeScale=t/f,this.ctx.font=`${d} ${u} ${f}px ${l}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,s){const i=new Path2D;return i.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),i}paintChar(e,t,s,i,a){const l=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&Cn.FILL_STROKE_MASK,m=!!(f&Cn.ADD_TO_PATH_FLAG),b=u.patternFill&&!d.missingFile,S=u.patternStroke&&!d.missingFile;let x;if((d.disableFontFace||m||b||S)&&(x=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||b||S){l.save(),l.translate(t,s),l.scale(p,-p);let A;if((g===Cn.FILL||g===Cn.FILL_STROKE)&&(i?(A=l.getTransform(),l.setTransform(...i),l.fill(this.#n(x,A,i))):l.fill(x)),g===Cn.STROKE||g===Cn.FILL_STROKE)if(a){A||=l.getTransform(),l.setTransform(...a);const{a:E,b:C,c:T,d:D}=A,M=Te.inverseTransform(a),O=Te.transform([E,C,T,D,0,0],M);Te.singularValueDecompose2dScale(O,ts),l.lineWidth*=Math.max(ts[0],ts[1])/p,l.stroke(this.#n(x,A,a))}else l.lineWidth/=p,l.stroke(x);l.restore()}else(g===Cn.FILL||g===Cn.FILL_STROKE)&&l.fillText(e,t,s),(g===Cn.STROKE||g===Cn.FILL_STROKE)&&l.strokeText(e,t,s);m&&(this.pendingTextPaths||=[]).push({transform:kt(l),x:t,y:s,fontSize:p,path:x})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return tt(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const a=this.ctx,l=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,g=e.length,m=s.vertical,b=m?1:-1,S=s.defaultVMetrics,x=i*t.fontMatrix[0],A=t.textRenderingMode===Cn.FILL&&!s.disableFontFace&&!t.patternFill;a.save(),t.textMatrix&&a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),f>0?a.scale(p,-1):a.scale(p,1);let E,C;if(t.patternFill){a.save();const L=t.fillColor.getPattern(a,this,ei(a),xn.FILL);E=kt(a),a.restore(),a.fillStyle=L}if(t.patternStroke){a.save();const L=t.strokeColor.getPattern(a,this,ei(a),xn.STROKE);C=kt(a),a.restore(),a.strokeStyle=L}let T=t.lineWidth;const D=t.textMatrixScale;if(D===0||T===0){const L=t.textRenderingMode&Cn.FILL_STROKE_MASK;(L===Cn.STROKE||L===Cn.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=D;if(l!==1&&(a.scale(l,l),T/=l),a.lineWidth=T,s.isInvalidPDFjsFont){const L=[];let I=0;for(const j of e)L.push(j.unicode),I+=j.width;a.fillText(L.join(""),0,0),t.x+=I*x*p,a.restore(),this.compose();return}let M=0,O;for(O=0;O<g;++O){const L=e[O];if(typeof L=="number"){M+=b*L*i/1e3;continue}let I=!1;const j=(L.isSpace?d:0)+u,U=L.fontChar,$=L.accent;let K,Z,ce=L.width;if(m){const N=L.vmetric||S,B=-(L.vmetric?N[1]:ce*.5)*x,q=N[2]*x;ce=N?-N[0]:ce,K=B/l,Z=(M+q)/l}else K=M/l,Z=0;if(s.remeasure&&ce>0){const N=a.measureText(U).width*1e3/i*l;if(ce<N&&this.isFontSubpixelAAEnabled){const B=ce/N;I=!0,a.save(),a.scale(B,1),K/=B}else ce!==N&&(K+=(ce-N)/2e3*i/l)}if(this.contentVisible&&(L.isInFont||s.missingFile)){if(A&&!$)a.fillText(U,K,Z);else if(this.paintChar(U,K,Z,E,C),$){const N=K+i*$.offset.x/l,B=Z-i*$.offset.y/l;this.paintChar($.fontChar,N,B,E,C)}}const ae=m?ce*x-j*f:ce*x+j*f;M+=ae,I&&a.restore()}m?t.y-=M:t.x+=M*p,a.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,i=s.font,a=s.fontSize,l=s.fontDirection,u=i.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,p=s.textHScale*l,g=s.fontMatrix||Xg,m=e.length,b=s.textRenderingMode===Cn.INVISIBLE;let S,x,A,E;if(!(b||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),s.textMatrix&&t.transform(...s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(p,l),S=0;S<m;++S){if(x=e[S],typeof x=="number"){E=u*x*a/1e3,this.ctx.translate(E,0),s.x+=E*p;continue}const C=(x.isSpace?f:0)+d,T=i.charProcOperatorList[x.operatorListId];T?this.contentVisible&&(this.save(),t.scale(a,a),t.transform(...g),this.executeOperatorList(T),this.restore()):Ue(`Type3 character "${x.operatorListId}" is not available.`);const D=[x.width,0];Te.applyTransform(D,g),A=D[0]*a+C,t.translate(A,0),s.x+=A*p}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,i,a,l){const u=new Path2D;u.rect(s,i,a-s,l-i),this.ctx.clip(u),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=this.baseTransform||kt(this.ctx),i={createCanvasGraphics:a=>new bo(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Zm(e,this.ctx,i,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=YD(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,ei(t),xn.SHADING);const i=ei(t);if(i){const{width:a,height:l}=t.canvas,u=mo.slice();Te.axialAlignedBoundingBox([0,0,a,l],i,u);const[d,f,p,g]=u;this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){mt("Should not call beginInlineImage")}beginImageData(){mt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=kt(this.ctx),t)){Te.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[s,i,a,l]=t,u=new Path2D;u.rect(s,i,a-s,l-i),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||oh("TODO: Support non-isolated groups."),e.knockout&&Ue("Knockout groups not supported.");const s=kt(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=mo.slice();Te.axialAlignedBoundingBox(e.bbox,kt(t),i);const a=[0,0,t.canvas.width,t.canvas.height];i=Te.intersect(i,a)||[0,0,0,0];const l=Math.floor(i[0]),u=Math.floor(i[1]),d=Math.max(Math.ceil(i[2])-l,1),f=Math.max(Math.ceil(i[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,d,f),m=g.context;m.translate(-l,-u),m.transform(...s);let b=new Path2D;const[S,x,A,E]=e.bbox;if(b.rect(S,x,A-S,E-x),e.matrix){const C=new Path2D;C.addPath(b,new DOMMatrix(e.matrix)),b=C}m.clip(b),e.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,u),t.save()),$l(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=kt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const a=mo.slice();Te.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i,a),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,s,i,a){if(this.#e(),ud(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const l=t[2]-t[0],u=t[3]-t[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=l,t[3]=u,Te.singularValueDecompose2dScale(kt(this.ctx),ts);const{viewportScale:d}=this,f=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(ts[0],0,0,-ts[1],0,u*ts[1]),ud(this.ctx)}else{ud(this.ctx),this.endPath();const d=new Path2D;d.rect(t[0],t[1],l,u),this.ctx.clip(d)}}this.current=new Cx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,i=this._createMaskCanvas(e),a=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,i.offsetX,i.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,i=0,a,l){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=kt(u);u.transform(t,s,i,a,0,0);const f=this._createMaskCanvas(e);u.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,g=l.length;p<g;p+=2){const m=Te.transform(d,[t,s,i,a,l[p],l[p+1]]);u.drawImage(f.canvas,m[4],m[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const a of e){const{data:l,width:u,height:d,transform:f}=a,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),g=p.context;g.save();const m=this.getObject(l,a);Tx(g,m),g.globalCompositeOperation="source-in",g.fillStyle=i?s.getPattern(g,this,ei(t),xn.FILL):s,g.fillRect(0,0,u,d),g.restore(),t.save(),t.transform(...f),t.scale(1,-1),cd(t,p.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,i){if(!this.contentVisible)return;const a=this.getObject(e);if(!a){Ue("Dependent image isn't ready yet");return}const l=a.width,u=a.height,d=[];for(let f=0,p=i.length;f<p;f+=2)d.push({transform:[t,0,0,s,i[f],i[f+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",s,i),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,i=this.ctx;this.save();const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none"),i.scale(1/t,-1/s);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,s).context;Rx(f,e),l=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(l,ei(i));i.imageSmoothingEnabled=Mx(kt(i),e.interpolate),cd(i,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const a=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",a,l).context;Rx(d,e),i=this.applyTransferMapsToCanvas(d)}for(const a of t)s.save(),s.transform(...a.transform),s.scale(1,-1),cd(s,i,a.x,a.y,a.w,a.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const i=this.ctx;this.pendingClip&&(s||(this.pendingClip===Dx?i.clip(e,"evenodd"):i.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=kt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:a}=this.ctx.getTransform();let l,u;if(s===0&&i===0){const d=Math.abs(t),f=Math.abs(a);if(d===f)if(e===0)l=u=1/d;else{const p=d*e;l=u=p<1?1/p:1}else if(e===0)l=1/d,u=1/f;else{const p=d*e,g=f*e;l=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(t*a-s*i),f=Math.hypot(t,s),p=Math.hypot(i,a);if(e===0)l=p/d,u=f/d;else{const g=e*d;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:i}}=this,[a,l]=this.getScaleForStroking();if(a===l){s.lineWidth=(i||1)*a,s.stroke(e);return}const u=s.getLineDash();t&&s.save(),s.scale(a,l),gg.a=1/a,gg.d=1/l;const d=new Path2D;if(d.addPath(e,gg),u.length>0){const f=Math.max(a,l);s.setLineDash(u.map(p=>p/f)),s.lineDashOffset/=f}s.lineWidth=i||1,s.stroke(d),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in oc)bo.prototype[n]!==void 0&&(bo.prototype[oc[n]]=bo.prototype[n]);class Sr{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class t2{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const po=Symbol("INTERNAL");class n2{#e=!1;#t=!1;#n=!1;#s=!0;constructor(e,{name:t,intent:s,usage:i,rbGroups:a}){this.#e=!!(e&Jn.DISPLAY),this.#t=!!(e&Jn.PRINT),this.name=t,this.intent=s,this.usage=i,this.rbGroups=a}get visible(){if(this.#n)return this.#s;if(!this.#s)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,s=!1){e!==po&&mt("Internal method `_setVisible` called."),this.#n=s,this.#s=t}}class s2{#e=null;#t=new Map;#n=null;#s=null;constructor(e,t=Jn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#s=e.order;for(const s of e.groups)this.#t.set(s.id,new n2(t,s));if(e.baseState==="OFF")for(const s of this.#t.values())s._setVisible(po,!1);for(const s of e.on)this.#t.get(s)._setVisible(po,!0);for(const s of e.off)this.#t.get(s)._setVisible(po,!1);this.#n=this.getHash()}}#r(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const a=e[i];let l;if(Array.isArray(a))l=this.#r(a);else if(this.#t.has(a))l=this.#t.get(a).visible;else return Ue(`Optional content group not found: ${a}`),!0;switch(s){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return s==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return oh("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#r(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Ue(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Ue(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Ue(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ue(`Unknown optional content policy ${e.policy}.`),!0}return Ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){const i=this.#t.get(e);if(!i){Ue(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const l of a)l!==e&&this.#t.get(l)?._setVisible(po,!1,!0);i._setVisible(po,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const a=this.#t.get(i);if(a)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!a.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#s?this.#s.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new B_;for(const[t,s]of this.#t)e.update(`${t}:${s.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class i2{constructor(e,{disableRange:t=!1,disableStream:s=!1}){en(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:l,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,a?.length>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),e.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(s),!0)});en(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){en(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new r2(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new a2(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class r2{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=ch(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a2{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function o2(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let p=u(t);return p=unescape(p),p=d(p),p=f(p),a(p)}if(t=l(n),t){const p=f(t);return a(p)}if(t=s("filename","i").exec(n),t){t=t[1];let p=u(t);return p=f(p),a(p)}function s(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function i(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const m=new TextDecoder(p,{fatal:!0}),b=Ac(g);g=m.decode(b),e=!1}catch{}}return g}function a(p){return e&&/[\x80-\xff]/.test(p)&&(p=i("utf-8",p),e&&(p=i("iso-8859-1",p))),p}function l(p){const g=[];let m;const b=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=b.exec(p))!==null;){let[,x,A,E]=m;if(x=parseInt(x,10),x in g){if(x===0)break;continue}g[x]=[A,E]}const S=[];for(let x=0;x<g.length&&x in g;++x){let[A,E]=g[x];E=u(E),A&&(E=unescape(E),x===0&&(E=d(E))),S.push(E)}return S.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let m=0;m<g.length;++m){const b=g[m].indexOf('"');b!==-1&&(g[m]=g[m].slice(0,b),g.length=m+1),g[m]=g[m].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const m=p.slice(0,g),S=p.slice(g+1).replace(/^[^']*'/,"");return i(m,S)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,m,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,A){return String.fromCharCode(parseInt(A,16))}),i(m,S);try{S=atob(S)}catch{}return i(m,S)})}return""}function Z_(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function uh(n){return URL.parse(n)?.origin??null}function W_({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function K_(n){const e=n.get("Content-Disposition");if(e){let t=o2(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ch(t))return t}return null}function Mc(n,e){return new lc(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Q_(n){return n===200||n===206}function J_(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function eA(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class l2{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Z_(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return en(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new u2(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class c2{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,J_(s,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=uh(a.url),!Q_(a.status))throw Mc(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:u,suggestedLength:d}=W_({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=K_(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Hi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:eA(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class u2{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${s-1}`);const l=i.url;fetch(l,J_(a,this._withCredentials,this._abortController)).then(u=>{const d=uh(u.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!Q_(u.status))throw Mc(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:eA(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const mg=200,vg=206;function d2(n){const e=n.response;return typeof e!="string"?e:Ac(e).buffer}class h2{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Z_(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=vg):i.expectedStatus=mg,t.responseType="arraybuffer",en(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){const s=this.pendingRequests[e];s&&s.onProgress?.(t)}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){s.onError(i.status);return}const a=i.status||mg;if(!(a===mg&&s.expectedStatus===vg)&&a!==s.expectedStatus){s.onError(i.status);return}const u=d2(i);if(a===vg){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?s.onDone({begin:parseInt(f[1],10),chunk:u}):(Ue('Missing or invalid "Content-Range" header.'),s.onError(0))}else u?s.onDone({begin:0,chunk:u}):s.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class f2{constructor(e){this._source=e,this._manager=new h2(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return en(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p2(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new g2(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class p2{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=uh(t.responseURL);const s=t.getAllResponseHeaders(),i=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=W_({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=K_(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Mc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class g2{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=uh(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Mc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const m2=/^[a-z][a-z0-9\-+.]+:/i;function v2(n){if(m2.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class b2{constructor(e){this.source=e,this.url=v2(e.url),en(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return en(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new y2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new w2(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class y2{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Mc(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Hi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class w2{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Bl=Symbol("INITIAL_DATA");class tA{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Bl}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const s=this.#e[e];if(!s||s.data===Bl)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=this.#e[e];return!!t&&t.data!==Bl}delete(e){const t=this.#e[e];return!t||t.data===Bl?!1:(delete this.#e[e],!0)}resolve(e,t=null){const s=this.#t(e);s.data=t,s.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Bl&&(yield[e,t])}}}const x2=1e5,kx=30;let cc=class ys{#e=Promise.withResolvers();#t=null;#n=!1;#s=!!globalThis.FontInspector?.enabled;#r=null;#i=null;#l=0;#o=0;#d=null;#c=null;#h=0;#u=0;#f=Object.create(null);#a=[];#p=null;#m=[];#g=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#x=new WeakMap;static#_=null;static#E=new Set;constructor({textContentSource:e,container:t,viewport:s}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#u=s.scale*Fs.pixelRatio,this.#h=s.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:l,pageY:u}=s.rawDims;this.#v=[1,0,0,-1,-l,u+a],this.#o=i,this.#l=a,ys.#k(),Er(t,s),this.#e.promise.finally(()=>{ys.#E.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=gn.platform;return tt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:t,done:s})=>{if(s){this.#e.resolve();return}this.#r??=t.lang,Object.assign(this.#f,t.styles),this.#R(t.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),ys.#E.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const s=e.scale*Fs.pixelRatio,i=e.rotation;if(i!==this.#h&&(t?.(),this.#h=i,Er(this.#c,{rotation:i})),s!==this.#u){t?.(),this.#u=s;const a={div:null,properties:null,ctx:ys.#T(this.#r)};for(const l of this.#m)a.properties=this.#g.get(l),a.div=l,this.#S(a)}}cancel(){const e=new Hi("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#a}#R(e){if(this.#n)return;this.#i.ctx??=ys.#T(this.#r);const t=this.#m,s=this.#a;for(const i of e){if(t.length>x2){Ue("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id!==null&&this.#t.setAttribute("id",`${i.id}`),a.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}s.push(i.str),this.#M(i)}}#M(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#m.push(t);const i=Te.transform(this.#v,e.transform);let a=Math.atan2(i[1],i[0]);const l=this.#f[e.fontName];l.vertical&&(a+=Math.PI/2);let u=this.#s&&l.fontSubstitution||l.fontFamily;u=ys.fontFamilyMap.get(u)||u;const d=Math.hypot(i[2],i[3]),f=d*ys.#N(u,l,this.#r);let p,g;a===0?(p=i[4],g=i[5]-f):(p=i[4]+f*Math.sin(a),g=i[5]-f*Math.cos(a));const m="calc(var(--total-scale-factor) *",b=t.style;this.#t===this.#c?(b.left=`${(100*p/this.#o).toFixed(2)}%`,b.top=`${(100*g/this.#l).toFixed(2)}%`):(b.left=`${m}${p.toFixed(2)}px)`,b.top=`${m}${g.toFixed(2)}px)`),b.fontSize=`${m}${(ys.#_*d).toFixed(2)}px)`,b.fontFamily=u,s.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#s&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(s.angle=a*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);x!==A&&Math.max(x,A)/Math.min(x,A)>1.5&&(S=!0)}if(S&&(s.canvasWidth=l.vertical?e.height:e.width),this.#g.set(t,s),this.#i.div=t,this.#i.properties=s,this.#S(this.#i),s.hasText&&this.#t.append(t),s.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#t.append(x)}}#S(e){const{div:t,properties:s,ctx:i}=e,{style:a}=t;let l="";if(ys.#_>1&&(l=`scale(${1/ys.#_})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:f}=s;ys.#C(i,f*this.#u,u);const{width:p}=i.measureText(t.textContent);p>0&&(l=`scaleX(${d*this.#u/p}) ${l}`)}s.angle!==0&&(l=`rotate(${s.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#E.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#T(e=null){let t=this.#y.get(e||="");if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#x.set(t,{size:0,family:""})}return t}static#C(e,t,s){const i=this.#x.get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)}static#k(){if(this.#_!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#_=e.getBoundingClientRect().height,e.remove()}static#N(e,t,s){const i=this.#b.get(e);if(i)return i;const a=this.#T(s);a.canvas.width=a.canvas.height=kx,this.#C(a,kx,e);const l=a.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return u?f=u/(u+d):(gn.platform.isFirefox&&Ue("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#b.set(e,f),f}};class uc{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(a){if(!a)return;let l=null;const u=a.name;if(u==="#text")l=a.value;else if(uc.shouldBuildText(u))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const d of a.children)i(d)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const S2=100;function Wm(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Km,{docId:t}=e,s=n.url?ND(n.url):null,i=n.data?PD(n.data):null,a=n.httpHeaders||null,l=n.withCredentials===!0,u=n.password??null,d=n.range instanceof Qm?n.range:null,f=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let p=n.worker instanceof Ao?n.worker:null;const g=n.verbosity,m=typeof n.docBaseUrl=="string"&&!Cc(n.docBaseUrl)?n.docBaseUrl:null,b=od(n.cMapUrl),S=n.cMapPacked!==!1,x=n.CMapReaderFactory||(kn?$D:yx),A=od(n.iccUrl),E=od(n.standardFontDataUrl),C=n.StandardFontDataFactory||(kn?BD:wx),T=od(n.wasmUrl),D=n.WasmFactory||(kn?HD:xx),M=n.stopAtErrors!==!0,O=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,L=n.isEvalSupported!==!1,I=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!kn,j=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!kn&&(gn.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,$=typeof n.disableFontFace=="boolean"?n.disableFontFace:kn,K=n.fontExtraProperties===!0,Z=n.enableXfa===!0,ce=n.ownerDocument||globalThis.document,ae=n.disableRange===!0,N=n.disableStream===!0,B=n.disableAutoFetch===!0,q=n.pdfBug===!0,Y=n.CanvasFactory||(kn?zD:jD),P=n.FilterFactory||(kn?FD:ID),G=n.enableHWA===!0,se=n.useWasm!==!1,V=d?d.length:n.length??NaN,re=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!kn&&!$,ge=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(x===yx&&C===wx&&D===xx&&b&&E&&T&&Wl(b,document.baseURI)&&Wl(E,document.baseURI)&&Wl(T,document.baseURI)),ee=null;pD(g);const ue={canvasFactory:new Y({ownerDocument:ce,enableHWA:G}),filterFactory:new P({docId:t,ownerDocument:ce}),cMapReaderFactory:ge?null:new x({baseUrl:b,isCompressed:S}),standardFontDataFactory:ge?null:new C({baseUrl:E}),wasmFactory:ge?null:new D({baseUrl:T})};p||(p=Ao.create({verbosity:g,port:Sr.workerPort}),e._worker=p);const be={docId:t,apiVersion:"5.3.31",data:i,password:u,disableAutoFetch:B,rangeChunkSize:f,length:V,docBaseUrl:m,enableXfa:Z,evaluatorOptions:{maxImageSize:O,disableFontFace:$,ignoreErrors:M,isEvalSupported:L,isOffscreenCanvasSupported:I,isImageDecoderSupported:j,canvasMaxAreaInBytes:U,fontExtraProperties:K,useSystemFonts:re,useWasm:se,useWorkerFetch:ge,cMapUrl:b,iccUrl:A,standardFontDataUrl:E,wasmUrl:T}},we={ownerDocument:ce,pdfBug:q,styleElement:ee,loadingParams:{disableAutoFetch:B,enableXfa:Z}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const De=p.messageHandler.sendWithPromise("GetDocRequest",be,i?[i.buffer]:null);let $e;if(d)$e=new i2(d,{disableRange:ae,disableStream:N});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");const xt=Wl(s)?l2:kn?b2:f2;$e=new xt({url:s,length:V,httpHeaders:a,withCredentials:l,rangeChunkSize:f,disableRange:ae,disableStream:N})}return De.then(xt=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const dt=new Kl(t,xt,p.port),Qe=new E2(dt,e,$e,we,ue);e._transport=Qe,dt.send("Ready",null)})}).catch(e._capability.reject),e}class Km{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Km.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Qm=class{#e=Promise.withResolvers();#t=[];#n=[];#s=[];#r=[];constructor(e,t,s=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i}addRangeListener(e){this.#r.push(e)}addProgressListener(e){this.#s.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const s of this.#r)s(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const s of this.#s)s(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){mt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class _2{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class A2{#e=!1;constructor(e,t,s,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new mx:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new tA,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:a=!1}={}){return new Ec({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:i=ai.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1}){this._stats?.time("Overall");const m=this._transport.getRenderingIntent(s,i,p,g),{renderingIntent:b,cacheKey:S}=m;this.#e=!1,u||=this._transport.getOptionalContentConfig(b);let x=this._intentStates.get(S);x||(x=Object.create(null),this._intentStates.set(S,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const A=!!(b&Jn.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));const E=D=>{x.renderTasks.delete(C),A&&(this.#e=!0),this.#t(),D?(C.capability.reject(D),this._abortOperatorList({intentState:x,reason:D instanceof Error?D:new Error(D)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new vo({callback:E,params:{canvasContext:e,viewport:t,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:f});(x.renderTasks||=new Set).add(C);const T=C.task;return Promise.all([x.displayReadyCapability.promise,u]).then(([D,M])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(M.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:D,optionalContentConfig:M}),C.operatorListChanged()}).catch(E),T}getOperatorList({intent:e="display",annotationMode:t=ai.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){function a(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,s,i,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>uc.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function a(){l.read().then(function({value:d,done:f}){if(f){s(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),a()},i)}const l=t.getReader(),u={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new mx),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const s=this._intentStates.get(t);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:a,transfer:l}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:i},l).getReader(),f=this._intentStates.get(t);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:m})=>{if(m){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const m of f.renderTasks)m.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof lh){let i=S2;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new Hi(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var wr,Ns,zi,ta,ih,na,sa,Pn,Nd,nA,sA,Ql,_o,Pd;const Tt=class Tt{constructor({name:e=null,port:t=null,verbosity:s=gD()}={}){Qs(this,Pn);Qs(this,wr,Promise.withResolvers());Qs(this,Ns,null);Qs(this,zi,null);Qs(this,ta,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(Rt(Tt,sa).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Rt(Tt,sa).set(t,this),Js(this,Pn,nA).call(this,t)}else Js(this,Pn,sA).call(this)}get promise(){return Rt(this,wr).promise}get port(){return Rt(this,zi)}get messageHandler(){return Rt(this,Ns)}destroy(){this.destroyed=!0,Rt(this,ta)?.terminate(),zn(this,ta,null),Rt(Tt,sa).delete(Rt(this,zi)),zn(this,zi,null),Rt(this,Ns)?.destroy(),zn(this,Ns,null)}static create(e){const t=Rt(this,sa).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Tt(e)}static get workerSrc(){if(Sr.workerSrc)return Sr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return tt(this,"_setupFakeWorkerGlobal",(async()=>Rt(this,_o,Pd)?Rt(this,_o,Pd):(await import(this.workerSrc)).WorkerMessageHandler)())}};wr=new WeakMap,Ns=new WeakMap,zi=new WeakMap,ta=new WeakMap,ih=new WeakMap,na=new WeakMap,sa=new WeakMap,Pn=new WeakSet,Nd=function(){Rt(this,wr).resolve(),Rt(this,Ns).send("configure",{verbosity:this.verbosity})},nA=function(e){zn(this,zi,e),zn(this,Ns,new Kl("main","worker",e)),Rt(this,Ns).on("ready",()=>{}),Js(this,Pn,Nd).call(this)},sA=function(){if(Rt(Tt,na)||Rt(Tt,_o,Pd)){Js(this,Pn,Ql).call(this);return}let{workerSrc:e}=Tt;try{Tt._isSameOrigin(window.location,e)||(e=Tt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Kl("main","worker",t),i=()=>{a.abort(),s.destroy(),t.terminate(),this.destroyed?Rt(this,wr).reject(new Error("Worker was destroyed")):Js(this,Pn,Ql).call(this)},a=new AbortController;t.addEventListener("error",()=>{Rt(this,ta)||i()},{signal:a.signal}),s.on("test",u=>{if(a.abort(),this.destroyed||!u){i();return}zn(this,Ns,s),zn(this,zi,t),zn(this,ta,t),Js(this,Pn,Nd).call(this)}),s.on("ready",u=>{if(a.abort(),this.destroyed){i();return}try{l()}catch{Js(this,Pn,Ql).call(this)}});const l=()=>{const u=new Uint8Array;s.send("test",u,[u.buffer])};l();return}catch{oh("The worker has been disabled.")}Js(this,Pn,Ql).call(this)},Ql=function(){Rt(Tt,na)||(Ue("Setting up fake worker."),zn(Tt,na,!0)),Tt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Rt(this,wr).reject(new Error("Worker was destroyed"));return}const t=new LD;zn(this,zi,t);const s=`fake${sx(Tt,ih)._++}`,i=new Kl(s+"_worker",s,t);e.setup(i,t),zn(this,Ns,new Kl(s,s+"_worker",t)),Js(this,Pn,Nd).call(this)}).catch(e=>{Rt(this,wr).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},_o=new WeakSet,Pd=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Qs(Tt,_o),Qs(Tt,ih,0),Qs(Tt,na,!1),Qs(Tt,sa,new WeakMap),kn&&(zn(Tt,na,!0),Sr.workerSrc||="./pdf.worker.mjs"),Tt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!s?.origin||s.origin==="null")return!1;const i=new URL(t,s);return s.origin===i.origin},Tt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Tt.fromPort=e=>{if(AD("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Tt.create(e)};let Ao=Tt;class E2{#e=new Map;#t=new Map;#n=new Map;#s=new Map;#r=null;constructor(e,t,s,i,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new tA,this.fontLoader=new DD({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,t=null){const s=this.#e.get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return tt(this,"annotationStorage",new qm)}getRenderingIntent(e,t=ai.ENABLE,s=null,i=!1,a=!1){let l=Jn.DISPLAY,u=Zg;switch(e){case"any":l=Jn.ANY;break;case"display":break;case"print":l=Jn.PRINT;break;default:Ue(`getRenderingIntent - invalid intent: ${e}`)}const d=l&Jn.PRINT&&s instanceof H_?s:this.annotationStorage;switch(t){case ai.DISABLE:l+=Jn.ANNOTATIONS_DISABLE;break;case ai.ENABLE:break;case ai.ENABLE_FORMS:l+=Jn.ANNOTATIONS_FORMS;break;case ai.ENABLE_STORAGE:l+=Jn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ue(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(l+=Jn.IS_EDITING),a&&(l+=Jn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of this.#t.values())e.push(s._destroy());this.#t.clear(),this.#n.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),cc.cleanup(),this._networkStream?.cancelAllRequests(new Hi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{en(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){i.close();return}en(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:l}=this._fullReader;return(!i||!a)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{t.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(s,i)=>{en(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(s.begin,s.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:l,done:u}){if(u){i.close();return}en(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{a.cancel(l),i.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new _2(s,this))}),e.on("DocException",s=>{t._capability.reject($n(s))}),e.on("PasswordRequest",s=>{this.#r=Promise.withResolvers();try{if(!t.onPassword)throw $n(s);const i=a=>{a instanceof Error?this.#r.reject(a):this.#r.resolve({password:a})};t.onPassword(i,s.code)}catch(i){this.#r.reject(i)}return this.#r.promise}),e.on("DataLoaded",s=>{t.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,a])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":if("error"in a){const f=a.error;Ue(`Error during font loading: ${f}`),this.commonObjs.resolve(s,f);break}const l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new kD(a,l);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(s,u)});break;case"CopyLocalImage":const{imageRef:d}=a;en(d,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,p]of f.objs)if(p?.ref===d)return p.dataLen?(this.commonObjs.resolve(s,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,a,l])=>{if(this.destroyed)return;const u=this.#t.get(i);if(!u.objs.has(s)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":u.objs.resolve(s,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",s=>{this.destroyed||t.onProgress?.({loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[s.type];if(!i)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=this.#n.get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#s.set(a.refStr,e);const l=new A2(t,a,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#n.set(t,i),i}getPageIndex(e){return Wg(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new s2(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new t2(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),cc.cleanup()}}cachedPageNumber(e){if(!Wg(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#s.get(t)??null}}class C2{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class vo{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:a,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:m=null}){this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new C2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(vo.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");vo.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:a,background:l}=this.params;this.gfx=new bo(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:e,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),vo.#t.delete(this._canvas),e||=new lh(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),vo.#t.delete(this._canvas),this.callback())))}}const iA="5.3.31",rA="47ad820d9";function Nx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Hl(n){return Math.max(0,Math.min(255,255*n))}class Px{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Hl(e),[e,e,e]}static G_HTML([e]){const t=Nx(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Hl)}static RGB_HTML(e){return`#${e.map(Nx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[Hl(1-Math.min(1,e+i)),Hl(1-Math.min(1,s+i)),Hl(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,a=1-t,l=1-s,u=Math.min(i,a,l);return["CMYK",i,a,l,u]}}class R2{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){mt("Abstract method `_createSVG` called.")}}class dc extends R2{_createSVG(e){return document.createElementNS(Ii,e)}}class Jm{static setupStorage(e,t,s,i,a){const l=i.getValue(t,{value:null});switch(s.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",u=>{i.setValue(t,{value:u.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(l.value===s.attributes.xfaOn?e.setAttribute("checked",!0):l.value===s.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",u=>{i.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",u=>{i.setValue(t,{value:u.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const u of s.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;i.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:a}){const{attributes:l}=t,u=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${i}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&e.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,f)}u&&a.addLinkAttributes(e,l.href,l.newWindow),s&&l.dataId&&this.setupStorage(e,l.dataId,t,s)}static render(e){const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,a=e.intent||"display",l=document.createElement(i.name);i.attributes&&this.setAttributes({html:l,element:i,intent:a,linkService:s});const u=a!=="richText",d=e.div;if(d.append(l),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=g}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(i.children.length===0){if(i.value){const g=document.createTextNode(i.value);l.append(g),u&&uc.shouldBuildText(i.name)&&f.push(g)}return{textDivs:f}}const p=[[i,-1,l]];for(;p.length>0;){const[g,m,b]=p.at(-1);if(m+1===g.children.length){p.pop();continue}const S=g.children[++p.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const E=document.createTextNode(S.value);f.push(E),b.append(E);continue}const A=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(b.append(A),S.attributes&&this.setAttributes({html:A,element:S,storage:t,intent:a,linkService:s}),S.children?.length>0)p.push([S,-1,A]);else if(S.value){const E=document.createTextNode(S.value);u&&uc.shouldBuildText(x)&&f.push(E),A.append(E)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Dc=1e3,T2=9,ra=new WeakSet;class Ox{static create(e){switch(e.data.annotationType){case Vt.LINK:return new aA(e);case Vt.TEXT:return new M2(e);case Vt.WIDGET:switch(e.data.fieldType){case"Tx":return new D2(e);case"Btn":return e.data.radioButton?new oA(e):e.data.checkBox?new N2(e):new P2(e);case"Ch":return new O2(e);case"Sig":return new k2(e)}return new ha(e);case Vt.POPUP:return new Qg(e);case Vt.FREETEXT:return new lA(e);case Vt.LINE:return new j2(e);case Vt.SQUARE:return new I2(e);case Vt.CIRCLE:return new F2(e);case Vt.POLYLINE:return new cA(e);case Vt.CARET:return new $2(e);case Vt.INK:return new ev(e);case Vt.POLYGON:return new z2(e);case Vt.HIGHLIGHT:return new uA(e);case Vt.UNDERLINE:return new B2(e);case Vt.SQUIGGLY:return new H2(e);case Vt.STRIKEOUT:return new V2(e);case Vt.STAMP:return new dA(e);case Vt.FILEATTACHMENT:return new U2(e);default:return new Xt(e)}}}class Xt{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e?.str||t?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Xt._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#s(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#s(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#s(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:u,pageY:d}}}}=this;s?.splice(0,4,...e),t.left=`${100*(e[0]-u)/a}%`,t.top=`${100*(l-e[3]+d)/l}%`,i===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof ha||(a.tabIndex=Dc);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Qg){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:u,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(x>0||A>0){const C=`calc(${x}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof oA){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=C}switch(t.borderStyle.style){case fo.SOLID:l.borderStyle="solid";break;case fo.DASHED:l.borderStyle="dashed";break;case fo.BEVELED:Ue("Unimplemented border style: beveled");break;case fo.INSET:Ue("Unimplemented border style: inset");break;case fo.UNDERLINE:l.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(this.#t=!0,l.borderColor=Te.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):l.borderWidth=0}const f=Te.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:p,pageHeight:g,pageX:m,pageY:b}=i.rawDims;l.left=`${100*(f[0]-m)/p}%`,l.top=`${100*(f[1]-b)/g}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*u/p}%`,l.height=`${100*d/g}%`):this.setRotation(S,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:l}=this;e%180!==0&&([a,l]=[l,a]),t.style.width=`${100*a/s}%`,t.style.height=`${100*l/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const a=i.detail[t],l=a[0],u=a.slice(1);i.target.style[s]=Px[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[s]:Px[`${l}_rgb`](u)})};return tt(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||s[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,a]of Object.entries(t)){const l=s[i];if(l){const u={detail:{[i]:a},target:e};l(u),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,A,E,C]=e.subarray(2,6);if(i===x&&a===A&&t===E&&s===C)return}const{style:l}=this.container;let u;if(this.#t){const{borderColor:x,borderWidth:A}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const d=i-t,f=a-s,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0);const m=p.createElement("defs");g.append(m);const b=p.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),m.append(b);for(let x=2,A=e.length;x<A;x+=8){const E=e[x],C=e[x+1],T=e[x+2],D=e[x+3],M=p.createElement("rect"),O=(T-t)/d,L=(a-C)/f,I=(E-T)/d,j=(C-D)/f;M.setAttribute("x",O),M.setAttribute("y",L),M.setAttribute("width",I),M.setAttribute("height",j),b.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${L}" width="${I}" height="${j}"/>`)}this.#t&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{data:e}=this,t=this.#n=new Qg({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){mt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:l,exportValues:u}of i){if(a===-1||l===t)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!ra.has(f)){Ue(`_getElementsByName - element not allowed: ${l}`);continue}s.push({id:l,exportValue:d,domElement:f})}return s}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,l=i.getAttribute("data-element-id");l!==t&&ra.has(i)&&s.push({id:l,exportValue:a,domElement:i})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class aA extends Xt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(s,e.action),i=!0):e.attachment?(this.#t(s,e.attachment,e.attachmentDest),i=!0):e.setOCGState?(this.#n(s,e.setOCGState),i=!0):e.dest?(this._bindLink(s,e.dest),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),i=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,s=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,s),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const a=s.get(i);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{s?.();const{fields:i,refs:a,include:l}=t,u=[];if(i.length!==0||a.length!==0){const p=new Set(a);for(const g of i){const m=this._fieldObjects[g]||[];for(const{id:b}of m)p.add(b)}for(const g of Object.values(this._fieldObjects))for(const m of g)p.has(m.id)===l&&u.push(m)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const b=p.defaultValue||"";d.setValue(g,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(g,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(g,{value:b});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!ra.has(m)){Ue(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class M2 extends Xt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ha extends Xt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return gn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,a){s.includes("mouse")?e.addEventListener(s,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(s,l=>{if(s==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(l)}})})}_setEventListeners(e,t,s,i){for(const[a,l]of s)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,a,l,i),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Te.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||T2,a=e.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(ug*i))||1,g=f/p;l=Math.min(i,d(g/ug))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(i,d(f/ug))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=Te.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class D2 extends ha{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=s),a.setValue(l.id,{[i]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let a=i.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=i.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=u??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",u??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),ra.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Dc,this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";s.value=d.userValue=g,d.formattedValue=null});let f=p=>{const{formattedValue:g}=d;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",g=>{if(d.focused)return;const{target:m}=g;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(b){d.userValue=b.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),b.target.value=d.userValue},formattedValue(b){const{formattedValue:S}=b.detail;d.formattedValue=S,S!=null&&b.target!==document.activeElement&&(b.target.value=S),e.setValue(t,{formattedValue:S})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{const{charLimit:S}=b.detail,{target:x}=b;if(S===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",S);let A=d.userValue;!A||A.length<=S||(A=A.slice(0,S),x.value=d.userValue=A,e.setValue(t,{value:A}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),s.addEventListener("keydown",g=>{d.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:b}=g.target;d.lastCommittedValue!==b&&(d.lastCommittedValue=b,d.userValue=b,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=f;f=null,s.addEventListener("blur",g=>{if(!d.focused||!g.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:m}=g.target;d.userValue=m,d.lastCommittedValue!==m&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}),p(g)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",g=>{d.lastCommittedValue=null;const{data:m,target:b}=g,{value:S,selectionStart:x,selectionEnd:A}=b;let E=x,C=A;switch(g.inputType){case"deleteWordBackward":{const T=S.substring(0,x).match(/\w*[^\w]*$/);T&&(E-=T[0].length);break}case"deleteWordForward":{const T=S.substring(x).match(/^[^\w]*\w*/);T&&(C+=T[0].length);break}case"deleteContentBackward":x===A&&(E-=1);break;case"deleteContentForward":x===A&&(C+=1);break}g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:m||"",willCommit:!1,selStart:E,selEnd:C}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class k2 extends ha{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class N2 extends ha{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ra.add(a),a.setAttribute("data-element-id",s),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=Dc,a.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,s)){const p=d&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(s,{value:d})}),a.addEventListener("resetform",l=>{const u=t.defaultFieldValue||"Off";l.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class oA extends ha{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const l of this._getElementsByName(t.fieldName,s))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(ra.add(a),a.setAttribute("data-element-id",s),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=Dc,a.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,s))e.setValue(f.id,{value:!1});e.setValue(s,{value:d})}),a.addEventListener("resetform",l=>{const u=t.defaultFieldValue;l.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const m=p&&g.id===s;g.domElement&&(g.domElement.checked=m),e.setValue(g.id,{value:m})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class P2 extends aA{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class O2 extends ha{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");ra.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=Dc;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,s.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),a=!1),i.append(g)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),i.prepend(p),l=()=>{p.remove(),i.removeEventListener("input",l),l=null},i.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:m,multiple:b}=i;return b?Array.prototype.filter.call(m,S=>S.selected).map(S=>S[g]):m.selectedIndex===-1?null:m[m.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",p=>{const g={value(m){l?.();const b=m.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const x of i.options)x.selected=S.has(x.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(m){i.multiple=!0},remove(m){const b=i.options,S=m.detail.remove;b[S].selected=!1,i.remove(S),b.length>0&&Array.prototype.findIndex.call(b,A=>A.selected)===-1&&(b[0].selected=!0),e.setValue(t,{value:u(!0),items:f(m)}),d=u(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(m){const{index:b,displayValue:S,exportValue:x}=m.detail.insert,A=i.children[b],E=document.createElement("option");E.textContent=S,E.value=x,A?A.before(E):i.append(E),e.setValue(t,{value:u(!0),items:f(m)}),d=u(!1)},items(m){const{items:b}=m.detail;for(;i.length!==0;)i.remove(0);for(const S of b){const{displayValue:x,exportValue:A}=S,E=document.createElement("option");E.textContent=x,E.value=A,i.append(E)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:u(!0),items:f(m)}),d=u(!1)},indices(m){const b=new Set(m.detail.indices);for(const S of m.target.options)S.selected=b.has(S.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(g,p)}),i.addEventListener("input",p=>{const g=u(!0),m=u(!1);e.setValue(t,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:m,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):i.addEventListener("input",function(p){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Qg extends Xt{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:Xt._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new L2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${Bm}${s}`).join(",")),this.container}}class L2{#e=this.#R.bind(this);#t=this.#C.bind(this);#n=this.#T.bind(this);#s=this.#S.bind(this);#r=null;#i=null;#l=null;#o=null;#d=null;#c=null;#h=null;#u=!1;#f=null;#a=null;#p=null;#m=null;#g=null;#v=null;#b=!1;constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:a,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:g}){this.#i=e,this.#g=i,this.#l=l,this.#m=u,this.#c=d,this.#r=t,this.#p=f,this.#h=p,this.#d=s,this.#o=Hm.toDateObject(a),this.trigger=s.flatMap(m=>m.getElementsToTriggerPopup());for(const m of this.trigger)m.addEventListener("click",this.#s),m.addEventListener("mouseenter",this.#n),m.addEventListener("mouseleave",this.#t),m.classList.add("popupTriggerArea");for(const m of s)m.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,g&&this.#S()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#r){const a=e.style.outlineColor=Te.makeHexColor(...this.#r);e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=this.#g,e.append(t),this.#o){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#o.valueOf()})),t.append(a)}const i=this.#y;if(i)Jm.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(this.#l);e.append(a)}this.#i.append(e)}get#y(){const e=this.#m,t=this.#l;return e?.str&&(!t?.str||t.str===e.str)&&this.#m.html||null}get#x(){return this.#y?.attributes?.style?.fontSize||0}get#_(){return this.#y?.attributes?.style?.color||null}#E(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#_,fontSize:this.#x?`calc(${this.#x}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:i});return s}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let a=0,l=i.length;a<l;++a){const u=i[a];s.append(document.createTextNode(u)),a<l-1&&s.append(document.createElement("br"))}return s}#R(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#S()}updateEdited({rect:e,popupContent:t}){this.#v||={contentsObj:this.#l,richText:this.#m},e&&(this.#a=null),t&&(this.#m=this.#E(t),this.#l=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#l,richText:this.#m}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#a=null)}#M(){if(this.#a!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:a}}}=this.#c;let l=!!this.#h,u=l?this.#h:this.#p;for(const S of this.#d)if(!u||Te.intersect(S.data.rect,u)!==null){u=S.data.rect,l=!0;break}const d=Te.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),p=l?u[2]-u[0]+5:0,g=d[0]+p,m=d[1];this.#a=[100*(g-i)/t,100*(m-a)/s];const{style:b}=this.#i;b.left=`${this.#a[0]}%`,b.top=`${this.#a[1]}%`}#S(){this.#u=!this.#u,this.#u?(this.#T(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#e)):(this.#C(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#e))}#T(){this.#f||this.render(),this.isVisible?this.#u&&this.#i.classList.add("focused"):(this.#M(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#C(){this.#i.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#i.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#T(),this.#b=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class lA extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Be.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class j2 extends Xt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class I2 extends Xt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",t-a),l.setAttribute("height",s-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class F2 extends Xt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",s/2),l.setAttribute("rx",t/2-a/2),l.setAttribute("ry",s/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),i.append(l),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class cA extends Xt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:i},width:a,height:l}=this;if(!t)return this.container;const u=this.svgFactory.create(a,l,!0);let d=[];for(let p=0,g=t.length;p<g;p+=2){const m=t[p]-e[0],b=e[3]-t[p+1];d.push(`${m},${b}`)}d=d.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class z2 extends cA{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $2 extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ev extends Xt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Be.HIGHLIGHT:Be.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:i,popupRef:a}}=this,{transform:l,width:u,height:d}=this.#n(t,e),f=this.svgFactory.create(u,d,!0),p=this.#e=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",i.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,m=s.length;g<m;g++){const b=this.svgFactory.createElement(this.svgElementName);this.#t.push(b),b.setAttribute("points",s[g].join(",")),p.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:i}=e,a=this.#e;if(t>=0&&a.setAttribute("stroke-width",t||1),s)for(let l=0,u=this.#t.length;l<u;l++)this.#t[l].setAttribute("points",s[l].join(","));if(i){const{transform:l,width:u,height:d}=this.#n(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class uA extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Be.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class B2 extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class H2 extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class V2 extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class dA extends Xt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Be.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class U2 extends Xt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||t.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#t.bind(this)),this.#e=s;const{isMac:i}=gn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let tv=class hA{#e=null;#t=null;#n=new Map;#s=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:a,viewport:l,structTreeLayer:u}){this.div=e,this.#e=t,this.#t=s,this.#s=u||null,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#n.size>0}async#r(e,t){const s=e.firstChild||e,i=s.id=`${Bm}${t}`,a=await this.#s?.getAriaAttributes(i);if(a)for(const[l,u]of a)s.setAttribute(l,u);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,s,!1)}async render(e){const{annotations:t}=e,s=this.div;Er(s,this.viewport);const i=new Map,a={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new dc,annotationStorage:e.annotationStorage||new qm,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===Vt.POPUP;if(u){const p=i.get(l.id);if(!p)continue;a.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=Ox.create(a);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=i.get(l.popupRef);p?p.push(d):i.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#r(f,l.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#i()}async addLinkAnnotations(e,t){const s={data:null,layer:this.div,linkService:t,svgFactory:new dc,parent:this};for(const i of e){i.borderStyle||=hA._defaultBorderStyle,s.data=i;const a=Ox.create(s);if(!a.isRenderable)continue;const l=a.render();await this.#r(l,i.id)}}update({viewport:e}){const t=this.div;this.viewport=e,Er(t,{rotation:e.rotation}),this.#i(),t.hidden=!1}#i(){if(!this.#t)return;const e=this.div;for(const[t,s]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):i.append(s);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,s),l._hasNoCanvas=!1):l.canvas=s)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return tt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:fo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const dd=/\r\n?|\n/g;class on extends Ne{#e;#t="";#n=`${this.id}-editor`;#s=null;#r;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=on.prototype,t=a=>a.isEmpty(),s=Vi.TRANSLATE_SMALL,i=Vi.TRANSLATE_BIG;return tt(this,"_keyboardManager",new Rc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Be.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||on._defaultColor||Ne._defaultLineColor,this.#r=e.fontSize||on._defaultFontSize}static initialize(e,t){Ne.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case nt.FREETEXT_SIZE:on._defaultFontSize=t;break;case nt.FREETEXT_COLOR:on._defaultColor=t;break}}updateParams(e,t){switch(e){case nt.FREETEXT_SIZE:this.#i(t);break;case nt.FREETEXT_COLOR:this.#l(t);break}}static get defaultPropertiesToUpdate(){return[[nt.FREETEXT_SIZE,on._defaultFontSize],[nt.FREETEXT_COLOR,on._defaultColor||Ne._defaultLineColor]]}get propertiesToUpdate(){return[[nt.FREETEXT_SIZE,this.#r],[nt.FREETEXT_COLOR,this.#e]]}#i(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#r)*this.parentScale),this.#r=i,this.#d()},s=this.#r;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(e){const t=i=>{this.#e=this.editorDiv.style.color=i},s=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-on._internalPadding*e,-(on._internalPadding+this.#r)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const e=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(on.#c(s)),t=s);return e.join(`
`)}#d(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,l=a.style.display,u=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#o().trimEnd();if(e===t)return;const s=i=>{if(this.#t=i,!i){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){on._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,s.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,m]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=e+(l[0]-g)/f,S=t+this.height-(l[1]-m)/p;break;case 90:b=e+(l[0]-g)/f,S=t-(l[1]-m)/p,[u,d]=[d,-u];break;case 180:b=e-this.width+(l[0]-g)/f,S=t-(l[1]-m)/p,[u,d]=[-u,-d];break;case 270:b=e+(l[0]-g-this.height*p)/f,S=t+(l[1]-m-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(b*i,S*a,u,d)}else this._moveAfterPaste(e,t);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(dd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const i=on.#f(t.getData("text")||"").replaceAll(dd,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!i.includes(`
`)){l.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(dd,"")),b!==this.editorDiv){let S=f;for(const x of this.editorDiv.childNodes){if(x===b){S=p;continue}S.push(on.#c(x))}}f.push(u.nodeValue.slice(0,d).replaceAll(dd,""))}else if(u===this.editorDiv){let b=f,S=0;for(const x of this.editorDiv.childNodes)S++===d&&(b=p),b.push(on.#c(x))}this.#t=`${f.join(`
`)}${i}${p.join(`
`)}`,this.#h();const g=new Range;let m=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(m<=S){g.setStart(b,m),g.setEnd(b,m);break}m-=S}a.removeAllRanges(),a.addRange(g)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(" "," ")}static#f(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,s){let i=null;if(e instanceof lA){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:g},textContent:m,textPosition:b,parent:{page:{pageNumber:S}}}=e;if(!m||m.length===0)return null;i=e={annotationType:Be.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:b,pageIndex:S-1,rect:d.slice(0),rotation:f,id:p,deleted:!1,popupRef:g}}const a=await super.deserialize(e,t,s);return a.#r=e.fontSize,a.#e=Te.makeHexColor(...e.color),a.#t=on.#f(e.value),a.annotationElementId=e.id||null,a._initialData=i,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=on._internalPadding*this.parentScale,s=this.getRect(t,t),i=Ne._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),a={annotationType:Be.FREETEXT,color:i,fontSize:this.#r,value:this.#u(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.isCopy=!0,a):this.annotationElementId&&!this.#a(a)?null:(a.id=this.annotationElementId,a)}#a(e){const{value:t,fontSize:s,color:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((l,u)=>l!==i[u])||e.pageIndex!==a}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:s}=t;s.fontSize=`calc(${this.#r}px * var(--total-scale-factor))`,s.color=this.#e,t.replaceChildren();for(const a of this.#t.split(`
`)){const l=document.createElement("div");l.append(a?document.createTextNode(a):document.createElement("br")),t.append(l)}const i=on._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(i,i),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class _e{static PRECISION=1e-4;toSVGPath(){mt("Abstract method `toSVGPath` must be implemented.")}get box(){mt("Abstract getter `box` must be implemented.")}serialize(e,t){mt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,i,a,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u]*i,l[u+1]=s+e[u+1]*a;return l}static _rescaleAndSwap(e,t,s,i,a,l){l||=new Float32Array(e.length);for(let u=0,d=e.length;u<d;u+=2)l[u]=t+e[u+1]*i,l[u+1]=s+e[u]*a;return l}static _translate(e,t,s,i){i||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)i[a]=t+e[a],i[a+1]=s+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,i,a){switch(a){case 90:return[1-t/s,e/i];case 180:return[1-e/s,1-t/i];case 270:return[t/s,1-e/i];default:return[e/s,t/i]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,i,a,l){return[(e+5*s)/6,(t+5*i)/6,(5*s+a)/6,(5*i+l)/6,(s+a)/2,(i+l)/2]}}class Jr{#e;#t=[];#n;#s;#r=[];#i=new Float32Array(18);#l;#o;#d;#c;#h;#u;#f=[];static#a=8;static#p=2;static#m=Jr.#a+Jr.#p;constructor({x:e,y:t},s,i,a,l,u=0){this.#e=s,this.#u=a*i,this.#s=l,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=u,this.#c=Jr.#a*i,this.#d=Jr.#m*i,this.#h=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#i[8])}#g(){const e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[s,i,a,l]=this.#e;return[(this.#l+(e[0]-t[0])/2-s)/a,(this.#o+(e[1]-t[1])/2-i)/l,(this.#l+(t[0]-e[0])/2-s)/a,(this.#o+(t[1]-e[1])/2-i)/l]}add({x:e,y:t}){this.#l=e,this.#o=t;const[s,i,a,l]=this.#e;let[u,d,f,p]=this.#i.subarray(8,12);const g=e-f,m=t-p,b=Math.hypot(g,m);if(b<this.#d)return!1;const S=b-this.#c,x=S/b,A=x*g,E=x*m;let C=u,T=d;u=f,d=p,f+=A,p+=E,this.#f?.push(e,t);const D=-E/S,M=A/S,O=D*this.#u,L=M*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([f+O,p+L],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([f-O,p-L],16),isNaN(this.#i[6])?(this.#r.length===0&&(this.#i.set([u+O,d+L],2),this.#r.push(NaN,NaN,NaN,NaN,(u+O-s)/a,(d+L-i)/l),this.#i.set([u-O,d-L],14),this.#t.push(NaN,NaN,NaN,NaN,(u-O-s)/a,(d-L-i)/l)),this.#i.set([C,T,u,d,f,p],6),!this.isEmpty()):(this.#i.set([C,T,u,d,f,p],6),Math.abs(Math.atan2(T-d,C-u)-Math.atan2(E,A))<Math.PI/2?([u,d,f,p]=this.#i.subarray(2,6),this.#r.push(NaN,NaN,NaN,NaN,((u+f)/2-s)/a,((d+p)/2-i)/l),[u,d,C,T]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+u)/2-s)/a,((T+d)/2-i)/l),!0):([C,T,u,d,f,p]=this.#i.subarray(0,6),this.#r.push(((C+5*u)/6-s)/a,((T+5*d)/6-i)/l,((5*u+f)/6-s)/a,((5*d+p)/6-i)/l,((u+f)/2-s)/a,((d+p)/2-i)/l),[f,p,u,d,C,T]=this.#i.subarray(12,18),this.#t.push(((C+5*u)/6-s)/a,((T+5*d)/6-i)/l,((5*u+f)/6-s)/a,((5*d+p)/6-i)/l,((u+f)/2-s)/a,((d+p)/2-i)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#r,t=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#v();const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#b(s),s.join(" ")}#v(){const[e,t,s,i]=this.#e,[a,l,u,d]=this.#g();return`M${(this.#i[2]-e)/s} ${(this.#i[3]-t)/i} L${(this.#i[4]-e)/s} ${(this.#i[5]-t)/i} L${a} ${l} L${u} ${d} L${(this.#i[16]-e)/s} ${(this.#i[17]-t)/i} L${(this.#i[14]-e)/s} ${(this.#i[15]-t)/i} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,s,i,a]=this.#e,l=this.#i.subarray(4,6),u=this.#i.subarray(16,18),[d,f,p,g]=this.#g();e.push(`L${(l[0]-t)/i} ${(l[1]-s)/a} L${d} ${f} L${p} ${g} L${(u[0]-t)/i} ${(u[1]-s)/a}`)}newFreeDrawOutline(e,t,s,i,a,l){return new fA(e,t,s,i,a,l)}getOutlines(){const e=this.#r,t=this.#t,s=this.#i,[i,a,l,u]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,m=d.length-2;g<m;g+=2)d[g]=(this.#f[g]-i)/l,d[g+1]=(this.#f[g+1]-a)/u;if(d[d.length-2]=(this.#l-i)/l,d[d.length-1]=(this.#o-a)/u,isNaN(s[6])&&!this.isEmpty())return this.#x(d);const f=new Float32Array(this.#r.length+24+this.#t.length);let p=e.length;for(let g=0;g<p;g+=2){if(isNaN(e[g])){f[g]=f[g+1]=NaN;continue}f[g]=e[g],f[g+1]=e[g+1]}p=this.#E(f,p);for(let g=t.length-6;g>=6;g-=6)for(let m=0;m<6;m+=2){if(isNaN(t[g+m])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[g+m],f[p+1]=t[g+m+1],p+=2}return this.#_(f,p),this.newFreeDrawOutline(f,d,this.#e,this.#h,this.#n,this.#s)}#x(e){const t=this.#i,[s,i,a,l]=this.#e,[u,d,f,p]=this.#g(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(t[2]-s)/a,(t[3]-i)/l,NaN,NaN,NaN,NaN,(t[4]-s)/a,(t[5]-i)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-s)/a,(t[17]-i)/l,NaN,NaN,NaN,NaN,(t[14]-s)/a,(t[15]-i)/l],0),this.newFreeDrawOutline(g,e,this.#e,this.#h,this.#n,this.#s)}#_(e,t){const s=this.#t;return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6}#E(e,t){const s=this.#i.subarray(4,6),i=this.#i.subarray(16,18),[a,l,u,d]=this.#e,[f,p,g,m]=this.#g();return e.set([NaN,NaN,NaN,NaN,(s[0]-a)/u,(s[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(i[0]-a)/u,(i[1]-l)/d],t),t+=24}}class fA extends _e{#e;#t=new Float32Array(4);#n;#s;#r;#i;#l;constructor(e,t,s,i,a,l){super(),this.#l=e,this.#r=t,this.#e=s,this.#i=i,this.#n=a,this.#s=l,this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#t;for(let g=0,m=e.length;g<m;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p;for(let g=0,m=t.length;g<m;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-d)/p}toSVGPath(){const e=[`M${this.#l[4]} ${this.#l[5]}`];for(let t=6,s=this.#l.length;t<s;t+=6){if(isNaN(this.#l[t])){e.push(`L${this.#l[t+4]} ${this.#l[t+5]}`);continue}e.push(`C${this.#l[t]} ${this.#l[t+1]} ${this.#l[t+2]} ${this.#l[t+3]} ${this.#l[t+4]} ${this.#l[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,s,i],a){const l=s-e,u=i-t;let d,f;switch(a){case 0:d=_e._rescale(this.#l,e,i,l,-u),f=_e._rescale(this.#r,e,i,l,-u);break;case 90:d=_e._rescaleAndSwap(this.#l,e,t,l,u),f=_e._rescaleAndSwap(this.#r,e,t,l,u);break;case 180:d=_e._rescale(this.#l,s,t,-l,u),f=_e._rescale(this.#r,s,t,-l,u);break;case 270:d=_e._rescaleAndSwap(this.#l,s,i,-l,-u),f=_e._rescaleAndSwap(this.#r,s,i,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(e){const t=this.#l;let s=t[4],i=t[5];const a=[s,i,s,i];let l=s,u=i;const d=e?Math.max:Math.min;for(let p=6,g=t.length;p<g;p+=6){const m=t[p+4],b=t[p+5];if(isNaN(t[p]))Te.pointBoundingBox(m,b,a),u<b?(l=m,u=b):u===b&&(l=d(l,m));else{const S=[1/0,1/0,-1/0,-1/0];Te.bezierBoundingBox(s,i,...t.slice(p,p+6),S),Te.rectBoundingBox(...S,a),u<S[3]?(l=S[2],u=S[3]):u===S[3]&&(l=d(l,S[2]))}s=m,i=b}const f=this.#t;f[0]=a[0]-this.#n,f[1]=a[1]-this.#n,f[2]=a[2]-a[0]+2*this.#n,f[3]=a[3]-a[1]+2*this.#n,this.lastPoint=[l,u]}get box(){return this.#t}newOutliner(e,t,s,i,a,l=0){return new Jr(e,t,s,i,a,l)}getNewOutline(e,t){const[s,i,a,l]=this.#t,[u,d,f,p]=this.#e,g=a*f,m=l*p,b=s*f+u,S=i*p+d,x=this.newOutliner({x:this.#r[0]*g+b,y:this.#r[1]*m+S},this.#e,this.#i,e,this.#s,t??this.#n);for(let A=2;A<this.#r.length;A+=2)x.add({x:this.#r[A]*g+b,y:this.#r[A+1]*m+S});return x.getOutlines()}}class Jg{#e;#t;#n=[];#s=[];constructor(e,t=0,s=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:b,y:S,width:x,height:A}of e){const E=Math.floor((b-t)/l)*l,C=Math.ceil((b+x+t)/l)*l,T=Math.floor((S-t)/l)*l,D=Math.ceil((S+A+t)/l)*l,M=[E,T,D,!0],O=[C,T,D,!1];this.#n.push(M,O),Te.rectBoundingBox(E,T,C,D,a)}const u=a[2]-a[0]+2*s,d=a[3]-a[1]+2*s,f=a[0]-s,p=a[1]-s,g=this.#n.at(i?-1:-2),m=[g[0],g[2]];for(const b of this.#n){const[S,x,A]=b;b[0]=(S-f)/u,b[1]=(x-p)/d,b[2]=(A-p)/d}this.#e=new Float32Array([f,p,u,d]),this.#t=m}getOutlines(){this.#n.sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#d(t)),this.#l(t)):(this.#o(t),e.push(...this.#d(t)));return this.#r(e)}#r(e){const t=[],s=new Set;for(const l of e){const[u,d,f]=l;t.push([u,d,l],[u,f,l])}t.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=t.length;l<u;l+=2){const d=t[l][2],f=t[l+1][2];d.push(f),f.push(d),s.add(d),s.add(f)}const i=[];let a;for(;s.size>0;){const l=s.values().next().value;let[u,d,f,p,g]=l;s.delete(l);let m=u,b=d;for(a=[u,f],i.push(a);;){let S;if(s.has(p))S=p;else if(s.has(g))S=g;else break;s.delete(S),[u,d,f,p,g]=S,m!==u&&(a.push(m,b,u,b===d?d:f),m=u),b=b===d?f:d}a.push(m,b)}return new G2(i,this.#e,this.#t)}#i(e){const t=this.#s;let s=0,i=t.length-1;for(;s<=i;){const a=s+i>>1,l=t[a][0];if(l===e)return a;l<e?s=a+1:i=a-1}return i+1}#l([,e,t]){const s=this.#i(e);this.#s.splice(s,0,[e,t])}#o([,e,t]){const s=this.#i(e);for(let i=s;i<this.#s.length;i++){const[a,l]=this.#s[i];if(a!==e)break;if(a===e&&l===t){this.#s.splice(i,1);return}}for(let i=s-1;i>=0;i--){const[a,l]=this.#s[i];if(a!==e)break;if(a===e&&l===t){this.#s.splice(i,1);return}}}#d(e){const[t,s,i]=e,a=[[t,s,i]],l=this.#i(i);for(let u=0;u<l;u++){const[d,f]=this.#s[u];for(let p=0,g=a.length;p<g;p++){const[,m,b]=a[p];if(!(f<=m||b<=d)){if(m>=d){if(b>f)a[p][1]=f;else{if(g===1)return[];a.splice(p,1),p--,g--}continue}a[p][2]=d,b>f&&a.push([t,f,b])}}}return a}}class G2 extends _e{#e;#t;constructor(e,t,s){super(),this.#t=e,this.#e=t,this.lastPoint=s}toSVGPath(){const e=[];for(const t of this.#t){let[s,i]=t;e.push(`M${s} ${i}`);for(let a=2;a<t.length;a+=2){const l=t[a],u=t[a+1];l===s?(e.push(`V${u}`),i=u):u===i&&(e.push(`H${l}`),s=l)}e.push("Z")}return e.join(" ")}serialize([e,t,s,i],a){const l=[],u=s-e,d=i-t;for(const f of this.#t){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=e+f[g]*u,p[g+1]=i-f[g+1]*d;l.push(p)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class em extends Jr{newFreeDrawOutline(e,t,s,i,a,l){return new q2(e,t,s,i,a,l)}}class q2 extends fA{newOutliner(e,t,s,i,a,l=0){return new em(e,t,s,i,a,l)}}class es{#e=null;#t=null;#n;#s=null;#r=!1;#i=!1;#l=null;#o;#d=null;#c=null;#h;static#u=null;static get _keyboardManager(){return tt(this,"_keyboardManager",new Rc([[["Escape","mac+Escape"],es.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],es.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],es.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],es.prototype._moveToPrevious],[["Home","mac+Home"],es.prototype._moveToBeginning],[["End","mac+End"],es.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#i=!1,this.#h=nt.HIGHLIGHT_COLOR,this.#l=e):(this.#i=!0,this.#h=nt.HIGHLIGHT_DEFAULT_COLOR),this.#c=e?._uiManager||t,this.#o=this.#c._eventBus,this.#n=e?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",es.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#c._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const s=this.#t=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#n,e.append(s),e}renderMainDropdown(){const e=this.#s=this.#f();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#f(){const e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Cs,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,i]of this.#c.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=s,a.setAttribute("data-l10n-id",es.#u[s]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=i,a.setAttribute("aria-selected",i===this.#n),a.addEventListener("click",this.#a.bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#a(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const t=e.target.getAttribute("data-color");t&&this.#a(t,e)}_moveToNext(e){if(!this.#v){this.#m(e);return}if(e.target===this.#e){this.#s.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#s?.firstChild||e.target===this.#e){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#v){this.#m(e);return}this.#s.firstChild?.focus()}_moveToEnd(e){if(!this.#v){this.#m(e);return}this.#s.lastChild?.focus()}#p(e){es._keyboardManager.exec(this,e)}#m(e){if(this.#v){this.hideDropdown();return}if(this.#r=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#d)})),this.#s){this.#s.classList.remove("hidden");return}const t=this.#s=this.#f();this.#e.append(t)}#g(e){this.#s?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#d?.abort(),this.#d=null}get#v(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#v){this.#l?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#r})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#s)return;const t=this.#c.highlightColors.values();for(const s of this.#s.children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#s?.remove(),this.#s=null}}class Ut extends Ne{#e=null;#t=0;#n;#s=null;#r=null;#i=null;#l=null;#o=0;#d=null;#c=null;#h=null;#u=!1;#f=null;#a;#p=null;#m="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Be.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ut.prototype;return tt(this,"_keyboardManager",new Rc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ut._defaultColor,this.#g=e.thickness||Ut._defaultThickness,this.#a=e.opacity||Ut._defaultOpacity,this.#n=e.boxes||null,this.#v=e.methodOfCreation||"",this.#m=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#y(e),this.#M()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#l=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#M(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new Jg(this.#n,.001);this.#c=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const t=new Jg(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=t.getOutlines();const{lastPoint:s}=this.#i;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:s}){this.#c=e;const i=1.5;if(this.#i=e.getNewOutline(this.#g/2+i,.0025),t>=0)this.#h=t,this.#s=s,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Ut.#S(this.#c.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ut.#S(this.#i.box,p),path:{d:this.#i.toSVGPath()}})}const[a,l,u,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=u,this.height=d;break;case 90:{const[p,g]=this.parentDimensions;this.x=l,this.y=1-a,this.width=u*g/p,this.height=d*p/g;break}case 180:this.x=1-a,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-l,this.y=a,this.width=u*g/p,this.height=d*p/g;break}}const{lastPoint:f}=this.#i;this.#f=[(f[0]-a)/u,(f[1]-l)/d]}static initialize(e,t){Ne.initialize(e,t),Ut._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case nt.HIGHLIGHT_DEFAULT_COLOR:Ut._defaultColor=t;break;case nt.HIGHLIGHT_THICKNESS:Ut._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case nt.HIGHLIGHT_COLOR:this.#x(t);break;case nt.HIGHLIGHT_THICKNESS:this.#_(t);break}}static get defaultPropertiesToUpdate(){return[[nt.HIGHLIGHT_DEFAULT_COLOR,Ut._defaultColor],[nt.HIGHLIGHT_THICKNESS,Ut._defaultThickness]]}get propertiesToUpdate(){return[[nt.HIGHLIGHT_COLOR,this.color||Ut._defaultColor],[nt.HIGHLIGHT_THICKNESS,this.#g||Ut._defaultThickness],[nt.HIGHLIGHT_FREE,this.#u]]}#x(e){const t=(a,l)=>{this.color=a,this.#a=l,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:a,"fill-opacity":l}}),this.#r?.updateColor(a)},s=this.color,i=this.#a;this.addCommands({cmd:t.bind(this,e,Ut._defaultOpacity),undo:t.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#_(e){const t=this.#g,s=i=>{this.#g=i,this.#E(i)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:nt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#r=new es({editor:this}),e.addColorPicker(this.#r)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#k())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#k())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#R(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#M(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#R():e&&(this.#M(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#E(e){if(!this.#u)return;this.#y({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,s]=this.parentDimensions;this.setDims(this.width*t,this.height*s)}#R(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#M(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#s}=e.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#a},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#s))}static#S([e,t,s,i],a){switch(a){case 90:return[1-t-i,e,i,s];case 180:return[1-e-s,1-t-i,s,i];case 270:return[t,1-e-s,i,s]}return[e,t,s,i]}rotate(e){const{drawLayer:t}=this.parent;let s;this.#u?(e=(e-this.rotation+360)%360,s=Ut.#S(this.#c.box,e)):s=Ut.#S([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:Ut.#S(this.#i.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#m&&(e.setAttribute("aria-label",this.#m),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#T.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#s;const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),$_(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#T(e){Ut._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#l,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#k(){return this.#u?this.rotation:0}#N(){if(this.#u)return null;const[e,t]=this.pageDimensions,[s,i]=this.pageTranslation,a=this.#n,l=new Float32Array(a.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of a){const m=d*e+s,b=(1-f)*t+i;l[u]=l[u+4]=m,l[u+1]=l[u+3]=b,l[u+2]=l[u+6]=m+p*e,l[u+5]=l[u+7]=b-g*t,u+=8}return l}#P(e){return this.#c.serialize(e,this.#k())}static startHighlighting(e,t,{target:s,x:i,y:a}){const{x:l,y:u,width:d,height:f}=s.getBoundingClientRect(),p=new AbortController,g=e.combinedSignal(p),m=b=>{p.abort(),this.#A(e,b)};window.addEventListener("blur",m,{signal:g}),window.addEventListener("pointerup",m,{signal:g}),window.addEventListener("pointerdown",Gt,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Cs,{signal:g}),s.addEventListener("pointermove",this.#$.bind(this,e),{signal:g}),this._freeHighlight=new em({x:i,y:a},[l,u,d,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#$(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#A(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,s){let i=null;if(e instanceof uA){const{data:{quadPoints:S,rect:x,rotation:A,id:E,color:C,opacity:T,popupRef:D},parent:{page:{pageNumber:M}}}=e;i=e={annotationType:Be.HIGHLIGHT,color:Array.from(C),opacity:T,quadPoints:S,boxes:null,pageIndex:M-1,rect:x.slice(0),rotation:A,id:E,deleted:!1,popupRef:D}}else if(e instanceof ev){const{data:{inkLists:S,rect:x,rotation:A,id:E,color:C,borderStyle:{rawWidth:T},popupRef:D},parent:{page:{pageNumber:M}}}=e;i=e={annotationType:Be.HIGHLIGHT,color:Array.from(C),thickness:T,inkLists:S,boxes:null,pageIndex:M-1,rect:x.slice(0),rotation:A,id:E,deleted:!1,popupRef:D}}const{color:a,quadPoints:l,inkLists:u,opacity:d}=e,f=await super.deserialize(e,t,s);f.color=Te.makeHexColor(...a),f.#a=d||1,u&&(f.#g=e.thickness),f.annotationElementId=e.id||null,f._initialData=i;const[p,g]=f.pageDimensions,[m,b]=f.pageTranslation;if(l){const S=f.#n=[];for(let x=0;x<l.length;x+=8)S.push({x:(l[x]-m)/p,y:1-(l[x+1]-b)/g,width:(l[x+2]-l[x])/p,height:(l[x+1]-l[x+5])/g});f.#b(),f.#M(),f.rotate(f.rotation)}else if(u){f.#u=!0;const S=u[0],x={x:S[0]-m,y:g-(S[1]-b)},A=new em(x,[0,0,p,g],1,f.#g/2,!0,.001);for(let T=0,D=S.length;T<D;T+=2)x.x=S[T]-m,x.y=g-(S[T+1]-b),A.add(x);const{id:E,clipPathId:C}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);f.#y({highlightOutlines:A.getOutlines(),highlightId:E,clipPathId:C}),f.#M(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),s=Ne._colorManager.convert(this.color),i={annotationType:Be.HIGHLIGHT,color:s,opacity:this.#a,thickness:this.#g,quadPoints:this.#N(),outlines:this.#P(t),pageIndex:this.pageIndex,rect:t,rotation:this.#k(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#w(i)?null:(i.id=this.annotationElementId,i)}#w(e){const{color:t}=this._initialData;return e.color.some((s,i)=>s!==t[i])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class pA{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){mt("Not implemented")}}class je extends Ne{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#s=null;static#r=null;static#i=NaN;static#l=null;static#o=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#c(e),this.#f())}#c({drawOutlines:e,drawId:t,drawingOptions:s}){this.#e=e,this._drawingOptions||=s,t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#m(e.box)}#h(e,t){const{id:s}=t.drawLayer.draw(je._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[i,a]of Object.entries(t))s.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){mt("Not implemented")}static get typesMap(){mt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(je.#n.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)e.push([s,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,i]of this.constructor.typesMap)e.push([s,t[i]]);return e}_updateProperty(e,t,s){const i=this._drawingOptions,a=i[t],l=u=>{i.updateProperty(t,u);const d=this.#e.updateProperty(t,u);d&&this.#m(d),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties())};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,je._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,je._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,je._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#a([e,t,s,i]){const{parentDimensions:[a,l],rotation:u}=this;switch(u){case 90:return[t,1-e,s*(l/a),i*(a/l)];case 180:return[1-e,1-t,s,i];case 270:return[1-t,e,s*(l/a),i*(a/l)];default:return[e,t,s,i]}}#p(){const{x:e,y:t,width:s,height:i,parentDimensions:[a,l],rotation:u}=this;switch(u){case 90:return[1-t,e,s*(a/l),i*(l/a)];case 180:return[1-e,1-t,s,i];case 270:return[t,1-e,s*(a/l),i*(l/a)];default:return[e,t,s,i]}}#m(e){if([this.x,this.y,this.width,this.height]=this.#a(e),this.div){this.fixAndSetPosition();const[t,s]=this.parentDimensions;this.setDims(this.width*t,this.height*s)}this._onResized()}#g(){const{x:e,y:t,width:s,height:i,rotation:a,parentRotation:l,parentDimensions:[u,d]}=this;switch((a*4+l)/90){case 1:return[1-t-i,e,i,s];case 2:return[1-e-s,1-t-i,s,i];case 3:return[t,1-e-s,i,s];case 4:return[e,t-s*(u/d),i*(d/u),s*(u/d)];case 5:return[1-t,e,s*(u/d),i*(d/u)];case 6:return[1-e-i*(d/u),1-t,i*(d/u),s*(u/d)];case 7:return[t-s*(u/d),1-e-i*(d/u),s*(u/d),i*(d/u)];case 8:return[e-s,t-i,s,i];case 9:return[1-t,e-s,i,s];case 10:return[1-e,1-t,s,i];case 11:return[t-i,1-e,i,s];case 12:return[e-i*(d/u),t,i*(d/u),s*(u/d)];case 13:return[1-t-s*(u/d),e-i*(d/u),s*(u/d),i*(d/u)];case 14:return[1-e,1-t-s*(u/d),i*(d/u),s*(u/d)];case 15:return[t,1-e,s*(u/d),i*(d/u)];default:return[e,t,s,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,je._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,i,a){mt("Not implemented")}static startDrawing(e,t,s,i){const{target:a,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=i;if(je.#l&&je.#l!==f)return;const{viewport:{rotation:p}}=e,{width:g,height:m}=a.getBoundingClientRect(),b=je.#s=new AbortController,S=e.combinedSignal(b);if(je.#i||=d,je.#l??=f,window.addEventListener("pointerup",x=>{je.#i===x.pointerId?this._endDraw(x):je.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointercancel",x=>{je.#i===x.pointerId?this._currentParent.endDrawingSession():je.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointerdown",x=>{je.#l===x.pointerType&&((je.#o||=new Set).add(x.pointerId),je.#n.isCancellable()&&(je.#n.removeLastElement(),je.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Cs,{signal:S}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),a.addEventListener("touchmove",x=>{x.timeStamp===je.#d&&Gt(x)},{signal:S}),e.toggleDrawing(),t._editorUndoBar?.hide(),je.#n){e.drawLayer.updateProperties(this._currentDrawId,je.#n.startNew(l,u,g,m,p));return}t.updateUIForDefaultProperties(this),je.#n=this.createDrawerInstance(l,u,g,m,p),je.#r=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(je.#r.toSVGProperties(),je.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(je.#d=-1,!je.#n)return;const{offsetX:t,offsetY:s,pointerId:i}=e;if(je.#i===i){if(je.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,je.#n.add(t,s)),je.#d=e.timeStamp,Gt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,je.#n=null,je.#r=null,je.#l=null,je.#d=NaN),je.#s&&(je.#s.abort(),je.#s=null,je.#i=NaN,je.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,je.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=je.#n,i=this._currentDrawId,a=s.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,s.setLastElement(a))},undo:()=>{t.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:nt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(nt.DRAW_STEP),!je.#n.isEmpty()){const{pageDimensions:[s,i],scale:a}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:je.#n.getOutlines(s*a,i*a,a,this._INNER_MARGIN),drawingOptions:je.#r,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,i,a,l){mt("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:i,pageHeight:a,pageX:l,pageY:u}}=t.viewport,d=this.deserializeDraw(l,u,i,a,this._INNER_MARGIN,e),f=await super.deserialize(e,t,s);return f.createDrawingOptions(e),f.#c({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,s]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#e.serialize([t,s,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class Y2{#e=new Float64Array(6);#t;#n;#s;#r;#i;#l="";#o=0;#d=new kc;#c;#h;constructor(e,t,s,i,a,l){this.#c=s,this.#h=i,this.#s=a,this.#r=l,[e,t]=this.#u(e,t);const u=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t],this.#n=[{line:u,points:this.#i}],this.#e.set(u,0)}updateProperty(e,t){e==="stroke-width"&&(this.#r=t)}#u(e,t){return _e._normalizePoint(e,t,this.#c,this.#h,this.#s)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(e,t){[e,t]=this.#u(e,t);const[s,i,a,l]=this.#e.subarray(2,6),u=e-a,d=t-l;return Math.hypot(this.#c*u,this.#h*d)<=2?null:(this.#i.push(e,t),isNaN(s)?(this.#e.set([a,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([s,i,a,l,e,t],0),this.#t.push(..._e.createBezierPoints(s,i,a,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,i,a){this.#c=s,this.#h=i,this.#s=a,[e,t]=this.#u(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t];const u=this.#n.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#n.push({line:l,points:this.#i}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#i=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#l="";for(let e=0,t=this.#n.length;e<t;e++){const{line:s,points:i}=this.#n[e];this.#t=s,this.#i=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#l}}}toSVGPath(){const e=_e.svgRound(this.#t[4]),t=_e.svgRound(this.#t[5]);if(this.#i.length===2)return this.#l=`${this.#l} M ${e} ${t} Z`,this.#l;if(this.#i.length<=6){const i=this.#l.lastIndexOf("M");this.#l=`${this.#l.slice(0,i)} M ${e} ${t}`,this.#o=6}if(this.#i.length===4){const i=_e.svgRound(this.#t[10]),a=_e.svgRound(this.#t[11]);return this.#l=`${this.#l} L ${i} ${a}`,this.#o=12,this.#l}const s=[];this.#o===0&&(s.push(`M ${e} ${t}`),this.#o=6);for(let i=this.#o,a=this.#t.length;i<a;i+=6){const[l,u,d,f,p,g]=this.#t.slice(i,i+6).map(_e.svgRound);s.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}return this.#l+=s.join(" "),this.#o=this.#t.length,this.#l}getOutlines(e,t,s,i){const a=this.#n.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#d.build(this.#n,e,t,s,this.#s,this.#r,i),this.#e=null,this.#t=null,this.#n=null,this.#l=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class kc extends _e{#e;#t=0;#n;#s;#r;#i;#l;#o;#d;build(e,t,s,i,a,l,u){this.#r=t,this.#i=s,this.#l=i,this.#o=a,this.#d=l,this.#n=u??0,this.#s=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#s.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#s.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#s){if(e.push(`M${_e.svgRound(t[4])} ${_e.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${_e.svgRound(t[10])} ${_e.svgRound(t[11])}`);continue}for(let s=6,i=t.length;s<i;s+=6){const[a,l,u,d,f,p]=t.subarray(s,s+6).map(_e.svgRound);e.push(`C${a} ${l} ${u} ${d} ${f} ${p}`)}}return e.join("")}serialize([e,t,s,i],a){const l=[],u=[],[d,f,p,g]=this.#h();let m,b,S,x,A,E,C,T,D;switch(this.#o){case 0:D=_e._rescale,m=e,b=t+i,S=s,x=-i,A=e+d*s,E=t+(1-f-g)*i,C=e+(d+p)*s,T=t+(1-f)*i;break;case 90:D=_e._rescaleAndSwap,m=e,b=t,S=s,x=i,A=e+f*s,E=t+d*i,C=e+(f+g)*s,T=t+(d+p)*i;break;case 180:D=_e._rescale,m=e+s,b=t,S=-s,x=i,A=e+(1-d-p)*s,E=t+f*i,C=e+(1-d)*s,T=t+(f+g)*i;break;case 270:D=_e._rescaleAndSwap,m=e+s,b=t+i,S=-s,x=-i,A=e+(1-f-g)*s,E=t+(1-d-p)*i,C=e+(1-f)*s,T=t+(1-d)*i;break}for(const{line:M,points:O}of this.#s)l.push(D(M,m,b,S,x,a?new Array(M.length):null)),u.push(D(O,m,b,S,x,a?new Array(O.length):null));return{lines:l,points:u,rect:[A,E,C,T]}}static deserialize(e,t,s,i,a,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let g,m,b,S,x;switch(d){case 0:x=_e._rescale,g=-e/s,m=t/i+1,b=1/s,S=-1/i;break;case 90:x=_e._rescaleAndSwap,g=-t/i,m=-e/s,b=1/i,S=1/s;break;case 180:x=_e._rescale,g=e/s+1,m=-t/i,b=-1/s,S=1/i;break;case 270:x=_e._rescaleAndSwap,g=t/i+1,m=e/s+1,b=-1/i,S=-1/s;break}if(!l){l=[];for(const E of u){const C=E.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const T=new Float32Array(3*(C-2));l.push(T);let[D,M,O,L]=E.subarray(0,4);T.set([NaN,NaN,NaN,NaN,D,M],0);for(let I=4;I<C;I+=2){const j=E[I],U=E[I+1];T.set(_e.createBezierPoints(D,M,O,L,j,U),(I-2)*3),[D,M,O,L]=[O,L,j,U]}}}for(let E=0,C=l.length;E<C;E++)p.push({line:x(l[E].map(T=>T??NaN),g,m,b,S),points:x(u[E].map(T=>T??NaN),g,m,b,S)});const A=new this.prototype.constructor;return A.build(p,s,i,1,d,f,a),A}#c(e=this.#d){const t=this.#n+e/2*this.#l;return this.#o%180===0?[t/this.#r,t/this.#i]:[t/this.#i,t/this.#r]}#h(){const[e,t,s,i]=this.#e,[a,l]=this.#c(0);return[e+a,t+l,s-2*a,i-2*l]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#s){if(i.length<=12){for(let u=4,d=i.length;u<d;u+=6)Te.pointBoundingBox(i[u],i[u+1],e);continue}let a=i[4],l=i[5];for(let u=6,d=i.length;u<d;u+=6){const[f,p,g,m,b,S]=i.subarray(u,u+6);Te.bezierBoundingBox(a,l,f,p,g,m,b,S,e),a=b,l=S}}const[t,s]=this.#c();e[0]=Rn(e[0]-t,0,1),e[1]=Rn(e[1]-s,0,1),e[2]=Rn(e[2]+t,0,1),e[3]=Rn(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,s]=this.#c();this.#d=e;const[i,a]=this.#c(),[l,u]=[i-t,a-s],d=this.#e;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([e,t],s){const[i,a]=this.#c();this.#r=e,this.#i=t,this.#l=s;const[l,u]=this.#c(),d=l-i,f=u-a,p=this.#e;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(_e.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let s=0,i=0,a=0,l=0,u=0,d=0;switch(this.#t){case 90:i=t/e,a=-e/t,u=e;break;case 180:s=-1,l=-1,u=e,d=t;break;case 270:i=-t/e,a=e/t,d=t;break;default:return""}return`matrix(${s} ${i} ${a} ${l} ${_e.svgRound(u)} ${_e.svgRound(d)})`}getPathResizingSVGProperties([e,t,s,i]){const[a,l]=this.#c(),[u,d,f,p]=this.#e;if(Math.abs(f-a)<=_e.PRECISION||Math.abs(p-l)<=_e.PRECISION){const x=e+s/2-(u+f/2),A=t+i/2-(d+p/2);return{path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(t)}`,transform:`${this.rotationTransform} translate(${x} ${A})`}}}const g=(s-2*a)/(f-2*a),m=(i-2*l)/(p-2*l),b=f/s,S=p/i;return{path:{"transform-origin":`${_e.svgRound(u)} ${_e.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${_e.svgRound(a)} ${_e.svgRound(l)}) scale(${g} ${m}) translate(${_e.svgRound(-a)} ${_e.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,s,i]){const[a,l]=this.#c(),u=this.#e,[d,f,p,g]=u;if(u[0]=e,u[1]=t,u[2]=s,u[3]=i,Math.abs(p-a)<=_e.PRECISION||Math.abs(g-l)<=_e.PRECISION){const A=e+s/2-(d+p/2),E=t+i/2-(f+g/2);for(const{line:C,points:T}of this.#s)_e._translate(C,A,E,C),_e._translate(T,A,E,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(s-2*a)/(p-2*a),b=(i-2*l)/(g-2*l),S=-m*(d+a)+e+a,x=-b*(f+l)+t+l;if(m!==1||b!==1||S!==0||x!==0)for(const{line:A,points:E}of this.#s)_e._rescale(A,S,x,m,b,A),_e._rescale(E,S,x,m,b,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],s){const[i,a]=s,l=this.#e,u=e-l[0],d=t-l[1];if(this.#r===i&&this.#i===a)for(const{line:f,points:p}of this.#s)_e._translate(f,u,d,f),_e._translate(p,u,d,p);else{const f=this.#r/i,p=this.#i/a;this.#r=i,this.#i=a;for(const{line:g,points:m}of this.#s)_e._rescale(g,u,d,f,p,g),_e._rescale(m,u,d,f,p,m);l[2]*=f,l[3]*=p}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${_e.svgRound(e[0])} ${_e.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class dh extends pA{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ne._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new dh(this._viewParameters);return e.updateAll(this),e}}class nv extends je{static _type="ink";static _editorType=Be.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Ne.initialize(e,t),this._defaultDrawingOptions=new dh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return tt(this,"typesMap",new Map([[nt.INK_THICKNESS,"stroke-width"],[nt.INK_COLOR,"stroke"],[nt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,i,a){return new Y2(e,t,s,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,i,a,l){return kc.deserialize(e,t,s,i,a,l)}static async deserialize(e,t,s){let i=null;if(e instanceof ev){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:m},popupRef:b},parent:{page:{pageNumber:S}}}=e;i=e={annotationType:Be.INK,color:Array.from(p),thickness:m,opacity:g,paths:{points:l},boxes:null,pageIndex:S-1,rect:u.slice(0),rotation:d,id:f,deleted:!1,popupRef:b}}const a=await super.deserialize(e,t,s);return a.annotationElementId=e.id||null,a._initialData=i,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:s}){this._drawingOptions=nv.getDefaultDrawingOptions({stroke:Te.makeHexColor(...e),"stroke-width":t,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":l,"stroke-width":u}}=this,d={annotationType:Be.INK,color:Ne._colorManager.convert(a),opacity:l,thickness:u,paths:{lines:t,points:s},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(d.isCopy=!0,d):this.annotationElementId&&!this.#e(d)?null:(d.id=this.annotationElementId,d)}#e(e){const{color:t,thickness:s,opacity:i,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((l,u)=>l!==t[u])||e.thickness!==s||e.opacity!==i||e.pageIndex!==a}renderAnnotationElement(e){const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t}),null}}class tm extends kc{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const hd=8,Vl=3;class Kr{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,s,i){return s-=e,i-=t,s===0?i>0?0:4:s===1?i+6:2-i}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#s(e,t,s,i,a,l,u){const d=this.#t(s,i,a,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=this.#n[2*p],m=this.#n[2*p+1];if(e[(s+g)*t+(i+m)]!==0)return p}return-1}static#r(e,t,s,i,a,l,u){const d=this.#t(s,i,a,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=this.#n[2*p],m=this.#n[2*p+1];if(e[(s+g)*t+(i+m)]!==0)return p}return-1}static#i(e,t,s,i){const a=e.length,l=new Int32Array(a);for(let p=0;p<a;p++)l[p]=e[p]<=i?1:0;for(let p=1;p<s-1;p++)l[p*t]=l[p*t+t-1]=0;for(let p=0;p<t;p++)l[p]=l[t*s-1-p]=0;let u=1,d;const f=[];for(let p=1;p<s-1;p++){d=1;for(let g=1;g<t-1;g++){const m=p*t+g,b=l[m];if(b===0)continue;let S=p,x=g;if(b===1&&l[m-1]===0)u+=1,x-=1;else if(b>=1&&l[m+1]===0)u+=1,x+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const A=[g,p],E=x===g+1,C={isHole:E,points:A,id:u,parent:0};f.push(C);let T;for(const $ of f)if($.id===d){T=$;break}T?T.isHole?C.parent=E?T.parent:d:C.parent=E?d:T.parent:C.parent=E?d:0;const D=this.#s(l,t,p,g,S,x,0);if(D===-1){l[m]=-u,l[m]!==1&&(d=Math.abs(l[m]));continue}let M=this.#n[2*D],O=this.#n[2*D+1];const L=p+M,I=g+O;S=L,x=I;let j=p,U=g;for(;;){const $=this.#r(l,t,j,U,S,x,1);M=this.#n[2*$],O=this.#n[2*$+1];const K=j+M,Z=U+O;A.push(Z,K);const ce=j*t+U;if(l[ce+1]===0?l[ce]=-u:l[ce]===1&&(l[ce]=u),K===p&&Z===g&&j===L&&U===I){l[m]!==1&&(d=Math.abs(l[m]));break}else S=j,x=U,j=K,U=Z}}}return f}static#l(e,t,s,i){if(s-t<=4){for(let L=t;L<s-2;L+=2)i.push(e[L],e[L+1]);return}const a=e[t],l=e[t+1],u=e[s-4]-a,d=e[s-3]-l,f=Math.hypot(u,d),p=u/f,g=d/f,m=p*l-g*a,b=d/u,S=1/f,x=Math.atan(b),A=Math.cos(x),E=Math.sin(x),C=S*(Math.abs(A)+Math.abs(E)),T=S*(1-C+C**2),D=Math.max(Math.atan(Math.abs(E+A)*T),Math.atan(Math.abs(E-A)*T));let M=0,O=t;for(let L=t+2;L<s-2;L+=2){const I=Math.abs(m-p*e[L+1]+g*e[L]);I>M&&(O=L,M=I)}M>(f*D)**2?(this.#l(e,t,O+2,i),this.#l(e,O,s,i)):i.push(a,l)}static#o(e){const t=[],s=e.length;return this.#l(e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}static#d(e,t,s,i,a,l){const u=new Float32Array(l**2),d=-2*i**2,f=l>>1;for(let x=0;x<l;x++){const A=(x-f)**2;for(let E=0;E<l;E++)u[x*l+E]=Math.exp((A+(E-f)**2)/d)}const p=new Float32Array(256),g=-2*a**2;for(let x=0;x<256;x++)p[x]=Math.exp(x**2/g);const m=e.length,b=new Uint8Array(m),S=new Uint32Array(256);for(let x=0;x<s;x++)for(let A=0;A<t;A++){const E=x*t+A,C=e[E];let T=0,D=0;for(let O=0;O<l;O++){const L=x+O-f;if(!(L<0||L>=s))for(let I=0;I<l;I++){const j=A+I-f;if(j<0||j>=t)continue;const U=e[L*t+j],$=u[O*l+I]*p[Math.abs(U-C)];T+=U*$,D+=$}}const M=b[E]=Math.round(T/D);S[M]++}return[b,S]}static#c(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}static#h(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let u=0,d=s.length;u<d;u++){if(e[(u<<2)+3]===0){i=s[u]=255;continue}const p=s[u]=e[u<<2];p>i&&(i=p),p<a&&(a=p)}const l=255/(i-a);for(let u=0;u<t;u++)s[u]=(s[u]-a)*l;return s}static#u(e){let t,s=-1/0,i=-1/0;const a=e.findIndex(d=>d!==0);let l=a,u=a;for(t=a;t<256;t++){const d=e[t];d>s&&(t-l>i&&(i=t-l,u=t-1),s=d,l=t)}for(t=u-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:s,height:i}=e,{maxDim:a}=this.#e;let l=s,u=i;if(s>a||i>a){let m=s,b=i,S=Math.log2(Math.max(s,i)/a);const x=Math.floor(S);S=S===x?x-1:x;for(let E=0;E<S;E++){l=Math.ceil(m/2),u=Math.ceil(b/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(e,0,0,m,b,0,0,l,u),m=l,b=u,e!==t&&e.close(),e=C.transferToImageBitmap()}const A=Math.min(a/l,a/u);l=Math.round(l*A),u=Math.round(u*A)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:i},a,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,m=p.font=`${s} ${i} ${g}px ${t}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:x,actualBoundingBoxDescent:A,fontBoundingBoxAscent:E,fontBoundingBoxDescent:C,width:T}=p.measureText(e),D=1.5,M=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,T)*D),O=Math.ceil(Math.max(Math.abs(x)+Math.abs(A)||g,Math.abs(E)+Math.abs(C)||g)*D);f=new OffscreenCanvas(M,O),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=m,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,O),p.fillStyle="black",p.fillText(e,M*(D-1)/2,O*(3-D)/2);const L=this.#h(p.getImageData(0,0,M,O).data),I=this.#c(L),j=this.#u(I),U=this.#i(L,M,O,j);return this.processDrawnLines({lines:{curves:U,width:M,height:O},pageWidth:a,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,s,i,a){const[l,u,d]=this.#f(e),[f,p]=this.#d(l,u,d,Math.hypot(u,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),g=this.#u(p),m=this.#i(f,u,d,g);return this.processDrawnLines({lines:{curves:m,width:u,height:d},pageWidth:t,pageHeight:s,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:i,innerMargin:a,mustSmooth:l,areContours:u}){i%180!==0&&([t,s]=[s,t]);const{curves:d,width:f,height:p}=e,g=e.thickness??0,m=[],b=Math.min(t/f,s/p),S=b/t,x=b/s,A=[];for(const{points:C}of d){const T=l?this.#o(C):C;if(!T)continue;A.push(T);const D=T.length,M=new Float32Array(D),O=new Float32Array(3*(D===2?2:D-2));if(m.push({line:O,points:M}),D===2){M[0]=T[0]*S,M[1]=T[1]*x,O.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[L,I,j,U]=T;L*=S,I*=x,j*=S,U*=x,M.set([L,I,j,U],0),O.set([NaN,NaN,NaN,NaN,L,I],0);for(let $=4;$<D;$+=2){const K=M[$]=T[$]*S,Z=M[$+1]=T[$+1]*x;O.set(_e.createBezierPoints(L,I,j,U,K,Z),($-2)*3),[L,I,j,U]=[j,U,K,Z]}}if(m.length===0)return null;const E=u?new tm:new kc;return E.build(m,t,s,1,i,u?0:g,a),{outline:E,newCurves:A,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:i,height:a}){let l=1/0,u=-1/0,d=0;for(const T of e){d+=T.length;for(let D=2,M=T.length;D<M;D++){const O=T[D]-T[D-2];l=Math.min(l,O),u=Math.max(u,O)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=e.length,g=hd+Vl*p,m=new Uint32Array(g);let b=0;m[b++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,m[b++]=0,m[b++]=i,m[b++]=a,m[b++]=t?0:1,m[b++]=Math.max(0,Math.floor(s??0)),m[b++]=p,m[b++]=f.BYTES_PER_ELEMENT;for(const T of e)m[b++]=T.length-2,m[b++]=T[0],m[b++]=T[1];const S=new CompressionStream("deflate-raw"),x=S.writable.getWriter();await x.ready,x.write(m);const A=f.prototype.constructor;for(const T of e){const D=new A(T.length-2);for(let M=2,O=T.length;M<O;M++)D[M-2]=T[M]-T[M-2];x.write(D)}x.close();const E=await new Response(S.readable).arrayBuffer(),C=new Uint8Array(E);return j_(C)}static async decompressSignature(e){try{const t=_D(e),{readable:s,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,u=0;for await(const T of s)l||=new Uint8Array(new Uint32Array(T.buffer,0,4)[0]),l.set(T,u),u+=T.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],m=d[4]===0,b=d[5],S=d[6],x=d[7],A=[],E=(hd+Vl*S)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(x){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,E);break}u=0;for(let T=0;T<S;T++){const D=d[Vl*T+hd],M=new Float32Array(D+2);A.push(M);for(let O=0;O<Vl-1;O++)M[O]=d[Vl*T+hd+O+1];for(let O=0;O<D;O++)M[O+2]=M[O]+C[u++]}return{areContours:m,thickness:b,outlines:A,width:p,height:g}}catch(t){return Ue(`decompressSignature: ${t}`),null}}}class sv extends pA{constructor(){super(),super.updateProperties({fill:Ne._defaultLineColor,"stroke-width":0})}clone(){const e=new sv;return e.updateAll(this),e}}class iv extends dh{constructor(e){super(e),super.updateProperties({stroke:Ne._defaultLineColor,"stroke-width":1})}clone(){const e=new iv(this._viewParameters);return e.updateAll(this),e}}class si extends je{#e=!1;#t=null;#n=null;#s=null;static _type="signature";static _editorType=Be.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Ne.initialize(e,t),this._defaultDrawingOptions=new sv,this._defaultDrawnSignatureOptions=new iv(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return tt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:i,mustSmooth:a,areContours:l,description:u,uuid:d,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:g},rotation:m}=this.parent.viewport,b=Kr.processDrawnLines({lines:i,pageWidth:p,pageHeight:g,rotation:m,innerMargin:si._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(b,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#s=e,this.addEditToolbar()}getUuid(){return this.#s}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:i,height:a}=this.#n,l=Math.max(i,a),u=Kr.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:s,width:i,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:u.outline}}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.signatureManager&&this.#t!==null&&(await e.addEditSignatureButton(this._uiManager.signatureManager,this.#s,this.#t),e.show()),e):null}addSignature(e,t,s,i){const{x:a,y:l}=this,{outline:u}=this.#n=e;this.#e=u instanceof tm,this.#t=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let d;this.#e?d=si.getDefaultDrawingOptions():(d=si._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[f,p]=this.parentDimensions,[,g]=this.pageDimensions;let m=t/g;m=m>=1?.5:m,this.width*=m/this.height,this.width>=1&&(m*=.9/this.width,this.width=.9),this.height=m,this.setDims(f*this.width,p*this.height),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:i}=this.parent.viewport;return Kr.process(e,t,s,i,si._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:i},rotation:a}=this.parent.viewport;return Kr.extractContoursFromText(e,t,s,i,a,si._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:i}=this.parent.viewport;return Kr.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:i,innerMargin:si._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=si.getDefaultDrawingOptions():(this._drawingOptions=si._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:s,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,l={annotationType:Be.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.paths={lines:t,points:s},l.uuid=this.#s,l.isCopy=!0):l.lines=t,this.#t&&(l.accessibilityData={type:"Figure",alt:this.#t}),l}static deserializeDraw(e,t,s,i,a,l){return l.areContours?tm.deserialize(e,t,s,i,a,l):kc.deserialize(e,t,s,i,a,l)}static async deserialize(e,t,s){const i=await super.deserialize(e,t,s);return i.#e=e.areContours,i.#t=e.accessibilityData?.alt||"",i.#s=e.uuid,i}}class X2 extends Ne{#e=null;#t=null;#n=null;#s=null;#r=null;#i="";#l=null;#o=!1;#d=null;#c=!1;#h=!1;static _type="stamp";static _editorType=Be.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#s=e.bitmapUrl,this.#r=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Ne.initialize(e,t)}static isHandlingMimeForPasting(e){return Bd.includes(e)}static paste(e,t){t.pasteEditor({mode:Be.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#i=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#l){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:l}=e||this.copyCanvas(null,null,!0).imageData,u=await s.guess({name:"altText",request:{data:i,width:a,height:l,channels:i.length/(a*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#a(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(i=>this.#u(i)).finally(()=>this.#f());return}if(this.#r){const s=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(i=>this.#u(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Bd.join(",");const t=this._uiManager._signal;this.#n=new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(i)}s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#l?.remove(),this.#l=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#a();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l===null&&this.#a(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#s||this.#r||this.#t||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#o||(this.#e?this.#p():this.#a()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#t=s,i&&(this.#e=i),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#g()},e)}#p(){const{div:e}=this;let{width:t,height:s}=this.#e;const[i,a]=this.pageDimensions,l=.75;if(this.width)t=this.width*i,s=this.height*a;else if(t>l*i||s>l*a){const p=Math.min(l*i/t,l*a/s);t*=p,s*=p}const[u,d]=this.parentDimensions;this.setDims(t*u/i,s*d/a),this._uiManager.enableWaiting(!1);const f=this.#l=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=t/i,this.height=s/a,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i)}copyCanvas(e,t,s=!1){e||(e=224);const{width:i,height:a}=this.#e,l=new Fs;let u=this.#e,d=i,f=a,p=null;if(t){if(i>t||a>t){const O=Math.min(t/i,t/a);d=Math.floor(i*O),f=Math.floor(a*O)}p=document.createElement("canvas");const m=p.width=Math.ceil(d*l.sx),b=p.height=Math.ceil(f*l.sy);this.#c||(u=this.#m(m,b));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let x="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",A="#42414d");const E=15,C=E*l.sx,T=E*l.sy,D=new OffscreenCanvas(C*2,T*2),M=D.getContext("2d");M.fillStyle=x,M.fillRect(0,0,C*2,T*2),M.fillStyle=A,M.fillRect(0,0,C,T),M.fillRect(C,T,C,T),S.fillStyle=S.createPattern(D,"repeat"),S.fillRect(0,0,m,b),S.drawImage(u,0,0,u.width,u.height,0,0,m,b)}let g=null;if(s){let m,b;if(l.symmetric&&u.width<e&&u.height<e)m=u.width,b=u.height;else if(u=this.#e,i>e||a>e){const A=Math.min(e/i,e/a);m=Math.floor(i*A),b=Math.floor(a*A),this.#c||(u=this.#m(m,b))}const x=new OffscreenCanvas(m,b).getContext("2d",{willReadFrequently:!0});x.drawImage(u,0,0,u.width,u.height,0,0,m,b),g={width:m,height:b,data:x.getImageData(0,0,m,b).data}}return{canvas:p,width:d,height:f,imageData:g}}#m(e,t){const{width:s,height:i}=this.#e;let a=s,l=i,u=this.#e;for(;a>2*e||l>2*t;){const d=a,f=l;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,a,l),u=p.transferToImageBitmap()}return u}#g(){const[e,t]=this.parentDimensions,{width:s,height:i}=this,a=new Fs,l=Math.ceil(s*e*a.sx),u=Math.ceil(i*t*a.sy),d=this.#l;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#c?this.#e:this.#m(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#v(e){if(e){if(this.#c){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){const[t,s]=this.pageDimensions,i=Math.round(this.width*t*ia.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*ia.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(i,a);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,a),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,s){let i=null,a=!1;if(e instanceof dA){const{data:{rect:x,rotation:A,id:E,structParent:C,popupRef:T},container:D,parent:{page:{pageNumber:M}},canvas:O}=e;let L,I;O?(delete e.canvas,{id:L,bitmap:I}=s.imageManager.getFromCanvas(D.id,O),O.remove()):(a=!0,e._hasNoCanvas=!0);const j=(await t._structTree.getAriaAttributes(`${Bm}${E}`))?.get("aria-label")||"";i=e={annotationType:Be.STAMP,bitmapId:L,bitmap:I,pageIndex:M-1,rect:x.slice(0),rotation:A,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:j},isSvg:!1,structParent:C,popupRef:T}}const l=await super.deserialize(e,t,s),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:m}=e;a?(s.addMissingCanvas(e.id,l),l.#o=!0):p&&s.imageManager.isValidId(p)?(l.#t=p,d&&(l.#e=d)):l.#s=f,l.#c=g;const[b,S]=l.pageDimensions;return l.width=(u[2]-u[0])/b,l.height=(u[3]-u[1])/S,l.annotationElementId=e.id||null,m&&(l.altTextData=m),l._initialData=i,l.#h=!!i,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Be.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=this.#v(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const u=this.#b(s);if(u.isSame)return null;u.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,t===null)return s;t.stamps||=new Map;const l=this.#c?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:s}),s.bitmap=this.#v(!1);else if(this.#c){const u=t.stamps.get(this.#t);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#v(!1))}return s}#b(e){const{pageIndex:t,accessibilityData:{altText:s}}=this._initialData,i=e.pageIndex===t,a=(e.accessibilityData?.alt||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class ri{#e;#t=!1;#n=null;#s=null;#r=null;#i=new Map;#l=!1;#o=!1;#d=!1;#c=null;#h=null;#u=null;#f=null;#a;static _initialized=!1;static#p=new Map([on,nv,X2,Ut,si].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:a,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const g=[...ri.#p.values()];if(!ri._initialized){ri._initialized=!0;for(const m of g)m.initialize(p,e)}e.registerEditorTypes(g),this.#a=e,this.pageIndex=t,this.div=s,this.#e=a,this.#n=l,this.viewport=f,this.#u=d,this.drawLayer=u,this._structTree=i,this.#a.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#a.getMode()===Be.NONE}updateToolbar(e){this.#a.updateToolbar(e)}updateMode(e=this.#a.getMode()){switch(this.#y(),e){case Be.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Be.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Be.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of ri.#p.values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#a.setEditingState(e)}addCommands(e){this.#a.addCommands(e)}cleanUndoStack(e){this.#a.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of this.#i.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#a.removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!this.#n){this.#d=!1;return}const t=this.#n.getEditableAnnotations();for(const s of t){if(s.hide(),this.#a.isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}this.#d=!1}disable(){this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of this.#i.values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()}if(this.#n){const i=this.#n.getEditableAnnotations();for(const a of i){const{id:l}=a.data;if(this.#a.isDeletedAnnotationElement(l))continue;let u=t.get(l);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=e.get(l),u&&(this.#a.addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}this.#y(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const i of ri.#p.values())s.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#a.getActive()!==e&&this.#a.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#a.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(e){this.#a.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:s}=gn.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#a.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),Ut.startHighlighting(this,this.#a.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#a._signal}),e.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const e=this.#a.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#s?.abort(),this.#s=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:t}=e;t&&this.#a.isDeletedAnnotationElement(t)&&this.#a.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#a.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#a.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#a.addDeletedAnnotationElement(e.annotationElementId),Ne.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#a.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#a.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#r&&(e._focusEventsAllowed=!1,this.#r=setTimeout(()=>{this.#r=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#a._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return this.#a.getId()}get#g(){return ri.#p.get(this.#a.getMode())}combinedSignal(e){return this.#a.combinedSignal(e)}#v(e){const t=this.#g;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#a.updateMode(e.mode);const{offsetX:s,offsetY:i}=this.#b(),a=this.getNextId(),l=this.#v({parent:this,id:a,x:s,y:i,uiManager:this.#a,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await ri.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#a)||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),a=this.#v({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#a,isCentered:t,...s});return a&&this.add(a),a}#b(){const{x:e,y:t,width:s,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),l=Math.max(0,t),u=Math.min(window.innerWidth,e+s),d=Math.min(window.innerHeight,t+i),f=(a+u)/2-e,p=(l+d)/2-t,[g,m]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#b(),!0,e)}setSelected(e){this.#a.setSelected(e)}toggleSelected(e){this.#a.toggleSelected(e)}unselect(e){this.#a.unselect(e)}pointerup(e){const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#l||(this.#l=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const s=this.#a.getMode();if(s===Be.STAMP||s===Be.SIGNATURE){this.#a.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#a.getMode()===Be.HIGHLIGHT&&this.enableTextSelection(),this.#l){this.#l=!1;return}const{isMac:t}=gn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#l=!0,this.#g?.isDrawer){this.startDrawingSession(e);return}const s=this.#a.getActive();this.#t=!s||s.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#a,!1,e);return}this.#a.setCurrentDrawingSession(this),this.#c=new AbortController;const t=this.#a.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#g.startDrawing(this,this.#a,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#c?(this.#a.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#h=null,this.#g.endDrawing(e)):null}findNewParent(e,t,s){const i=this.#a.findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#a.getActive()?.parent===this&&(this.#a.commitOrRemove(),this.#a.setActiveEditor(null)),this.#r&&(clearTimeout(this.#r),this.#r=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#a.removeLayer(this)}#y(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Er(this.div,e);for(const t of this.#a.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#a.commitOrRemove(),this.#y();const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Er(this.div,{rotation:s}),t!==s)for(const i of this.#i.values())i.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#a.viewParameters.realScale}}class pn{#e=null;#t=new Map;#n=new Map;static#s=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return tt(this,"_svgFactory",new dc)}static#r(e,[t,s,i,a]){const{style:l}=e;l.top=`${100*s}%`,l.left=`${100*t}%`,l.width=`${100*i}%`,l.height=`${100*a}%`}#i(){const e=pn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#l(e,t){const s=pn._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const a=pn._svgFactory.createElement("use");return s.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),i}#o(e,t){for(const[s,i]of Object.entries(t))i===null?e.removeAttribute(s):e.setAttribute(s,i)}draw(e,t=!1,s=!1){const i=pn.#s++,a=this.#i(),l=pn._svgFactory.createElement("defs");a.append(l);const u=pn._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${i}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(i,u);const f=s?this.#l(l,d):null,p=pn._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(a,e),this.#t.set(i,a),{id:i,clipPathId:`url(#${f})`}}drawOutline(e,t){const s=pn.#s++,i=this.#i(),a=pn._svgFactory.createElement("defs");i.append(a);const l=pn._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const g=pn._svgFactory.createElement("mask");a.append(g),d=`mask_p${this.pageIndex}_${s}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const m=pn._svgFactory.createElement("rect");g.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const b=pn._svgFactory.createElement("use");g.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=pn._svgFactory.createElement("use");i.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return i.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(s,i),s}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:i,rootClass:a,path:l}=t,u=typeof e=="number"?this.#t.get(e):e;if(u){if(s&&this.#o(u,s),i&&pn.#r(u,i),a){const{classList:d}=u;for(const[f,p]of Object.entries(a))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(e,t){if(t===this)return;const s=this.#t.get(e);s&&(t.#e.append(s),this.#t.delete(e),t.#t.set(e,s))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Jg};globalThis.pdfjsLib={AbortException:Hi,AnnotationEditorLayer:ri,AnnotationEditorParamsType:nt,AnnotationEditorType:Be,AnnotationEditorUIManager:Vi,AnnotationLayer:tv,AnnotationMode:ai,AnnotationType:Vt,build:rA,ColorPicker:es,createValidAbsoluteUrl:Fm,DOMSVGFactory:dc,DrawLayer:pn,FeatureTest:gn,fetchData:Do,getDocument:Wm,getFilenameFromUrl:I_,getPdfFilenameFromUrl:F_,getUuid:$m,getXfaPageViewport:z_,GlobalWorkerOptions:Sr,ImageKind:ec,InvalidPDFException:$d,isDataScheme:Cc,isPdfFile:ch,isValidExplicitDest:V_,MathClamp:Rn,noContextMenu:Cs,normalizeUnicode:L_,OPS:oc,OutputScale:Fs,PasswordResponses:P_,PDFDataRangeTransport:Qm,PDFDateString:Hm,PDFWorker:Ao,PermissionFlag:N_,PixelsPerInch:ia,RenderingCancelledException:lh,ResponseException:lc,setLayerDimensions:Er,shadow:tt,SignatureExtractor:Kr,stopEvent:Gt,SupportedImageMimeTypes:Bd,TextLayer:cc,TouchManager:Tc,updateUrlHash:zm,Util:Te,VerbosityLevel:_c,version:iA,XfaLayer:Jm};const Z2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Hi,AnnotationEditorLayer:ri,AnnotationEditorParamsType:nt,AnnotationEditorType:Be,AnnotationEditorUIManager:Vi,AnnotationLayer:tv,AnnotationMode:ai,AnnotationType:Vt,ColorPicker:es,DOMSVGFactory:dc,DrawLayer:pn,FeatureTest:gn,GlobalWorkerOptions:Sr,ImageKind:ec,InvalidPDFException:$d,MathClamp:Rn,OPS:oc,OutputScale:Fs,PDFDataRangeTransport:Qm,PDFDateString:Hm,PDFWorker:Ao,PasswordResponses:P_,PermissionFlag:N_,PixelsPerInch:ia,RenderingCancelledException:lh,ResponseException:lc,SignatureExtractor:Kr,SupportedImageMimeTypes:Bd,TextLayer:cc,TouchManager:Tc,Util:Te,VerbosityLevel:_c,XfaLayer:Jm,build:rA,createValidAbsoluteUrl:Fm,fetchData:Do,getDocument:Wm,getFilenameFromUrl:I_,getPdfFilenameFromUrl:F_,getUuid:$m,getXfaPageViewport:z_,isDataScheme:Cc,isPdfFile:ch,isValidExplicitDest:V_,noContextMenu:Cs,normalizeUnicode:L_,setLayerDimensions:Er,shadow:tt,stopEvent:Gt,updateUrlHash:zm,version:iA},Symbol.toStringTag,{value:"Module"})),W2=["onCopy","onCut","onPaste"],K2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Q2=["onFocus","onBlur"],J2=["onInput","onInvalid","onReset","onSubmit"],ek=["onLoad","onError"],tk=["onKeyDown","onKeyPress","onKeyUp"],nk=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],sk=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],ik=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],rk=["onSelect"],ak=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],ok=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],lk=["onScroll"],ck=["onWheel"],uk=["onAnimationStart","onAnimationEnd","onAnimationIteration"],dk=["onTransitionEnd"],hk=["onToggle"],fk=["onChange"],pk=[...W2,...K2,...Q2,...J2,...ek,...tk,...nk,...sk,...ik,...rk,...ak,...ok,...lk,...ck,...uk,...dk,...fk,...hk];function gA(n,e){const t={};for(const s of pk){const i=n[s];i&&(e?t[s]=a=>i(a,e(s)):t[s]=i)}return t}function Nc(n){let e=!1;return{promise:new Promise((s,i)=>{n.then(a=>!e&&s(a)).catch(a=>!e&&i(a))}),cancel(){e=!0}}}function mA(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=mA(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function ko(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=mA(n))&&(s&&(s+=" "),s+=e);return s}var gk="Invariant failed";function wt(n,e){if(!n)throw new Error(gk)}var bg,Lx;function mk(){if(Lx)return bg;Lx=1;var n=function(){};return bg=n,bg}var vk=mk();const Tn=Im(vk);var jx=Object.prototype.hasOwnProperty;function Ix(n,e,t){for(t of n.keys())if(yo(t,e))return t}function yo(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&yo(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=Ix(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=Ix(e,i),!i)||!yo(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(jx.call(n,t)&&++s&&!jx.call(e,t)||!(t in e)||!yo(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}const vA=_.createContext(null);function wo({children:n,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const bk="noopener noreferrer nofollow";class yk{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return wt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){wt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{wt(this.pdfDocument),wt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{wt(Array.isArray(t));const s=t[0];new Promise(i=>{wt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(a=>{i(a)}).catch(()=>{wt(!1)}):typeof s=="number"?i(s):wt(!1)}).then(i=>{const a=i+1;wt(this.pdfViewer),wt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;wt(this.pdfViewer),wt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||bk,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Fx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},hh=typeof window<"u",bA=hh&&window.location.protocol==="file:";function wk(n){return typeof n<"u"}function Zr(n){return wk(n)&&n!==null}function xk(n){return typeof n=="string"}function Sk(n){return n instanceof ArrayBuffer}function _k(n){return wt(hh),n instanceof Blob}function nm(n){return xk(n)&&/^data:/.test(n)}function zx(n){wt(nm(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Ak(){return hh&&window.devicePixelRatio||1}const yA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function $x(){Tn(!bA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${yA}`)}function Ek(){Tn(!bA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${yA}`)}function aa(n){n?.cancel&&n.cancel()}function sm(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Ck(n){return n.name==="RenderingCancelledException"}function Rk(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}function Tk(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Eo(){return _.useReducer(Tk,{value:void 0,error:void 0})}var Bx=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const{PDFDataRangeTransport:Mk}=Z2,Dk=(n,e)=>{switch(e){case Fx.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case Fx.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function Hx(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const kk=_.forwardRef(function(e,t){var{children:s,className:i,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:u,file:d,inputRef:f,imageResourcesPath:p,loading:g="Loading PDF…",noData:m="No PDF file specified.",onItemClick:b,onLoadError:S,onLoadProgress:x,onLoadSuccess:A,onPassword:E=Dk,onSourceError:C,onSourceSuccess:T,options:D,renderMode:M,rotate:O,scale:L}=e,I=Bx(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[j,U]=Eo(),{value:$,error:K}=j,[Z,ce]=Eo(),{value:ae,error:N}=Z,B=_.useRef(new yk),q=_.useRef([]),Y=_.useRef(void 0),P=_.useRef(void 0);d&&d!==Y.current&&Hx(d)&&(Tn(!yo(d,Y.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Y.current=d),D&&D!==P.current&&(Tn(!yo(D,P.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),P.current=D);const G=_.useRef({scrollPageIntoView:Qe=>{const{dest:Et,pageNumber:ht,pageIndex:bt=ht-1}=Qe;if(b){b({dest:Et,pageIndex:bt,pageNumber:ht});return}const os=q.current[bt];if(os){os.scrollIntoView();return}Tn(!1,`An internal link leading to page ${ht} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(t,()=>({linkService:B,pages:q,viewer:G}),[]);function se(){T&&T()}function V(){K&&(Tn(!1,K.toString()),C&&C(K))}function re(){U({type:"RESET"})}_.useEffect(re,[d,U]);const ge=_.useCallback(async()=>{if(!d)return null;if(typeof d=="string")return nm(d)?{data:zx(d)}:($x(),{url:d});if(d instanceof Mk)return{range:d};if(Sk(d))return{data:d};if(hh&&_k(d))return{data:await Rk(d)};if(wt(typeof d=="object"),wt(Hx(d)),"url"in d&&typeof d.url=="string"){if(nm(d.url)){const{url:Qe}=d,Et=Bx(d,["url"]),ht=zx(Qe);return Object.assign({data:ht},Et)}$x()}return d},[d]);_.useEffect(()=>{const Qe=Nc(ge());return Qe.promise.then(Et=>{U({type:"RESOLVE",value:Et})}).catch(Et=>{U({type:"REJECT",error:Et})}),()=>{aa(Qe)}},[ge,U]),_.useEffect(()=>{if(!(typeof $>"u")){if($===!1){V();return}se()}},[$]);function ee(){ae&&(A&&A(ae),q.current=new Array(ae.numPages),B.current.setDocument(ae))}function ue(){N&&(Tn(!1,N.toString()),S&&S(N))}_.useEffect(function(){ce({type:"RESET"})},[ce,$]),_.useEffect(function(){if(!$)return;const Et=D?Object.assign(Object.assign({},$),D):$,ht=Wm(Et);x&&(ht.onProgress=x),E&&(ht.onPassword=E);const bt=ht,os=bt.promise.then(It=>{ce({type:"RESOLVE",value:It})}).catch(It=>{bt.destroyed||ce({type:"REJECT",error:It})});return()=>{os.finally(()=>bt.destroy())}},[D,ce,$]),_.useEffect(()=>{if(!(typeof ae>"u")){if(ae===!1){ue();return}ee()}},[ae]),_.useEffect(function(){B.current.setViewer(G.current),B.current.setExternalLinkRel(l),B.current.setExternalLinkTarget(u)},[l,u]);const be=_.useCallback((Qe,Et)=>{q.current[Qe]=Et},[]),we=_.useCallback(Qe=>{delete q.current[Qe]},[]),De=_.useMemo(()=>({imageResourcesPath:p,linkService:B.current,onItemClick:b,pdf:ae,registerPage:be,renderMode:M,rotate:O,scale:L,unregisterPage:we}),[p,b,ae,be,M,O,L,we]),$e=_.useMemo(()=>gA(I,()=>ae),[I,ae]);function xt(){return y.jsx(vA.Provider,{value:De,children:s})}function dt(){return d?ae==null?y.jsx(wo,{type:"loading",children:typeof g=="function"?g():g}):ae===!1?y.jsx(wo,{type:"error",children:typeof a=="function"?a():a}):xt():y.jsx(wo,{type:"no-data",children:typeof m=="function"?m():m})}return y.jsx("div",Object.assign({className:ko("react-pdf__Document",i),ref:f},$e,{children:dt()}))});function wA(){return _.useContext(vA)}function xA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(a){for(var l=0,u=t;l<u.length;l++){var d=u[l];typeof d=="function"?d(a):d&&(d.current=a)}}}const SA=_.createContext(null),_A={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Nk=/^H(\d+)$/;function Pk(n){return n in _A}function fh(n){return"children"in n}function AA(n){return fh(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Ok(n){const e={};if(fh(n)){const{role:t}=n,s=t.match(Nk);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(Pk(t)){const i=_A[t];i&&(e.role=i)}}return e}function EA(n){const e={};if(fh(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),AA(n)){const[t]=n.children;if(t){const s=EA(t);return Object.assign(Object.assign({},e),s)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Lk(n){return n?Object.assign(Object.assign({},Ok(n)),EA(n)):null}function CA({className:n,node:e}){const t=_.useMemo(()=>Lk(e),[e]),s=_.useMemo(()=>!fh(e)||AA(e)?null:e.children.map((i,a)=>y.jsx(CA,{node:i},a)),[e]);return y.jsx("span",Object.assign({className:n},t,{children:s}))}function ph(){return _.useContext(SA)}function jk(){const n=ph();wt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Eo(),{value:a,error:l}=s,{customTextRenderer:u,page:d}=n;function f(){a&&t&&t(a)}function p(){l&&(Tn(!1,l.toString()),e&&e(l))}return _.useEffect(function(){i({type:"RESET"})},[i,d]),_.useEffect(function(){if(u||!d)return;const m=Nc(d.getStructTree()),b=m;return m.promise.then(S=>{i({type:"RESOLVE",value:S})}).catch(S=>{i({type:"REJECT",error:S})}),()=>aa(b)},[u,d,i]),_.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}f()}},[a]),a?y.jsx(CA,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Vx=ai;function Ik(n){const e=ph();wt(e);const t=Object.assign(Object.assign({},e),n),{_className:s,canvasBackground:i,devicePixelRatio:a=Ak(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:g,scale:m}=t,{canvasRef:b}=n;wt(d);const S=_.useRef(null);function x(){d&&u&&u(sm(d,m))}function A(D){Ck(D)||(Tn(!1,D.toString()),l&&l(D))}const E=_.useMemo(()=>d.getViewport({scale:m*a,rotation:g}),[a,d,g,m]),C=_.useMemo(()=>d.getViewport({scale:m,rotation:g}),[d,g,m]);_.useEffect(function(){if(!d)return;d.cleanup();const{current:M}=S;if(!M)return;M.width=E.width,M.height=E.height,M.style.width=`${Math.floor(C.width)}px`,M.style.height=`${Math.floor(C.height)}px`,M.style.visibility="hidden";const O={annotationMode:f?Vx.ENABLE_FORMS:Vx.ENABLE,canvasContext:M.getContext("2d",{alpha:!1}),viewport:E};i&&(O.background=i);const L=d.render(O),I=L;return L.promise.then(()=>{M.style.visibility="",x()}).catch(A),()=>aa(I)},[i,d,f,E,C]);const T=_.useCallback(()=>{const{current:D}=S;D&&(D.width=0,D.height=0)},[]);return _.useEffect(()=>T,[T]),y.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:xA(b,S),style:{display:"block",userSelect:"none"},children:p?y.jsx(jk,{}):null})}function Fk(n){return"str"in n}function zk(){const n=ph();wt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=n;wt(l);const[g,m]=Eo(),{value:b,error:S}=g,x=_.useRef(null);Tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){b&&s&&s(b)}function E(){S&&(Tn(!1,S.toString()),t&&t(S))}_.useEffect(function(){m({type:"RESET"})},[l,m]),_.useEffect(function(){if(!l)return;const I=Nc(l.getTextContent()),j=I;return I.promise.then(U=>{m({type:"RESOLVE",value:U})}).catch(U=>{m({type:"REJECT",error:U})}),()=>aa(j)},[l,m]),_.useEffect(()=>{if(b!==void 0){if(b===!1){E();return}A()}},[b]);const C=_.useCallback(()=>{a&&a()},[a]),T=_.useCallback(L=>{Tn(!1,L.toString()),i&&i(L)},[i]);function D(){const L=x.current;L&&L.classList.add("selecting")}function M(){const L=x.current;L&&L.classList.remove("selecting")}const O=_.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return _.useLayoutEffect(function(){if(!l||!b)return;const{current:I}=x;if(!I)return;I.innerHTML="";const j=l.streamTextContent({includeMarkedContent:!0}),U={container:I,textContentSource:j,viewport:O},$=new cc(U),K=$;return $.render().then(()=>{const Z=document.createElement("div");Z.className="endOfContent",I.append(Z);const ce=I.querySelectorAll('[role="presentation"]');if(e){let ae=0;b.items.forEach((N,B)=>{if(!Fk(N))return;const q=ce[ae];if(!q)return;const Y=e(Object.assign({pageIndex:u,pageNumber:d,itemIndex:B},N));q.innerHTML=Y,ae+=N.str&&N.hasEOL?2:1})}C()}).catch(T),()=>aa(K)},[e,T,C,l,u,d,b,O]),y.jsx("div",{className:ko("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:D,ref:x})}function $k(){const n=wA(),e=ph();wt(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:s,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:m,scale:b=1}=t;wt(p),wt(f),wt(i);const[S,x]=Eo(),{value:A,error:E}=S,C=_.useRef(null);Tn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function T(){A&&l&&l(A)}function D(){E&&(Tn(!1,E.toString()),a&&a(E))}_.useEffect(function(){x({type:"RESET"})},[x,f]),_.useEffect(function(){if(!f)return;const j=Nc(f.getAnnotations()),U=j;return j.promise.then($=>{x({type:"RESOLVE",value:$})}).catch($=>{x({type:"REJECT",error:$})}),()=>{aa(U)}},[x,f]),_.useEffect(()=>{if(A!==void 0){if(A===!1){D();return}T()}},[A]);function M(){d&&d()}function O(I){Tn(!1,`${I}`),u&&u(I)}const L=_.useMemo(()=>f.getViewport({scale:b,rotation:m}),[f,m,b]);return _.useEffect(function(){if(!p||!f||!i||!A)return;const{current:j}=C;if(!j)return;const U=L.clone({dontFlip:!0}),$={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:j,l10n:null,page:f,structTreeLayer:null,viewport:U},K={annotations:A,annotationStorage:p.annotationStorage,div:j,imageResourcesPath:s,linkService:i,page:f,renderForms:g,viewport:U};j.innerHTML="";try{new tv($).render(K),M()}catch(Z){O(Z)}return()=>{}},[A,s,i,f,p,g,L]),y.jsx("div",{className:ko("react-pdf__Page__annotations","annotationLayer"),ref:C})}var Bk=function(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t};const Ux=1;function Hk(n){const e=wA(),t=Object.assign(Object.assign({},e),n),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:m="Failed to load the page.",height:b,inputRef:S,loading:x="Loading page…",noData:A="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:C,onGetStructTreeError:T,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:O,onLoadError:L,onLoadSuccess:I,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:U,onRenderError:$,onRenderSuccess:K,onRenderTextLayerError:Z,onRenderTextLayerSuccess:ce,pageIndex:ae,pageNumber:N,pdf:B,registerPage:q,renderAnnotationLayer:Y=!0,renderForms:P=!1,renderMode:G="canvas",renderTextLayer:se=!0,rotate:V,scale:re=Ux,unregisterPage:ge,width:ee}=t,ue=Bk(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[be,we]=Eo(),{value:De,error:$e}=be,xt=_.useRef(null);wt(B);const dt=Zr(N)?N-1:ae??null,Qe=N??(Zr(ae)?ae+1:null),Et=V??(De?De.rotate:null),ht=_.useMemo(()=>{if(!De)return null;let ke=1;const qe=re??Ux;if(ee||b){const st=De.getViewport({scale:1,rotation:Et});ee?ke=ee/st.width:b&&(ke=b/st.height)}return qe*ke},[b,De,Et,re,ee]);_.useEffect(function(){return()=>{Zr(dt)&&i&&ge&&ge(dt)}},[i,B,dt,ge]);function bt(){if(I){if(!De||!ht)return;I(sm(De,ht))}if(i&&q){if(!Zr(dt)||!xt.current)return;q(dt,xt.current)}}function os(){$e&&(Tn(!1,$e.toString()),L&&L($e))}_.useEffect(function(){we({type:"RESET"})},[we,B,dt]),_.useEffect(function(){if(!B||!Qe)return;const qe=Nc(B.getPage(Qe)),st=qe;return qe.promise.then(mn=>{we({type:"RESOLVE",value:mn})}).catch(mn=>{we({type:"REJECT",error:mn})}),()=>aa(st)},[we,B,Qe]),_.useEffect(()=>{if(De!==void 0){if(De===!1){os();return}bt()}},[De,ht]);const It=_.useMemo(()=>De&&Zr(dt)&&Qe&&Zr(Et)&&Zr(ht)?{_className:s,canvasBackground:a,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:E,onGetAnnotationsSuccess:C,onGetStructTreeError:T,onGetStructTreeSuccess:D,onGetTextError:M,onGetTextSuccess:O,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:U,onRenderError:$,onRenderSuccess:K,onRenderTextLayerError:Z,onRenderTextLayerSuccess:ce,page:De,pageIndex:dt,pageNumber:Qe,renderForms:P,renderTextLayer:se,rotate:Et,scale:ht}:null,[s,a,p,g,E,C,T,D,M,O,j,U,$,K,Z,ce,De,dt,Qe,P,se,Et,ht]),z=_.useMemo(()=>gA(ue,()=>De&&(ht?sm(De,ht):void 0)),[ue,De,ht]),Q=`${dt}@${ht}/${Et}`;function ie(){switch(G){case"custom":return wt(f),y.jsx(f,{},`${Q}_custom`);case"none":return null;case"canvas":default:return y.jsx(Ik,{canvasRef:l},`${Q}_canvas`)}}function ve(){return se?y.jsx(zk,{},`${Q}_text`):null}function me(){return Y?y.jsx($k,{},`${Q}_annotations`):null}function pe(){return y.jsxs(SA.Provider,{value:It,children:[ie(),ve(),me(),u]})}function xe(){return Qe?B===null||De===void 0||De===null?y.jsx(wo,{type:"loading",children:typeof x=="function"?x():x}):B===!1||De===!1?y.jsx(wo,{type:"error",children:typeof m=="function"?m():m}):pe():y.jsx(wo,{type:"no-data",children:typeof A=="function"?A():A})}return y.jsx("div",Object.assign({className:ko(s,d),"data-page-number":Qe,ref:xA(S,xt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ht}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},z,{children:xe()}))}Ek();Sr.workerSrc="pdf.worker.mjs";/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gx="popstate";function Vk(n={}){function e(s,i){let{pathname:a,search:l,hash:u}=s.location;return im("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:hc(i)}return Gk(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uk(){return Math.random().toString(36).substring(2,10)}function qx(n,e){return{usr:n.state,key:n.key,idx:e}}function im(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?No(e):e,state:t,key:e&&e.key||s||Uk()}}function hc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function No(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Gk(n,e,t,s={}){let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=p(),E=A==null?null:A-f;f=A,d&&d({action:u,location:x.location,delta:E})}function m(A,E){u="PUSH";let C=im(x.location,A,E);f=p()+1;let T=qx(C,f),D=x.createHref(C);try{l.pushState(T,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}a&&d&&d({action:u,location:x.location,delta:1})}function b(A,E){u="REPLACE";let C=im(x.location,A,E);f=p();let T=qx(C,f),D=x.createHref(C);l.replaceState(T,"",D),a&&d&&d({action:u,location:x.location,delta:0})}function S(A){return qk(A)}let x={get action(){return u},get location(){return n(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Gx,g),d=A,()=>{i.removeEventListener(Gx,g),d=null}},createHref(A){return e(i,A)},createURL:S,encodeLocation(A){let E=S(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:b,go(A){return l.go(A)}};return x}function qk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:hc(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function RA(n,e,t="/"){return Yk(n,e,t,!1)}function Yk(n,e,t,s){let i=typeof e=="string"?No(e):e,a=Ui(i.pathname||"/",t);if(a==null)return null;let l=TA(n);Xk(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=rN(a);u=sN(l[d],f,s)}return u}function TA(n,e=[],t=[],s=""){let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let f=Bi([s,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(Nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),TA(a.children,e,p,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:tN(f,a.index),routesMeta:p})};return n.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))i(a,l);else for(let u of MA(a.path))i(a,l,u)}),e}function MA(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=MA(s.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function Xk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nN(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Zk=/^:[\w-]+$/,Wk=3,Kk=2,Qk=1,Jk=10,eN=-2,Yx=n=>n==="*";function tN(n,e){let t=n.split("/"),s=t.length;return t.some(Yx)&&(s+=eN),e&&(s+=Kk),t.filter(i=>!Yx(i)).reduce((i,a)=>i+(Zk.test(a)?Wk:a===""?Qk:Jk),s)}function nN(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function sN(n,e,t=!1){let{routesMeta:s}=n,i={},a="/",l=[];for(let u=0;u<s.length;++u){let d=s[u],f=u===s.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),m=d.route;if(!g&&f&&t&&!s[s.length-1].route.index&&(g=Hd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Bi([a,g.pathname]),pathnameBase:cN(Bi([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=Bi([a,g.pathnameBase]))}return l}function Hd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=iN(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((f,{paramName:p,isOptional:g},m)=>{if(p==="*"){let S=u[m]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=u[m];return g&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function iN(n,e=!1,t=!0){hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(s.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function rN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function aN(n,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?No(n):n;return{pathname:t?t.startsWith("/")?t:oN(t,e):e,search:uN(s),hash:dN(i)}}function oN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function yg(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function DA(n){let e=lN(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function kA(n,e,t,s=!1){let i;typeof n=="string"?i=No(n):(i={...n},Nt(!i.pathname||!i.pathname.includes("?"),yg("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),yg("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),yg("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!s&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}u=g>=0?e[g]:"/"}let d=aN(i,u),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),cN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var NA=["POST","PUT","PATCH","DELETE"];new Set(NA);var fN=["GET",...NA];new Set(fN);var Po=_.createContext(null);Po.displayName="DataRouter";var gh=_.createContext(null);gh.displayName="DataRouterState";_.createContext(!1);var PA=_.createContext({isTransitioning:!1});PA.displayName="ViewTransition";var pN=_.createContext(new Map);pN.displayName="Fetchers";var gN=_.createContext(null);gN.displayName="Await";var pi=_.createContext(null);pi.displayName="Navigation";var Pc=_.createContext(null);Pc.displayName="Location";var gi=_.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var rv=_.createContext(null);rv.displayName="RouteError";function mN(n,{relative:e}={}){Nt(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=_.useContext(pi),{hash:i,pathname:a,search:l}=Lc(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Bi([t,a])),s.createHref({pathname:u,search:l,hash:i})}function Oc(){return _.useContext(Pc)!=null}function Mr(){return Nt(Oc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Pc).location}var OA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(n){_.useContext(pi).static||_.useLayoutEffect(n)}function jA(){let{isDataRoute:n}=_.useContext(gi);return n?MN():vN()}function vN(){Nt(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let n=_.useContext(Po),{basename:e,navigator:t}=_.useContext(pi),{matches:s}=_.useContext(gi),{pathname:i}=Mr(),a=JSON.stringify(DA(s)),l=_.useRef(!1);return LA(()=>{l.current=!0}),_.useCallback((d,f={})=>{if(hi(l.current,OA),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=kA(d,JSON.parse(a),i,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Bi([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,a,i,n])}_.createContext(null);function IA(){let{matches:n}=_.useContext(gi),e=n[n.length-1];return e?e.params:{}}function Lc(n,{relative:e}={}){let{matches:t}=_.useContext(gi),{pathname:s}=Mr(),i=JSON.stringify(DA(t));return _.useMemo(()=>kA(n,JSON.parse(i),s,e==="path"),[n,i,s,e])}function bN(n,e){return FA(n,e)}function FA(n,e,t,s){Nt(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(pi),{matches:a}=_.useContext(gi),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let E=p&&p.path||"";zA(d,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Mr(),m;if(e){let E=typeof e=="string"?No(e):e;Nt(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=g;let b=m.pathname||"/",S=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=RA(n,{pathname:S});hi(p||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),hi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=_N(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Bi([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Bi([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,t,s);return e&&A?_.createElement(Pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},A):A}function yN(){let n=TN(),e=hN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:i},t):null,l)}var wN=_.createElement(yN,null),xN=class extends _.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?_.createElement(gi.Provider,{value:this.props.routeContext},_.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SN({routeContext:n,match:e,children:t}){let s=_.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(gi.Provider,{value:n},t)}function _N(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t?.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=t,m=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,m=!1,b=null,S=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,b=f.route.errorElement||wN,l&&(u<0&&p===0?(zA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,S=null):u===p&&(m=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,p+1)),A=()=>{let E;return g?E=b:m?E=S:f.route.Component?E=_.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,_.createElement(SN,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(xN,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):A()},null)}function av(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AN(n){let e=_.useContext(Po);return Nt(e,av(n)),e}function EN(n){let e=_.useContext(gh);return Nt(e,av(n)),e}function CN(n){let e=_.useContext(gi);return Nt(e,av(n)),e}function ov(n){let e=CN(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RN(){return ov("useRouteId")}function TN(){let n=_.useContext(rv),e=EN("useRouteError"),t=ov("useRouteError");return n!==void 0?n:e.errors?.[t]}function MN(){let{router:n}=AN("useNavigate"),e=ov("useNavigate"),t=_.useRef(!1);return LA(()=>{t.current=!0}),_.useCallback(async(i,a={})=>{hi(t.current,OA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var Xx={};function zA(n,e,t){!e&&!Xx[n]&&(Xx[n]=!0,hi(!1,t))}_.memo(DN);function DN({routes:n,future:e,state:t}){return FA(n,void 0,t,e)}function go(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kN({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:a=!1}){Nt(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=No(t));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:m="default"}=t,b=_.useMemo(()=>{let S=Ui(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:g,key:m},navigationType:s}},[l,d,f,p,g,m,s]);return hi(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:_.createElement(pi.Provider,{value:u},_.createElement(Pc.Provider,{children:e,value:b}))}function NN({children:n,location:e}){return bN(rm(n),e)}function rm(n,e=[]){let t=[];return _.Children.forEach(n,(s,i)=>{if(!_.isValidElement(s))return;let a=[...e,i];if(s.type===_.Fragment){t.push.apply(t,rm(s.props.children,a));return}Nt(s.type===go,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=rm(s.props.children,a)),t.push(l)}),t}var Od="get",Ld="application/x-www-form-urlencoded";function mh(n){return n!=null&&typeof n.tagName=="string"}function PN(n){return mh(n)&&n.tagName.toLowerCase()==="button"}function ON(n){return mh(n)&&n.tagName.toLowerCase()==="form"}function LN(n){return mh(n)&&n.tagName.toLowerCase()==="input"}function jN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function IN(n,e){return n.button===0&&(!e||e==="_self")&&!jN(n)}var fd=null;function FN(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var zN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(n){return n!=null&&!zN.has(n)?(hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ld}"`),null):n}function $N(n,e){let t,s,i,a,l;if(ON(n)){let u=n.getAttribute("action");s=u?Ui(u,e):null,t=n.getAttribute("method")||Od,i=wg(n.getAttribute("enctype"))||Ld,a=new FormData(n)}else if(PN(n)||LN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(s=d?Ui(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Od,i=wg(n.getAttribute("formenctype"))||wg(u.getAttribute("enctype"))||Ld,a=new FormData(u,n),!FN()){let{name:f,type:p,value:g}=n;if(p==="image"){let m=f?`${f}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else f&&a.append(f,g)}}else{if(mh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Od,s=null,i=Ld,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function BN(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function HN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UN(n,e,t){let s=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await HN(a,t);return l.links?l.links():[]}return[]}));return XN(s.flat(1).filter(VN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zx(n,e,t,s,i,a){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):a==="data"?e.filter((d,f)=>{let p=s.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function GN(n,e,{includeHydrateFallback:t}={}){return qN(n.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function qN(n){return[...new Set(n)]}function YN(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function XN(n,e){let t=new Set;return new Set(e),n.reduce((s,i)=>{let a=JSON.stringify(YN(i));return t.has(a)||(t.add(a),s.push({key:a,link:i})),s},[])}function $A(){let n=_.useContext(Po);return lv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZN(){let n=_.useContext(gh);return lv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cv=_.createContext(void 0);cv.displayName="FrameworkContext";function BA(){let n=_.useContext(cv);return lv(n,"You must render this element inside a <HydratedRouter> element"),n}function WN(n,e){let t=_.useContext(cv),[s,i]=_.useState(!1),[a,l]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,m=_.useRef(null);_.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=E=>{E.forEach(C=>{l(C.isIntersecting)})},A=new IntersectionObserver(x,{threshold:.5});return m.current&&A.observe(m.current),()=>{A.disconnect()}}},[n]),_.useEffect(()=>{if(s){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[s]);let b=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,m,{}]:[a,m,{onFocus:Ul(u,b),onBlur:Ul(d,S),onMouseEnter:Ul(f,b),onMouseLeave:Ul(p,S),onTouchStart:Ul(g,b)}]:[!1,m,{}]}function Ul(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KN({page:n,...e}){let{router:t}=$A(),s=_.useMemo(()=>RA(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?_.createElement(JN,{page:n,matches:s,...e}):null}function QN(n){let{manifest:e,routeModules:t}=BA(),[s,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return UN(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),s}function JN({page:n,matches:e,...t}){let s=Mr(),{manifest:i,routeModules:a}=BA(),{basename:l}=$A(),{loaderData:u,matches:d}=ZN(),f=_.useMemo(()=>Zx(n,e,d,i,s,"data"),[n,e,d,i,s]),p=_.useMemo(()=>Zx(n,e,d,i,s,"assets"),[n,e,d,i,s]),g=_.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let S=new Set,x=!1;if(e.forEach(E=>{let C=i.routes[E.route.id];!C||!C.hasLoader||(!f.some(T=>T.route.id===E.route.id)&&E.route.id in u&&a[E.route.id]?.shouldRevalidate||C.hasClientLoader?x=!0:S.add(E.route.id))}),S.size===0)return[];let A=BN(n,l,"data");return x&&S.size>0&&A.searchParams.set("_routes",e.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[A.pathname+A.search]},[l,u,s,i,f,e,n,a]),m=_.useMemo(()=>GN(p,i),[p,i]),b=QN(p);return _.createElement(_.Fragment,null,g.map(S=>_.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),m.map(S=>_.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:x})=>_.createElement("link",{key:S,...x})))}function eP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.7.0")}catch{}function tP({basename:n,children:e,window:t}){let s=_.useRef();s.current==null&&(s.current=Vk({window:t,v5Compat:!0}));let i=s.current,[a,l]=_.useState({action:i.action,location:i.location}),u=_.useCallback(d=>{_.startTransition(()=>l(d))},[l]);return _.useLayoutEffect(()=>i.listen(u),[i,u]),_.createElement(kN,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uv=_.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:a,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...m},b){let{basename:S}=_.useContext(pi),x=typeof f=="string"&&VA.test(f),A,E=!1;if(typeof f=="string"&&x&&(A=f,HA))try{let j=new URL(window.location.href),U=f.startsWith("//")?new URL(j.protocol+f):new URL(f),$=Ui(U.pathname,S);U.origin===j.origin&&$!=null?f=$+U.search+U.hash:E=!0}catch{hi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=mN(f,{relative:i}),[T,D,M]=WN(s,m),O=rP(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function L(j){e&&e(j),j.defaultPrevented||O(j)}let I=_.createElement("a",{...m,...M,href:A||C,onClick:E||a?e:L,ref:eP(b,D),target:d,"data-discover":!x&&t==="render"?"true":void 0});return T&&!x?_.createElement(_.Fragment,null,I,_.createElement(KN,{page:C})):I});uv.displayName="Link";var nP=_.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:a,to:l,viewTransition:u,children:d,...f},p){let g=Lc(l,{relative:f.relative}),m=Mr(),b=_.useContext(gh),{navigator:S,basename:x}=_.useContext(pi),A=b!=null&&uP(g)&&u===!0,E=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,C=m.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&x&&(T=Ui(T,x)||T);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=C===E||!i&&C.startsWith(E)&&C.charAt(D)==="/",O=T!=null&&(T===E||!i&&T.startsWith(E)&&T.charAt(E.length)==="/"),L={isActive:M,isPending:O,isTransitioning:A},I=M?e:void 0,j;typeof s=="function"?j=s(L):j=[s,M?"active":null,O?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(L):a;return _.createElement(uv,{...f,"aria-current":I,className:j,ref:p,style:U,to:l,viewTransition:u},typeof d=="function"?d(L):d)});nP.displayName="NavLink";var sP=_.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:a,method:l=Od,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...m},b)=>{let S=lP(),x=cP(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&VA.test(u),C=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,M=D?.getAttribute("formmethod")||l;S(D||T.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:b,method:A,action:x,onSubmit:s?d:C,...m,"data-discover":!E&&n==="render"?"true":void 0})});sP.displayName="Form";function iP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UA(n){let e=_.useContext(Po);return Nt(e,iP(n)),e}function rP(n,{target:e,replace:t,state:s,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=jA(),d=Mr(),f=Lc(n,{relative:a});return _.useCallback(p=>{if(IN(p,e)){p.preventDefault();let g=t!==void 0?t:hc(d)===hc(f);u(n,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,u,f,t,s,e,n,i,a,l])}var aP=0,oP=()=>`__${String(++aP)}__`;function lP(){let{router:n}=UA("useSubmit"),{basename:e}=_.useContext(pi),t=RN();return _.useCallback(async(s,i={})=>{let{action:a,method:l,encType:u,formData:d,body:f}=$N(s,e);if(i.navigate===!1){let p=i.fetcherKey||oP();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function cP(n,{relative:e}={}){let{basename:t}=_.useContext(pi),s=_.useContext(gi);Nt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a={...Lc(n||".",{relative:e})},l=Mr();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Bi([t,a.pathname])),hc(a)}function uP(n,e={}){let t=_.useContext(PA);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UA("useViewTransitionState"),i=Lc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ui(t.currentLocation.pathname,s)||t.currentLocation.pathname,l=Ui(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Hd(i.pathname,l)!=null||Hd(i.pathname,a)!=null}var dv=k_();const GA=Im(dv),dP={theme:"system",setTheme:()=>null},qA=_.createContext(dP);function hP({children:n,defaultTheme:e="system",storageKey:t="ui-theme",...s}){const[i,a]=_.useState(()=>localStorage.getItem(t)||e);_.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),i==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(d);return}u.classList.add(i)},[i]);const l={theme:i,setTheme:u=>{localStorage.setItem(t,u),a(u)}};return y.jsx(qA.Provider,{...s,value:l,children:n})}const fP=()=>{const n=_.useContext(qA);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function Wx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function vh(...n){return e=>{let t=!1;const s=n.map(i=>{const a=Wx(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Wx(n[i],null)}}}}function vt(...n){return _.useCallback(vh(...n),n)}function Co(n){const e=pP(n),t=_.forwardRef((s,i)=>{const{children:a,...l}=s,u=_.Children.toArray(a),d=u.find(mP);if(d){const f=d.props.children,p=u.map(g=>g===d?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:g);return y.jsx(e,{...l,ref:i,children:_.isValidElement(f)?_.cloneElement(f,void 0,p):null})}return y.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var fa=Co("Slot");function pP(n){const e=_.forwardRef((t,s)=>{const{children:i,...a}=t;if(_.isValidElement(i)){const l=bP(i),u=vP(a,i.props);return i.type!==_.Fragment&&(u.ref=s?vh(s,l):l),_.cloneElement(i,u)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var YA=Symbol("radix.slottable");function gP(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=YA,e}function mP(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===YA}function vP(n,e){const t={...e};for(const s in e){const i=n[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?t[s]=(...u)=>{const d=a(...u);return i(...u),d}:i&&(t[s]=i):s==="style"?t[s]={...i,...a}:s==="className"&&(t[s]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function bP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Kx=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Qx=ko,hv=(n,e)=>t=>{var s;if(e?.variants==null)return Qx(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const p=t?.[f],g=a?.[f];if(p===null)return null;const m=Kx(p)||Kx(g);return i[f][m]}),u=t&&Object.entries(t).reduce((f,p)=>{let[g,m]=p;return m===void 0||(f[g]=m),f},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let{class:g,className:m,...b}=p;return Object.entries(b).every(S=>{let[x,A]=S;return Array.isArray(A)?A.includes({...a,...u}[x]):{...a,...u}[x]===A})?[...f,g,m]:f},[]);return Qx(n,l,d,t?.class,t?.className)};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Jx=n=>{const e=wP(n);return e.charAt(0).toUpperCase()+e.slice(1)},XA=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),xP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...SP,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:XA("lucide",i),...!a&&!xP(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>_.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(n,e)=>{const t=_.forwardRef(({className:s,...i},a)=>_.createElement(_P,{ref:a,iconNode:e,className:XA(`lucide-${yP(Jx(n))}`,`lucide-${n}`,s),...i}));return t.displayName=Jx(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],EP=Ge("arrow-up-down",AP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M2 13a2 2 0 0 0 2-2V7a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0V4a2 2 0 0 1 4 0v13a2 2 0 0 0 4 0v-4a2 2 0 0 1 2-2",key:"57tc96"}]],RP=Ge("audio-waveform",CP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],MP=Ge("badge-check",TP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],kP=Ge("bell",DP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],PP=Ge("book-open",NP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],LP=Ge("bot",OP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZA=Ge("check",jP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FP=Ge("chevron-down",IP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],WA=Ge("chevron-left",zP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bh=Ge("chevron-right",$P);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],KA=Ge("chevrons-up-down",BP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VP=Ge("circle-alert",HP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M22 2 2 22",key:"y4kqgn"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],GP=Ge("circle-slash-2",UP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],YP=Ge("command",qP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZP=Ge("copy",XP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],KP=Ge("credit-card",WP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fv=Ge("download",QP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],eO=Ge("ellipsis-vertical",JP);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pv=Ge("eye",tO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gv=Ge("file-text",nO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]],iO=Ge("gallery-vertical-end",sO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],aO=Ge("ghost",rO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],eS=Ge("house",oO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],cO=Ge("list",lO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dr=Ge("loader-circle",uO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hO=Ge("log-out",dO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],pO=Ge("message-square",fO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],mO=Ge("moon",gO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],bO=Ge("network",vO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],wO=Ge("panel-left",yO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fc=Ge("plus",xO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_O=Ge("save",SO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],EO=Ge("shield",AO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],RO=Ge("sparkles",CO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MO=Ge("square-pen",TO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],kO=Ge("square-terminal",DO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PO=Ge("sun",NO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],QA=Ge("trash-2",OO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],jO=Ge("trash",LO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FO=Ge("triangle-alert",IO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vd=Ge("x",zO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BO=Ge("zap",$O);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],VO=Ge("zoom-in",HO);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],GO=Ge("zoom-out",UO),xg=768;function qO(){const[n,e]=_.useState(void 0);return _.useEffect(()=>{const t=window.matchMedia(`(max-width: ${xg-1}px)`),s=()=>{e(window.innerWidth<xg)};return t.addEventListener("change",s),e(window.innerWidth<xg),()=>t.removeEventListener("change",s)},[]),!!n}const mv="-",YO=n=>{const e=ZO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:l=>{const u=l.split(mv);return u[0]===""&&u.length!==1&&u.shift(),JA(u,e)||XO(l)},getConflictingClassGroupIds:(l,u)=>{const d=t[l]||[];return u&&s[l]?[...d,...s[l]]:d}}},JA=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],s=e.nextPart.get(t),i=s?JA(n.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(mv);return e.validators.find(({validator:l})=>l(a))?.classGroupId},tS=/^\[(.+)\]$/,XO=n=>{if(tS.test(n)){const e=tS.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ZO=n=>{const{theme:e,classGroups:t}=n,s={nextPart:new Map,validators:[]};for(const i in t)am(t[i],s,i,e);return s},am=(n,e,t,s)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:nS(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(WO(i)){am(i(s),e,t,s);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{am(l,nS(e,a),t,s)})})},nS=(n,e)=>{let t=n;return e.split(mv).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},WO=n=>n.isThemeGetter,KO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,s=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},om="!",lm=":",QO=lm.length,JO=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=i=>{const a=[];let l=0,u=0,d=0,f;for(let S=0;S<i.length;S++){let x=i[S];if(l===0&&u===0){if(x===lm){a.push(i.slice(d,S)),d=S+QO;continue}if(x==="/"){f=S;continue}}x==="["?l++:x==="]"?l--:x==="("?u++:x===")"&&u--}const p=a.length===0?i:i.substring(d),g=eL(p),m=g!==p,b=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+lm,a=s;s=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const i=s;s=a=>t({className:a,parseClassName:i})}return s},eL=n=>n.endsWith(om)?n.substring(0,n.length-1):n.startsWith(om)?n.substring(1):n,tL=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const i=[];let a=[];return s.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},nL=n=>({cache:KO(n.cacheSize),parseClassName:JO(n),sortModifiers:tL(n),...YO(n)}),sL=/\s+/,iL=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],u=n.trim().split(sL);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:m,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:x}=t(p);if(g){d=p+(d.length>0?" "+d:d);continue}let A=!!x,E=s(A?S.substring(0,x):S);if(!E){if(!A){d=p+(d.length>0?" "+d:d);continue}if(E=s(S),!E){d=p+(d.length>0?" "+d:d);continue}A=!1}const C=a(m).join(":"),T=b?C+om:C,D=T+E;if(l.includes(D))continue;l.push(D);const M=i(E,A);for(let O=0;O<M.length;++O){const L=M[O];l.push(T+L)}d=p+(d.length>0?" "+d:d)}return d};function rL(){let n=0,e,t,s="";for(;n<arguments.length;)(e=arguments[n++])&&(t=e1(e))&&(s&&(s+=" "),s+=t);return s}const e1=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=e1(n[s]))&&(t&&(t+=" "),t+=e);return t};function aL(n,...e){let t,s,i,a=l;function l(d){const f=e.reduce((p,g)=>g(p),n());return t=nL(f),s=t.cache.get,i=t.cache.set,a=u,u(d)}function u(d){const f=s(d);if(f)return f;const p=iL(d,t);return i(d,p),p}return function(){return a(rL.apply(null,arguments))}}const an=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},t1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oL=/^\d+\/\d+$/,lL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,dL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oo=n=>oL.test(n),Ze=n=>!!n&&!Number.isNaN(Number(n)),vr=n=>!!n&&Number.isInteger(Number(n)),Sg=n=>n.endsWith("%")&&Ze(n.slice(0,-1)),Li=n=>lL.test(n),fL=()=>!0,pL=n=>cL.test(n)&&!uL.test(n),s1=()=>!1,gL=n=>dL.test(n),mL=n=>hL.test(n),vL=n=>!Ee(n)&&!Ce(n),bL=n=>Oo(n,a1,s1),Ee=n=>t1.test(n),Wr=n=>Oo(n,o1,pL),_g=n=>Oo(n,_L,Ze),sS=n=>Oo(n,i1,s1),yL=n=>Oo(n,r1,mL),pd=n=>Oo(n,l1,gL),Ce=n=>n1.test(n),Gl=n=>Lo(n,o1),wL=n=>Lo(n,AL),iS=n=>Lo(n,i1),xL=n=>Lo(n,a1),SL=n=>Lo(n,r1),gd=n=>Lo(n,l1,!0),Oo=(n,e,t)=>{const s=t1.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},Lo=(n,e,t=!1)=>{const s=n1.exec(n);return s?s[1]?e(s[1]):t:!1},i1=n=>n==="position"||n==="percentage",r1=n=>n==="image"||n==="url",a1=n=>n==="length"||n==="size"||n==="bg-size",o1=n=>n==="length",_L=n=>n==="number",AL=n=>n==="family-name",l1=n=>n==="shadow",EL=()=>{const n=an("color"),e=an("font"),t=an("text"),s=an("font-weight"),i=an("tracking"),a=an("leading"),l=an("breakpoint"),u=an("container"),d=an("spacing"),f=an("radius"),p=an("shadow"),g=an("inset-shadow"),m=an("text-shadow"),b=an("drop-shadow"),S=an("blur"),x=an("perspective"),A=an("aspect"),E=an("ease"),C=an("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...D(),Ce,Ee],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],I=()=>[Ce,Ee,d],j=()=>[oo,"full","auto",...I()],U=()=>[vr,"none","subgrid",Ce,Ee],$=()=>["auto",{span:["full",vr,Ce,Ee]},vr,Ce,Ee],K=()=>[vr,"auto",Ce,Ee],Z=()=>["auto","min","max","fr",Ce,Ee],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...I()],B=()=>[oo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],q=()=>[n,Ce,Ee],Y=()=>[...D(),iS,sS,{position:[Ce,Ee]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",xL,bL,{size:[Ce,Ee]}],se=()=>[Sg,Gl,Wr],V=()=>["","none","full",f,Ce,Ee],re=()=>["",Ze,Gl,Wr],ge=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[Ze,Sg,iS,sS],be=()=>["","none",S,Ce,Ee],we=()=>["none",Ze,Ce,Ee],De=()=>["none",Ze,Ce,Ee],$e=()=>[Ze,Ce,Ee],xt=()=>[oo,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[fL],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[vL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Ze],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oo,Ee,Ce,A]}],container:["container"],columns:[{columns:[Ze,Ee,Ce,u]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[vr,"auto",Ce,Ee]}],basis:[{basis:[oo,"full","auto",u,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ze,oo,"auto","initial","none",Ee]}],grow:[{grow:["",Ze,Ce,Ee]}],shrink:[{shrink:["",Ze,Ce,Ee]}],order:[{order:[vr,"first","last","none",Ce,Ee]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[u,"screen",...B()]}],"min-w":[{"min-w":[u,"screen","none",...B()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",t,Gl,Wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ce,_g]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Sg,Ee]}],"font-family":[{font:[wL,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,Ee]}],"line-clamp":[{"line-clamp":[Ze,"none",Ce,_g]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Ce,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ze,"from-font","auto",Ce,Wr]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[Ze,"auto",Ce,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vr,Ce,Ee],radial:["",Ce,Ee],conic:[vr,Ce,Ee]},SL,yL]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ze,Ce,Ee]}],"outline-w":[{outline:["",Ze,Gl,Wr]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,gd,pd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,gd,pd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[Ze,Wr]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",m,gd,pd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[Ze,Ce,Ee]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Ce,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ee]}],filter:[{filter:["","none",Ce,Ee]}],blur:[{blur:be()}],brightness:[{brightness:[Ze,Ce,Ee]}],contrast:[{contrast:[Ze,Ce,Ee]}],"drop-shadow":[{"drop-shadow":["","none",b,gd,pd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",Ze,Ce,Ee]}],"hue-rotate":[{"hue-rotate":[Ze,Ce,Ee]}],invert:[{invert:["",Ze,Ce,Ee]}],saturate:[{saturate:[Ze,Ce,Ee]}],sepia:[{sepia:["",Ze,Ce,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ee]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Ze,Ce,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Ze,Ce,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ze,Ce,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ze,Ce,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Ze,Ce,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Ze,Ce,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Ze,Ce,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Ze,Ce,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ze,"initial",Ce,Ee]}],ease:[{ease:["linear","initial",E,Ce,Ee]}],delay:[{delay:[Ze,Ce,Ee]}],animate:[{animate:["none",C,Ce,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ce,Ee]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ce,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xt()}],"translate-x":[{"translate-x":xt()}],"translate-y":[{"translate-y":xt()}],"translate-z":[{"translate-z":xt()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ee]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[Ze,Gl,Wr,_g]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},CL=aL(EL);function Se(...n){return CL(ko(n))}const RL=hv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function He({className:n,variant:e,size:t,asChild:s=!1,...i}){const a=s?fa:"button";return y.jsx(a,{"data-slot":"button",className:Se(RL({variant:e,size:t,className:n})),...i})}function li({className:n,type:e,...t}){return y.jsx("input",{type:e,"data-slot":"input",className:Se("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var TL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=TL.reduce((n,e)=>{const t=Co(`Primitive.${e}`),s=_.forwardRef((i,a)=>{const{asChild:l,...u}=i,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(d,{...u,ref:a})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function c1(n,e){n&&dv.flushSync(()=>n.dispatchEvent(e))}var ML="Separator",rS="horizontal",DL=["horizontal","vertical"],u1=_.forwardRef((n,e)=>{const{decorative:t,orientation:s=rS,...i}=n,a=kL(s)?s:rS,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return y.jsx(Ke.div,{"data-orientation":a,...u,...i,ref:e})});u1.displayName=ML;function kL(n){return DL.includes(n)}var NL=u1;function PL({className:n,orientation:e="horizontal",decorative:t=!0,...s}){return y.jsx(NL,{"data-slot":"separator",decorative:t,orientation:e,className:Se("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...s})}function Me(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function OL(n,e){const t=_.createContext(e),s=a=>{const{children:l,...u}=a,d=_.useMemo(()=>u,Object.values(u));return y.jsx(t.Provider,{value:d,children:l})};s.displayName=n+"Provider";function i(a){const l=_.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[s,i]}function Bs(n,e=[]){let t=[];function s(a,l){const u=_.createContext(l),d=t.length;t=[...t,l];const f=g=>{const{scope:m,children:b,...S}=g,x=m?.[n]?.[d]||u,A=_.useMemo(()=>S,Object.values(S));return y.jsx(x.Provider,{value:A,children:b})};f.displayName=a+"Provider";function p(g,m){const b=m?.[n]?.[d]||u,S=_.useContext(b);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=t.map(l=>_.createContext(l));return function(u){const d=u?.[n]||a;return _.useMemo(()=>({[`__scope${n}`]:{...u,[n]:d}}),[u,d])}};return i.scopeName=n,[s,LL(i,...e)]}function LL(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((u,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...u,...g}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var rs=globalThis?.document?_.useLayoutEffect:()=>{},jL=D_[" useId ".trim().toString()]||(()=>{}),IL=0;function _r(n){const[e,t]=_.useState(jL());return rs(()=>{t(s=>s??String(IL++))},[n]),n||(e?`radix-${e}`:"")}var FL=D_[" useInsertionEffect ".trim().toString()]||rs;function jo({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[i,a,l]=zL({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:i;{const p=_.useRef(n!==void 0);_.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,s])}const f=_.useCallback(p=>{if(u){const g=$L(p)?p(n):p;g!==n&&l.current?.(g)}else a(p)},[u,n,a,l]);return[d,f]}function zL({defaultProp:n,onChange:e}){const[t,s]=_.useState(n),i=_.useRef(t),a=_.useRef(e);return FL(()=>{a.current=e},[e]),_.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,s,a]}function $L(n){return typeof n=="function"}function Sn(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>e.current?.(...t),[])}function BL(n,e=globalThis?.document){const t=Sn(n);_.useEffect(()=>{const s=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var HL="DismissableLayer",cm="dismissableLayer.update",VL="dismissableLayer.pointerDownOutside",UL="dismissableLayer.focusOutside",aS,d1=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yh=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=n,f=_.useContext(d1),[p,g]=_.useState(null),m=p?.ownerDocument??globalThis?.document,[,b]=_.useState({}),S=vt(e,L=>g(L)),x=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(A),C=p?x.indexOf(p):-1,T=f.layersWithOutsidePointerEventsDisabled.size>0,D=C>=E,M=YL(L=>{const I=L.target,j=[...f.branches].some(U=>U.contains(I));!D||j||(i?.(L),l?.(L),L.defaultPrevented||u?.())},m),O=XL(L=>{const I=L.target;[...f.branches].some(U=>U.contains(I))||(a?.(L),l?.(L),L.defaultPrevented||u?.())},m);return BL(L=>{C===f.layers.size-1&&(s?.(L),!L.defaultPrevented&&u&&(L.preventDefault(),u()))},m),_.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(aS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),oS(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=aS)}},[p,m,t,f]),_.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),oS())},[p,f]),_.useEffect(()=>{const L=()=>b({});return document.addEventListener(cm,L),()=>document.removeEventListener(cm,L)},[]),y.jsx(Ke.div,{...d,ref:S,style:{pointerEvents:T?D?"auto":"none":void 0,...n.style},onFocusCapture:Me(n.onFocusCapture,O.onFocusCapture),onBlurCapture:Me(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Me(n.onPointerDownCapture,M.onPointerDownCapture)})});yh.displayName=HL;var GL="DismissableLayerBranch",qL=_.forwardRef((n,e)=>{const t=_.useContext(d1),s=_.useRef(null),i=vt(e,s);return _.useEffect(()=>{const a=s.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),y.jsx(Ke.div,{...n,ref:i})});qL.displayName=GL;function YL(n,e=globalThis?.document){const t=Sn(n),s=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let d=function(){h1(VL,t,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function XL(n,e=globalThis?.document){const t=Sn(n),s=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!s.current&&h1(UL,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function oS(){const n=new CustomEvent(cm);document.dispatchEvent(n)}function h1(n,e,t,{discrete:s}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),s?c1(i,a):i.dispatchEvent(a)}var Ag="focusScope.autoFocusOnMount",Eg="focusScope.autoFocusOnUnmount",lS={bubbles:!1,cancelable:!0},ZL="FocusScope",vv=_.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[u,d]=_.useState(null),f=Sn(i),p=Sn(a),g=_.useRef(null),m=vt(e,x=>d(x)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(s){let x=function(T){if(b.paused||!u)return;const D=T.target;u.contains(D)?g.current=D:br(g.current,{select:!0})},A=function(T){if(b.paused||!u)return;const D=T.relatedTarget;D!==null&&(u.contains(D)||br(g.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&br(u)};document.addEventListener("focusin",x),document.addEventListener("focusout",A);const C=new MutationObserver(E);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",A),C.disconnect()}}},[s,u,b.paused]),_.useEffect(()=>{if(u){uS.add(b);const x=document.activeElement;if(!u.contains(x)){const E=new CustomEvent(Ag,lS);u.addEventListener(Ag,f),u.dispatchEvent(E),E.defaultPrevented||(WL(tj(f1(u)),{select:!0}),document.activeElement===x&&br(u))}return()=>{u.removeEventListener(Ag,f),setTimeout(()=>{const E=new CustomEvent(Eg,lS);u.addEventListener(Eg,p),u.dispatchEvent(E),E.defaultPrevented||br(x??document.body,{select:!0}),u.removeEventListener(Eg,p),uS.remove(b)},0)}}},[u,f,p,b]);const S=_.useCallback(x=>{if(!t&&!s||b.paused)return;const A=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(A&&E){const C=x.currentTarget,[T,D]=KL(C);T&&D?!x.shiftKey&&E===D?(x.preventDefault(),t&&br(T,{select:!0})):x.shiftKey&&E===T&&(x.preventDefault(),t&&br(D,{select:!0})):E===C&&x.preventDefault()}},[t,s,b.paused]);return y.jsx(Ke.div,{tabIndex:-1,...l,ref:m,onKeyDown:S})});vv.displayName=ZL;function WL(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(br(s,{select:e}),document.activeElement!==t)return}function KL(n){const e=f1(n),t=cS(e,n),s=cS(e.reverse(),n);return[t,s]}function f1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function cS(n,e){for(const t of n)if(!QL(t,{upTo:e}))return t}function QL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function JL(n){return n instanceof HTMLInputElement&&"select"in n}function br(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&JL(n)&&e&&n.select()}}var uS=ej();function ej(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=dS(n,e),n.unshift(e)},remove(e){n=dS(n,e),n[0]?.resume()}}}function dS(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function tj(n){return n.filter(e=>e.tagName!=="A")}var nj="Portal",wh=_.forwardRef((n,e)=>{const{container:t,...s}=n,[i,a]=_.useState(!1);rs(()=>a(!0),[]);const l=t||i&&globalThis?.document?.body;return l?GA.createPortal(y.jsx(Ke.div,{...s,ref:e}),l):null});wh.displayName=nj;function sj(n,e){return _.useReducer((t,s)=>e[t][s]??t,n)}var Mn=n=>{const{present:e,children:t}=n,s=ij(e),i=typeof t=="function"?t({present:s.isPresent}):_.Children.only(t),a=vt(s.ref,rj(i));return typeof t=="function"||s.isPresent?_.cloneElement(i,{ref:a}):null};Mn.displayName="Presence";function ij(n){const[e,t]=_.useState(),s=_.useRef(null),i=_.useRef(n),a=_.useRef("none"),l=n?"mounted":"unmounted",[u,d]=sj(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=md(s.current);a.current=u==="mounted"?f:"none"},[u]),rs(()=>{const f=s.current,p=i.current;if(p!==n){const m=a.current,b=md(f);n?d("MOUNT"):b==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&m!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),rs(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=b=>{const x=md(s.current).includes(b.animationName);if(b.target===e&&x&&(d("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},m=b=>{b.target===e&&(a.current=md(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(f=>{s.current=f?getComputedStyle(f):null,t(f)},[])}}function md(n){return n?.animationName||"none"}function rj(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Cg=0;function p1(){_.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??hS()),document.body.insertAdjacentElement("beforeend",n[1]??hS()),Cg++,()=>{Cg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cg--}},[])}function hS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var oi=function(){return oi=Object.assign||function(e){for(var t,s=1,i=arguments.length;s<i;s++){t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},oi.apply(this,arguments)};function g1(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(t[s[i]]=n[s[i]]);return t}function aj(n,e,t){if(t||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return n.concat(a||Array.prototype.slice.call(e))}var jd="right-scroll-bar-position",Id="width-before-scroll-bar",oj="with-scroll-bars-hidden",lj="--removed-body-scroll-bar-size";function Rg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function cj(n,e){var t=_.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var i=t.value;i!==s&&(t.value=s,t.callback(s,i))}}}})[0];return t.callback=e,t.facade}var uj=typeof window<"u"?_.useLayoutEffect:_.useEffect,fS=new WeakMap;function dj(n,e){var t=cj(null,function(s){return n.forEach(function(i){return Rg(i,s)})});return uj(function(){var s=fS.get(t);if(s){var i=new Set(s),a=new Set(n),l=t.current;i.forEach(function(u){a.has(u)||Rg(u,null)}),a.forEach(function(u){i.has(u)||Rg(u,l)})}fS.set(t,n)},[n]),t}function hj(n){return n}function fj(n,e){e===void 0&&(e=hj);var t=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,s);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(s=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){s=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var d=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return i}function pj(n){n===void 0&&(n={});var e=fj(null);return e.options=oi({async:!0,ssr:!1},n),e}var m1=function(n){var e=n.sideCar,t=g1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return _.createElement(s,oi({},t))};m1.isSideCarExport=!0;function gj(n,e){return n.useMedium(e),m1}var v1=pj(),Tg=function(){},xh=_.forwardRef(function(n,e){var t=_.useRef(null),s=_.useState({onScrollCapture:Tg,onWheelCapture:Tg,onTouchMoveCapture:Tg}),i=s[0],a=s[1],l=n.forwardProps,u=n.children,d=n.className,f=n.removeScrollBar,p=n.enabled,g=n.shards,m=n.sideCar,b=n.noRelative,S=n.noIsolation,x=n.inert,A=n.allowPinchZoom,E=n.as,C=E===void 0?"div":E,T=n.gapMode,D=g1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,O=dj([t,e]),L=oi(oi({},D),i);return _.createElement(_.Fragment,null,p&&_.createElement(M,{sideCar:v1,removeScrollBar:f,shards:g,noRelative:b,noIsolation:S,inert:x,setCallbacks:a,allowPinchZoom:!!A,lockRef:t,gapMode:T}),l?_.cloneElement(_.Children.only(u),oi(oi({},L),{ref:O})):_.createElement(C,oi({},L,{className:d,ref:O}),u))});xh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xh.classNames={fullWidth:Id,zeroRight:jd};var mj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=mj();return e&&n.setAttribute("nonce",e),n}function bj(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function yj(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var wj=function(){var n=0,e=null;return{add:function(t){n==0&&(e=vj())&&(bj(e,t),yj(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xj=function(){var n=wj();return function(e,t){_.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},b1=function(){var n=xj(),e=function(t){var s=t.styles,i=t.dynamic;return n(s,i),null};return e},Sj={left:0,top:0,right:0,gap:0},Mg=function(n){return parseInt(n||"",10)||0},_j=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Mg(t),Mg(s),Mg(i)]},Aj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Sj;var e=_j(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},Ej=b1(),xo="data-scroll-locked",Cj=function(n,e,t,s){var i=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(oj,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(xo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jd,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(jd," .").concat(jd,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xo,`] {
    `).concat(lj,": ").concat(u,`px;
  }
`)},pS=function(){var n=parseInt(document.body.getAttribute(xo)||"0",10);return isFinite(n)?n:0},Rj=function(){_.useEffect(function(){return document.body.setAttribute(xo,(pS()+1).toString()),function(){var n=pS()-1;n<=0?document.body.removeAttribute(xo):document.body.setAttribute(xo,n.toString())}},[])},Tj=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,i=s===void 0?"margin":s;Rj();var a=_.useMemo(function(){return Aj(i)},[i]);return _.createElement(Ej,{styles:Cj(a,!e,i,t?"":"!important")})},um=!1;if(typeof window<"u")try{var vd=Object.defineProperty({},"passive",{get:function(){return um=!0,!0}});window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{um=!1}var lo=um?{passive:!1}:!1,Mj=function(n){return n.tagName==="TEXTAREA"},y1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Mj(n)&&t[e]==="visible")},Dj=function(n){return y1(n,"overflowY")},kj=function(n){return y1(n,"overflowX")},gS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=w1(n,s);if(i){var a=x1(n,s),l=a[1],u=a[2];if(l>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},Nj=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},Pj=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},w1=function(n,e){return n==="v"?Dj(e):kj(e)},x1=function(n,e){return n==="v"?Nj(e):Pj(e)},Oj=function(n,e){return n==="h"&&e==="rtl"?-1:1},Lj=function(n,e,t,s,i){var a=Oj(n,window.getComputedStyle(e).direction),l=a*s,u=t.target,d=e.contains(u),f=!1,p=l>0,g=0,m=0;do{if(!u)break;var b=x1(n,u),S=b[0],x=b[1],A=b[2],E=x-A-a*S;(S||E)&&w1(n,u)&&(g+=E,m+=S);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(m)<1)&&(f=!0),f},bd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},mS=function(n){return[n.deltaX,n.deltaY]},vS=function(n){return n&&"current"in n?n.current:n},jj=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Ij=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Fj=0,co=[];function zj(n){var e=_.useRef([]),t=_.useRef([0,0]),s=_.useRef(),i=_.useState(Fj++)[0],a=_.useState(b1)[0],l=_.useRef(n);_.useEffect(function(){l.current=n},[n]),_.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var x=aj([n.lockRef.current],(n.shards||[]).map(vS),!0).filter(Boolean);return x.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=_.useCallback(function(x,A){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!l.current.allowPinchZoom;var E=bd(x),C=t.current,T="deltaX"in x?x.deltaX:C[0]-E[0],D="deltaY"in x?x.deltaY:C[1]-E[1],M,O=x.target,L=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in x&&L==="h"&&O.type==="range")return!1;var I=gS(L,O);if(!I)return!0;if(I?M=L:(M=L==="v"?"h":"v",I=gS(L,O)),!I)return!1;if(!s.current&&"changedTouches"in x&&(T||D)&&(s.current=M),!M)return!0;var j=s.current||M;return Lj(j,A,x,j==="h"?T:D)},[]),d=_.useCallback(function(x){var A=x;if(!(!co.length||co[co.length-1]!==a)){var E="deltaY"in A?mS(A):bd(A),C=e.current.filter(function(M){return M.name===A.type&&(M.target===A.target||A.target===M.shadowParent)&&jj(M.delta,E)})[0];if(C&&C.should){A.cancelable&&A.preventDefault();return}if(!C){var T=(l.current.shards||[]).map(vS).filter(Boolean).filter(function(M){return M.contains(A.target)}),D=T.length>0?u(A,T[0]):!l.current.noIsolation;D&&A.cancelable&&A.preventDefault()}}},[]),f=_.useCallback(function(x,A,E,C){var T={name:x,delta:A,target:E,should:C,shadowParent:$j(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(D){return D!==T})},1)},[]),p=_.useCallback(function(x){t.current=bd(x),s.current=void 0},[]),g=_.useCallback(function(x){f(x.type,mS(x),x.target,u(x,n.lockRef.current))},[]),m=_.useCallback(function(x){f(x.type,bd(x),x.target,u(x,n.lockRef.current))},[]);_.useEffect(function(){return co.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",d,lo),document.addEventListener("touchmove",d,lo),document.addEventListener("touchstart",p,lo),function(){co=co.filter(function(x){return x!==a}),document.removeEventListener("wheel",d,lo),document.removeEventListener("touchmove",d,lo),document.removeEventListener("touchstart",p,lo)}},[]);var b=n.removeScrollBar,S=n.inert;return _.createElement(_.Fragment,null,S?_.createElement(a,{styles:Ij(i)}):null,b?_.createElement(Tj,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function $j(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Bj=gj(v1,zj);var bv=_.forwardRef(function(n,e){return _.createElement(xh,oi({},n,{ref:e,sideCar:Bj}))});bv.classNames=xh.classNames;var Hj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},uo=new WeakMap,yd=new WeakMap,wd={},Dg=0,S1=function(n){return n&&(n.host||S1(n.parentNode))},Vj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=S1(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Uj=function(n,e,t,s){var i=Vj(e,Array.isArray(n)?n:[n]);wd[t]||(wd[t]=new WeakMap);var a=wd[t],l=[],u=new Set,d=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(m){if(u.has(m))p(m);else try{var b=m.getAttribute(s),S=b!==null&&b!=="false",x=(uo.get(m)||0)+1,A=(a.get(m)||0)+1;uo.set(m,x),a.set(m,A),l.push(m),x===1&&S&&yd.set(m,!0),A===1&&m.setAttribute(t,"true"),S||m.setAttribute(s,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return p(e),u.clear(),Dg++,function(){l.forEach(function(g){var m=uo.get(g)-1,b=a.get(g)-1;uo.set(g,m),a.set(g,b),m||(yd.has(g)||g.removeAttribute(s),yd.delete(g)),b||g.removeAttribute(t)}),Dg--,Dg||(uo=new WeakMap,uo=new WeakMap,yd=new WeakMap,wd={})}},_1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),i=Hj(n);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live], script"))),Uj(s,i,t,"aria-hidden")):function(){return null}},Sh="Dialog",[A1,O5]=Bs(Sh),[Gj,Hs]=A1(Sh),E1=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,u=_.useRef(null),d=_.useRef(null),[f,p]=jo({prop:s,defaultProp:i??!1,onChange:a,caller:Sh});return y.jsx(Gj,{scope:e,triggerRef:u,contentRef:d,contentId:_r(),titleId:_r(),descriptionId:_r(),open:f,onOpenChange:p,onOpenToggle:_.useCallback(()=>p(g=>!g),[p]),modal:l,children:t})};E1.displayName=Sh;var C1="DialogTrigger",R1=_.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Hs(C1,t),a=vt(e,i.triggerRef);return y.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xv(i.open),...s,ref:a,onClick:Me(n.onClick,i.onOpenToggle)})});R1.displayName=C1;var yv="DialogPortal",[qj,T1]=A1(yv,{forceMount:void 0}),M1=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:i}=n,a=Hs(yv,e);return y.jsx(qj,{scope:e,forceMount:t,children:_.Children.map(s,l=>y.jsx(Mn,{present:t||a.open,children:y.jsx(wh,{asChild:!0,container:i,children:l})}))})};M1.displayName=yv;var Ud="DialogOverlay",D1=_.forwardRef((n,e)=>{const t=T1(Ud,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,a=Hs(Ud,n.__scopeDialog);return a.modal?y.jsx(Mn,{present:s||a.open,children:y.jsx(Xj,{...i,ref:e})}):null});D1.displayName=Ud;var Yj=Co("DialogOverlay.RemoveScroll"),Xj=_.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Hs(Ud,t);return y.jsx(bv,{as:Yj,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx(Ke.div,{"data-state":xv(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),oa="DialogContent",k1=_.forwardRef((n,e)=>{const t=T1(oa,n.__scopeDialog),{forceMount:s=t.forceMount,...i}=n,a=Hs(oa,n.__scopeDialog);return y.jsx(Mn,{present:s||a.open,children:a.modal?y.jsx(Zj,{...i,ref:e}):y.jsx(Wj,{...i,ref:e})})});k1.displayName=oa;var Zj=_.forwardRef((n,e)=>{const t=Hs(oa,n.__scopeDialog),s=_.useRef(null),i=vt(e,t.contentRef,s);return _.useEffect(()=>{const a=s.current;if(a)return _1(a)},[]),y.jsx(N1,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Me(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Me(n.onFocusOutside,a=>a.preventDefault())})}),Wj=_.forwardRef((n,e)=>{const t=Hs(oa,n.__scopeDialog),s=_.useRef(!1),i=_.useRef(!1);return y.jsx(N1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||t.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;t.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),N1=_.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,u=Hs(oa,t),d=_.useRef(null),f=vt(e,d);return p1(),y.jsxs(y.Fragment,{children:[y.jsx(vv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:a,children:y.jsx(yh,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":xv(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(Kj,{titleId:u.titleId}),y.jsx(Jj,{contentRef:d,descriptionId:u.descriptionId})]})]})}),wv="DialogTitle",P1=_.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Hs(wv,t);return y.jsx(Ke.h2,{id:i.titleId,...s,ref:e})});P1.displayName=wv;var O1="DialogDescription",L1=_.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Hs(O1,t);return y.jsx(Ke.p,{id:i.descriptionId,...s,ref:e})});L1.displayName=O1;var j1="DialogClose",I1=_.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,i=Hs(j1,t);return y.jsx(Ke.button,{type:"button",...s,ref:e,onClick:Me(n.onClick,()=>i.onOpenChange(!1))})});I1.displayName=j1;function xv(n){return n?"open":"closed"}var F1="DialogTitleWarning",[L5,z1]=OL(F1,{contentName:oa,titleName:wv,docsSlug:"dialog"}),Kj=({titleId:n})=>{const e=z1(F1),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Qj="DialogDescriptionWarning",Jj=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z1(Qj).contentName}}.`;return _.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},$1=E1,eI=R1,B1=M1,H1=D1,V1=k1,U1=P1,G1=L1,Sv=I1;function dm({...n}){return y.jsx($1,{"data-slot":"sheet",...n})}function bS({...n}){return y.jsx(eI,{"data-slot":"sheet-trigger",...n})}function yS({...n}){return y.jsx(Sv,{"data-slot":"sheet-close",...n})}function tI({...n}){return y.jsx(B1,{"data-slot":"sheet-portal",...n})}function nI({className:n,...e}){return y.jsx(H1,{"data-slot":"sheet-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function hm({className:n,children:e,side:t="right",...s}){return y.jsxs(tI,{children:[y.jsx(nI,{}),y.jsxs(V1,{"data-slot":"sheet-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...s,children:[e,y.jsxs(Sv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[y.jsx(Vd,{className:"size-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fm({className:n,...e}){return y.jsx("div",{"data-slot":"sheet-header",className:Se("flex flex-col gap-1.5 p-4",n),...e})}function wS({className:n,...e}){return y.jsx("div",{"data-slot":"sheet-footer",className:Se("mt-auto flex flex-col gap-2 p-4",n),...e})}function pm({className:n,...e}){return y.jsx(U1,{"data-slot":"sheet-title",className:Se("text-foreground font-semibold",n),...e})}function gm({className:n,...e}){return y.jsx(G1,{"data-slot":"sheet-description",className:Se("text-muted-foreground text-sm",n),...e})}const sI=["top","right","bottom","left"],Cr=Math.min,ss=Math.max,Gd=Math.round,xd=Math.floor,di=n=>({x:n,y:n}),iI={left:"right",right:"left",bottom:"top",top:"bottom"},rI={start:"end",end:"start"};function mm(n,e,t){return ss(n,Cr(e,t))}function Gi(n,e){return typeof n=="function"?n(e):n}function qi(n){return n.split("-")[0]}function Io(n){return n.split("-")[1]}function _v(n){return n==="x"?"y":"x"}function Av(n){return n==="y"?"height":"width"}const aI=new Set(["top","bottom"]);function ci(n){return aI.has(qi(n))?"y":"x"}function Ev(n){return _v(ci(n))}function oI(n,e,t){t===void 0&&(t=!1);const s=Io(n),i=Ev(n),a=Av(i);let l=i==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=qd(l)),[l,qd(l)]}function lI(n){const e=qd(n);return[vm(n),e,vm(e)]}function vm(n){return n.replace(/start|end/g,e=>rI[e])}const xS=["left","right"],SS=["right","left"],cI=["top","bottom"],uI=["bottom","top"];function dI(n,e,t){switch(n){case"top":case"bottom":return t?e?SS:xS:e?xS:SS;case"left":case"right":return e?cI:uI;default:return[]}}function hI(n,e,t,s){const i=Io(n);let a=dI(qi(n),t==="start",s);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(vm)))),a}function qd(n){return n.replace(/left|right|bottom|top/g,e=>iI[e])}function fI(n){return{top:0,right:0,bottom:0,left:0,...n}}function q1(n){return typeof n!="number"?fI(n):{top:n,right:n,bottom:n,left:n}}function Yd(n){const{x:e,y:t,width:s,height:i}=n;return{width:s,height:i,top:t,left:e,right:e+s,bottom:t+i,x:e,y:t}}function _S(n,e,t){let{reference:s,floating:i}=n;const a=ci(e),l=Ev(e),u=Av(l),d=qi(e),f=a==="y",p=s.x+s.width/2-i.width/2,g=s.y+s.height/2-i.height/2,m=s[u]/2-i[u]/2;let b;switch(d){case"top":b={x:p,y:s.y-i.height};break;case"bottom":b={x:p,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:g};break;case"left":b={x:s.x-i.width,y:g};break;default:b={x:s.x,y:s.y}}switch(Io(e)){case"start":b[l]-=m*(t&&f?-1:1);break;case"end":b[l]+=m*(t&&f?-1:1);break}return b}const pI=async(n,e,t)=>{const{placement:s="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:p,y:g}=_S(f,s,d),m=s,b={},S=0;for(let x=0;x<u.length;x++){const{name:A,fn:E}=u[x],{x:C,y:T,data:D,reset:M}=await E({x:p,y:g,initialPlacement:s,placement:m,strategy:i,middlewareData:b,rects:f,platform:l,elements:{reference:n,floating:e}});p=C??p,g=T??g,b={...b,[A]:{...b[A],...D}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(m=M.placement),M.rects&&(f=M.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:p,y:g}=_S(f,m,d)),x=-1)}return{x:p,y:g,placement:m,strategy:i,middlewareData:b}};async function pc(n,e){var t;e===void 0&&(e={});const{x:s,y:i,platform:a,rects:l,elements:u,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:m=!1,padding:b=0}=Gi(e,n),S=q1(b),A=u[m?g==="floating"?"reference":"floating":g],E=Yd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),C=g==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),D=await(a.isElement==null?void 0:a.isElement(T))?await(a.getScale==null?void 0:a.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Yd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:T,strategy:d}):C);return{top:(E.top-M.top+S.top)/D.y,bottom:(M.bottom-E.bottom+S.bottom)/D.y,left:(E.left-M.left+S.left)/D.x,right:(M.right-E.right+S.right)/D.x}}const gI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:i,rects:a,platform:l,elements:u,middlewareData:d}=e,{element:f,padding:p=0}=Gi(n,e)||{};if(f==null)return{};const g=q1(p),m={x:t,y:s},b=Ev(i),S=Av(b),x=await l.getDimensions(f),A=b==="y",E=A?"top":"left",C=A?"bottom":"right",T=A?"clientHeight":"clientWidth",D=a.reference[S]+a.reference[b]-m[b]-a.floating[S],M=m[b]-a.reference[b],O=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let L=O?O[T]:0;(!L||!await(l.isElement==null?void 0:l.isElement(O)))&&(L=u.floating[T]||a.floating[S]);const I=D/2-M/2,j=L/2-x[S]/2-1,U=Cr(g[E],j),$=Cr(g[C],j),K=U,Z=L-x[S]-$,ce=L/2-x[S]/2+I,ae=mm(K,ce,Z),N=!d.arrow&&Io(i)!=null&&ce!==ae&&a.reference[S]/2-(ce<K?U:$)-x[S]/2<0,B=N?ce<K?ce-K:ce-Z:0;return{[b]:m[b]+B,data:{[b]:ae,centerOffset:ce-ae-B,...N&&{alignmentOffset:B}},reset:N}}}),mI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:m,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:x=!0,...A}=Gi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const E=qi(i),C=ci(u),T=qi(u)===u,D=await(d.isRTL==null?void 0:d.isRTL(f.floating)),M=m||(T||!x?[qd(u)]:lI(u)),O=S!=="none";!m&&O&&M.push(...hI(u,x,S,D));const L=[u,...M],I=await pc(e,A),j=[];let U=((s=a.flip)==null?void 0:s.overflows)||[];if(p&&j.push(I[E]),g){const ce=oI(i,l,D);j.push(I[ce[0]],I[ce[1]])}if(U=[...U,{placement:i,overflows:j}],!j.every(ce=>ce<=0)){var $,K;const ce=((($=a.flip)==null?void 0:$.index)||0)+1,ae=L[ce];if(ae&&(!(g==="alignment"?C!==ci(ae):!1)||U.every(q=>q.overflows[0]>0&&ci(q.placement)===C)))return{data:{index:ce,overflows:U},reset:{placement:ae}};let N=(K=U.filter(B=>B.overflows[0]<=0).sort((B,q)=>B.overflows[1]-q.overflows[1])[0])==null?void 0:K.placement;if(!N)switch(b){case"bestFit":{var Z;const B=(Z=U.filter(q=>{if(O){const Y=ci(q.placement);return Y===C||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,P)=>Y+P,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:Z[0];B&&(N=B);break}case"initialPlacement":N=u;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function AS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ES(n){return sI.some(e=>n[e]>=0)}const vI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...i}=Gi(n,e);switch(s){case"referenceHidden":{const a=await pc(e,{...i,elementContext:"reference"}),l=AS(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ES(l)}}}case"escaped":{const a=await pc(e,{...i,altBoundary:!0}),l=AS(a,t.floating);return{data:{escapedOffsets:l,escaped:ES(l)}}}default:return{}}}}},Y1=new Set(["left","top"]);async function bI(n,e){const{placement:t,platform:s,elements:i}=n,a=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=qi(t),u=Io(t),d=ci(t)==="y",f=Y1.has(l)?-1:1,p=a&&d?-1:1,g=Gi(e,n);let{mainAxis:m,crossAxis:b,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(b=u==="end"?S*-1:S),d?{x:b*p,y:m*f}:{x:m*f,y:b*p}}const yI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:i,y:a,placement:l,middlewareData:u}=e,d=await bI(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},wI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:E,y:C}=A;return{x:E,y:C}}},...d}=Gi(n,e),f={x:t,y:s},p=await pc(e,d),g=ci(qi(i)),m=_v(g);let b=f[m],S=f[g];if(a){const A=m==="y"?"top":"left",E=m==="y"?"bottom":"right",C=b+p[A],T=b-p[E];b=mm(C,b,T)}if(l){const A=g==="y"?"top":"left",E=g==="y"?"bottom":"right",C=S+p[A],T=S-p[E];S=mm(C,S,T)}const x=u.fn({...e,[m]:b,[g]:S});return{...x,data:{x:x.x-t,y:x.y-s,enabled:{[m]:a,[g]:l}}}}}},xI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Gi(n,e),p={x:t,y:s},g=ci(i),m=_v(g);let b=p[m],S=p[g];const x=Gi(u,e),A=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const T=m==="y"?"height":"width",D=a.reference[m]-a.floating[T]+A.mainAxis,M=a.reference[m]+a.reference[T]-A.mainAxis;b<D?b=D:b>M&&(b=M)}if(f){var E,C;const T=m==="y"?"width":"height",D=Y1.has(qi(i)),M=a.reference[g]-a.floating[T]+(D&&((E=l.offset)==null?void 0:E[g])||0)+(D?0:A.crossAxis),O=a.reference[g]+a.reference[T]+(D?0:((C=l.offset)==null?void 0:C[g])||0)-(D?A.crossAxis:0);S<M?S=M:S>O&&(S=O)}return{[m]:b,[g]:S}}}},SI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...f}=Gi(n,e),p=await pc(e,f),g=qi(i),m=Io(i),b=ci(i)==="y",{width:S,height:x}=a.floating;let A,E;g==="top"||g==="bottom"?(A=g,E=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(E=g,A=m==="end"?"top":"bottom");const C=x-p.top-p.bottom,T=S-p.left-p.right,D=Cr(x-p[A],C),M=Cr(S-p[E],T),O=!e.middlewareData.shift;let L=D,I=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=T),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(L=C),O&&!m){const U=ss(p.left,0),$=ss(p.right,0),K=ss(p.top,0),Z=ss(p.bottom,0);b?I=S-2*(U!==0||$!==0?U+$:ss(p.left,p.right)):L=x-2*(K!==0||Z!==0?K+Z:ss(p.top,p.bottom))}await d({...e,availableWidth:I,availableHeight:L});const j=await l.getDimensions(u.floating);return S!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function _h(){return typeof window<"u"}function Fo(n){return X1(n)?(n.nodeName||"").toLowerCase():"#document"}function is(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mi(n){var e;return(e=(X1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function X1(n){return _h()?n instanceof Node||n instanceof is(n).Node:!1}function zs(n){return _h()?n instanceof Element||n instanceof is(n).Element:!1}function fi(n){return _h()?n instanceof HTMLElement||n instanceof is(n).HTMLElement:!1}function CS(n){return!_h()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof is(n).ShadowRoot}const _I=new Set(["inline","contents"]);function jc(n){const{overflow:e,overflowX:t,overflowY:s,display:i}=$s(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!_I.has(i)}const AI=new Set(["table","td","th"]);function EI(n){return AI.has(Fo(n))}const CI=[":popover-open",":modal"];function Ah(n){return CI.some(e=>{try{return n.matches(e)}catch{return!1}})}const RI=["transform","translate","scale","rotate","perspective"],TI=["transform","translate","scale","rotate","perspective","filter"],MI=["paint","layout","strict","content"];function Cv(n){const e=Rv(),t=zs(n)?$s(n):n;return RI.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||TI.some(s=>(t.willChange||"").includes(s))||MI.some(s=>(t.contain||"").includes(s))}function DI(n){let e=Rr(n);for(;fi(e)&&!Ro(e);){if(Cv(e))return e;if(Ah(e))return null;e=Rr(e)}return null}function Rv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kI=new Set(["html","body","#document"]);function Ro(n){return kI.has(Fo(n))}function $s(n){return is(n).getComputedStyle(n)}function Eh(n){return zs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Rr(n){if(Fo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CS(n)&&n.host||mi(n);return CS(e)?e.host:e}function Z1(n){const e=Rr(n);return Ro(e)?n.ownerDocument?n.ownerDocument.body:n.body:fi(e)&&jc(e)?e:Z1(e)}function gc(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Z1(n),a=i===((s=n.ownerDocument)==null?void 0:s.body),l=is(i);if(a){const u=bm(l);return e.concat(l,l.visualViewport||[],jc(i)?i:[],u&&t?gc(u):[])}return e.concat(i,gc(i,[],t))}function bm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function W1(n){const e=$s(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=fi(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:s,u=Gd(t)!==a||Gd(s)!==l;return u&&(t=a,s=l),{width:t,height:s,$:u}}function Tv(n){return zs(n)?n:n.contextElement}function So(n){const e=Tv(n);if(!fi(e))return di(1);const t=e.getBoundingClientRect(),{width:s,height:i,$:a}=W1(e);let l=(a?Gd(t.width):t.width)/s,u=(a?Gd(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const NI=di(0);function K1(n){const e=is(n);return!Rv()||!e.visualViewport?NI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==is(n)?!1:e}function la(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Tv(n);let l=di(1);e&&(s?zs(s)&&(l=So(s)):l=So(n));const u=PI(a,t,s)?K1(a):di(0);let d=(i.left+u.x)/l.x,f=(i.top+u.y)/l.y,p=i.width/l.x,g=i.height/l.y;if(a){const m=is(a),b=s&&zs(s)?is(s):s;let S=m,x=bm(S);for(;x&&s&&b!==S;){const A=So(x),E=x.getBoundingClientRect(),C=$s(x),T=E.left+(x.clientLeft+parseFloat(C.paddingLeft))*A.x,D=E.top+(x.clientTop+parseFloat(C.paddingTop))*A.y;d*=A.x,f*=A.y,p*=A.x,g*=A.y,d+=T,f+=D,S=is(x),x=bm(S)}}return Yd({width:p,height:g,x:d,y:f})}function Mv(n,e){const t=Eh(n).scrollLeft;return e?e.left+t:la(mi(n)).left+t}function Q1(n,e,t){t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=s.left+e.scrollLeft-(t?0:Mv(n,s)),a=s.top+e.scrollTop;return{x:i,y:a}}function OI(n){let{elements:e,rect:t,offsetParent:s,strategy:i}=n;const a=i==="fixed",l=mi(s),u=e?Ah(e.floating):!1;if(s===l||u&&a)return t;let d={scrollLeft:0,scrollTop:0},f=di(1);const p=di(0),g=fi(s);if((g||!g&&!a)&&((Fo(s)!=="body"||jc(l))&&(d=Eh(s)),fi(s))){const b=la(s);f=So(s),p.x=b.x+s.clientLeft,p.y=b.y+s.clientTop}const m=l&&!g&&!a?Q1(l,d,!0):di(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+m.x,y:t.y*f.y-d.scrollTop*f.y+p.y+m.y}}function LI(n){return Array.from(n.getClientRects())}function jI(n){const e=mi(n),t=Eh(n),s=n.ownerDocument.body,i=ss(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=ss(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let l=-t.scrollLeft+Mv(n);const u=-t.scrollTop;return $s(s).direction==="rtl"&&(l+=ss(e.clientWidth,s.clientWidth)-i),{width:i,height:a,x:l,y:u}}function II(n,e){const t=is(n),s=mi(n),i=t.visualViewport;let a=s.clientWidth,l=s.clientHeight,u=0,d=0;if(i){a=i.width,l=i.height;const f=Rv();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:a,height:l,x:u,y:d}}const FI=new Set(["absolute","fixed"]);function zI(n,e){const t=la(n,!0,e==="fixed"),s=t.top+n.clientTop,i=t.left+n.clientLeft,a=fi(n)?So(n):di(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,d=i*a.x,f=s*a.y;return{width:l,height:u,x:d,y:f}}function RS(n,e,t){let s;if(e==="viewport")s=II(n,t);else if(e==="document")s=jI(mi(n));else if(zs(e))s=zI(e,t);else{const i=K1(n);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yd(s)}function J1(n,e){const t=Rr(n);return t===e||!zs(t)||Ro(t)?!1:$s(t).position==="fixed"||J1(t,e)}function $I(n,e){const t=e.get(n);if(t)return t;let s=gc(n,[],!1).filter(u=>zs(u)&&Fo(u)!=="body"),i=null;const a=$s(n).position==="fixed";let l=a?Rr(n):n;for(;zs(l)&&!Ro(l);){const u=$s(l),d=Cv(l);!d&&u.position==="fixed"&&(i=null),(a?!d&&!i:!d&&u.position==="static"&&!!i&&FI.has(i.position)||jc(l)&&!d&&J1(n,l))?s=s.filter(p=>p!==l):i=u,l=Rr(l)}return e.set(n,s),s}function BI(n){let{element:e,boundary:t,rootBoundary:s,strategy:i}=n;const l=[...t==="clippingAncestors"?Ah(e)?[]:$I(e,this._c):[].concat(t),s],u=l[0],d=l.reduce((f,p)=>{const g=RS(e,p,i);return f.top=ss(g.top,f.top),f.right=Cr(g.right,f.right),f.bottom=Cr(g.bottom,f.bottom),f.left=ss(g.left,f.left),f},RS(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function HI(n){const{width:e,height:t}=W1(n);return{width:e,height:t}}function VI(n,e,t){const s=fi(e),i=mi(e),a=t==="fixed",l=la(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=di(0);function f(){d.x=Mv(i)}if(s||!s&&!a)if((Fo(e)!=="body"||jc(i))&&(u=Eh(e)),s){const b=la(e,!0,a,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else i&&f();a&&!s&&i&&f();const p=i&&!s&&!a?Q1(i,u):di(0),g=l.left+u.scrollLeft-d.x-p.x,m=l.top+u.scrollTop-d.y-p.y;return{x:g,y:m,width:l.width,height:l.height}}function kg(n){return $s(n).position==="static"}function TS(n,e){if(!fi(n)||$s(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return mi(n)===t&&(t=t.ownerDocument.body),t}function eE(n,e){const t=is(n);if(Ah(n))return t;if(!fi(n)){let i=Rr(n);for(;i&&!Ro(i);){if(zs(i)&&!kg(i))return i;i=Rr(i)}return t}let s=TS(n,e);for(;s&&EI(s)&&kg(s);)s=TS(s,e);return s&&Ro(s)&&kg(s)&&!Cv(s)?t:s||DI(n)||t}const UI=async function(n){const e=this.getOffsetParent||eE,t=this.getDimensions,s=await t(n.floating);return{reference:VI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function GI(n){return $s(n).direction==="rtl"}const qI={convertOffsetParentRelativeRectToViewportRelativeRect:OI,getDocumentElement:mi,getClippingRect:BI,getOffsetParent:eE,getElementRects:UI,getClientRects:LI,getDimensions:HI,getScale:So,isElement:zs,isRTL:GI};function tE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function YI(n,e){let t=null,s;const i=mi(n);function a(){var u;clearTimeout(s),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const f=n.getBoundingClientRect(),{left:p,top:g,width:m,height:b}=f;if(u||e(),!m||!b)return;const S=xd(g),x=xd(i.clientWidth-(p+m)),A=xd(i.clientHeight-(g+b)),E=xd(p),T={rootMargin:-S+"px "+-x+"px "+-A+"px "+-E+"px",threshold:ss(0,Cr(1,d))||1};let D=!0;function M(O){const L=O[0].intersectionRatio;if(L!==d){if(!D)return l();L?l(!1,L):s=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!tE(f,n.getBoundingClientRect())&&l(),D=!1}try{t=new IntersectionObserver(M,{...T,root:i.ownerDocument})}catch{t=new IntersectionObserver(M,T)}t.observe(n)}return l(!0),a}function XI(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,f=Tv(n),p=i||a?[...f?gc(f):[],...gc(e)]:[];p.forEach(E=>{i&&E.addEventListener("scroll",t,{passive:!0}),a&&E.addEventListener("resize",t)});const g=f&&u?YI(f,t):null;let m=-1,b=null;l&&(b=new ResizeObserver(E=>{let[C]=E;C&&C.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=b)==null||T.observe(e)})),t()}),f&&!d&&b.observe(f),b.observe(e));let S,x=d?la(n):null;d&&A();function A(){const E=la(n);x&&!tE(x,E)&&t(),x=E,S=requestAnimationFrame(A)}return t(),()=>{var E;p.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g?.(),(E=b)==null||E.disconnect(),b=null,d&&cancelAnimationFrame(S)}}const ZI=yI,WI=wI,KI=mI,QI=SI,JI=vI,MS=gI,eF=xI,tF=(n,e,t)=>{const s=new Map,i={platform:qI,...t},a={...i.platform,_c:s};return pI(n,e,{...i,platform:a})};var nF=typeof document<"u",sF=function(){},Fd=nF?_.useLayoutEffect:sF;function Xd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Xd(n[s],e[s]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=t;s--!==0;){const a=i[s];if(!(a==="_owner"&&n.$$typeof)&&!Xd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function nE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function DS(n,e){const t=nE(n);return Math.round(e*t)/t}function Ng(n){const e=_.useRef(n);return Fd(()=>{e.current=n}),e}function iF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=n,[p,g]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,b]=_.useState(s);Xd(m,s)||b(s);const[S,x]=_.useState(null),[A,E]=_.useState(null),C=_.useCallback(q=>{q!==O.current&&(O.current=q,x(q))},[]),T=_.useCallback(q=>{q!==L.current&&(L.current=q,E(q))},[]),D=a||S,M=l||A,O=_.useRef(null),L=_.useRef(null),I=_.useRef(p),j=d!=null,U=Ng(d),$=Ng(i),K=Ng(f),Z=_.useCallback(()=>{if(!O.current||!L.current)return;const q={placement:e,strategy:t,middleware:m};$.current&&(q.platform=$.current),tF(O.current,L.current,q).then(Y=>{const P={...Y,isPositioned:K.current!==!1};ce.current&&!Xd(I.current,P)&&(I.current=P,dv.flushSync(()=>{g(P)}))})},[m,e,t,$,K]);Fd(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[f]);const ce=_.useRef(!1);Fd(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Fd(()=>{if(D&&(O.current=D),M&&(L.current=M),D&&M){if(U.current)return U.current(D,M,Z);Z()}},[D,M,Z,U,j]);const ae=_.useMemo(()=>({reference:O,floating:L,setReference:C,setFloating:T}),[C,T]),N=_.useMemo(()=>({reference:D,floating:M}),[D,M]),B=_.useMemo(()=>{const q={position:t,left:0,top:0};if(!N.floating)return q;const Y=DS(N.floating,p.x),P=DS(N.floating,p.y);return u?{...q,transform:"translate("+Y+"px, "+P+"px)",...nE(N.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:P}},[t,u,N.floating,p.x,p.y]);return _.useMemo(()=>({...p,update:Z,refs:ae,elements:N,floatingStyles:B}),[p,Z,ae,N,B])}const rF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:i}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?MS({element:s.current,padding:i}).fn(t):{}:s?MS({element:s,padding:i}).fn(t):{}}}},aF=(n,e)=>({...ZI(n),options:[n,e]}),oF=(n,e)=>({...WI(n),options:[n,e]}),lF=(n,e)=>({...eF(n),options:[n,e]}),cF=(n,e)=>({...KI(n),options:[n,e]}),uF=(n,e)=>({...QI(n),options:[n,e]}),dF=(n,e)=>({...JI(n),options:[n,e]}),hF=(n,e)=>({...rF(n),options:[n,e]});var fF="Arrow",sE=_.forwardRef((n,e)=>{const{children:t,width:s=10,height:i=5,...a}=n;return y.jsx(Ke.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});sE.displayName=fF;var pF=sE;function iE(n){const[e,t]=_.useState(void 0);return rs(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var Dv="Popper",[rE,Ch]=Bs(Dv),[gF,aE]=rE(Dv),oE=n=>{const{__scopePopper:e,children:t}=n,[s,i]=_.useState(null);return y.jsx(gF,{scope:e,anchor:s,onAnchorChange:i,children:t})};oE.displayName=Dv;var lE="PopperAnchor",cE=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...i}=n,a=aE(lE,t),l=_.useRef(null),u=vt(e,l);return _.useEffect(()=>{a.onAnchorChange(s?.current||l.current)}),s?null:y.jsx(Ke.div,{...i,ref:u})});cE.displayName=lE;var kv="PopperContent",[mF,vF]=rE(kv),uE=_.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:m=!1,updatePositionStrategy:b="optimized",onPlaced:S,...x}=n,A=aE(kv,t),[E,C]=_.useState(null),T=vt(e,ue=>C(ue)),[D,M]=_.useState(null),O=iE(D),L=O?.width??0,I=O?.height??0,j=s+(a!=="center"?"-"+a:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},$=Array.isArray(f)?f:[f],K=$.length>0,Z={padding:U,boundary:$.filter(yF),altBoundary:K},{refs:ce,floatingStyles:ae,placement:N,isPositioned:B,middlewareData:q}=iF({strategy:"fixed",placement:j,whileElementsMounted:(...ue)=>XI(...ue,{animationFrame:b==="always"}),elements:{reference:A.anchor},middleware:[aF({mainAxis:i+I,alignmentAxis:l}),d&&oF({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?lF():void 0,...Z}),d&&cF({...Z}),uF({...Z,apply:({elements:ue,rects:be,availableWidth:we,availableHeight:De})=>{const{width:$e,height:xt}=be.reference,dt=ue.floating.style;dt.setProperty("--radix-popper-available-width",`${we}px`),dt.setProperty("--radix-popper-available-height",`${De}px`),dt.setProperty("--radix-popper-anchor-width",`${$e}px`),dt.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),D&&hF({element:D,padding:u}),wF({arrowWidth:L,arrowHeight:I}),m&&dF({strategy:"referenceHidden",...Z})]}),[Y,P]=fE(N),G=Sn(S);rs(()=>{B&&G?.()},[B,G]);const se=q.arrow?.x,V=q.arrow?.y,re=q.arrow?.centerOffset!==0,[ge,ee]=_.useState();return rs(()=>{E&&ee(window.getComputedStyle(E).zIndex)},[E]),y.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:B?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(mF,{scope:t,placedSide:Y,onArrowChange:M,arrowX:se,arrowY:V,shouldHideArrow:re,children:y.jsx(Ke.div,{"data-side":Y,"data-align":P,...x,ref:T,style:{...x.style,animation:B?void 0:"none"}})})})});uE.displayName=kv;var dE="PopperArrow",bF={top:"bottom",right:"left",bottom:"top",left:"right"},hE=_.forwardRef(function(e,t){const{__scopePopper:s,...i}=e,a=vF(dE,s),l=bF[a.placedSide];return y.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:y.jsx(pF,{...i,ref:t,style:{...i.style,display:"block"}})})});hE.displayName=dE;function yF(n){return n!==null}var wF=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[f,p]=fE(t),g={start:"0%",center:"50%",end:"100%"}[p],m=(i.arrow?.x??0)+u/2,b=(i.arrow?.y??0)+d/2;let S="",x="";return f==="bottom"?(S=l?g:`${m}px`,x=`${-d}px`):f==="top"?(S=l?g:`${m}px`,x=`${s.floating.height+d}px`):f==="right"?(S=`${-d}px`,x=l?g:`${b}px`):f==="left"&&(S=`${s.floating.width+d}px`,x=l?g:`${b}px`),{data:{x:S,y:x}}}});function fE(n){const[e,t="center"]=n.split("-");return[e,t]}var pE=oE,gE=cE,mE=uE,vE=hE,xF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SF="VisuallyHidden",bE=_.forwardRef((n,e)=>y.jsx(Ke.span,{...n,ref:e,style:{...xF,...n.style}}));bE.displayName=SF;var _F=bE,[Rh,j5]=Bs("Tooltip",[Ch]),Th=Ch(),yE="TooltipProvider",AF=700,ym="tooltip.open",[EF,Nv]=Rh(yE),wE=n=>{const{__scopeTooltip:e,delayDuration:t=AF,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=n,l=_.useRef(!0),u=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),y.jsx(EF,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:_.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:a})};wE.displayName=yE;var mc="Tooltip",[CF,Ic]=Rh(mc),xE=n=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:i,onOpenChange:a,disableHoverableContent:l,delayDuration:u}=n,d=Nv(mc,n.__scopeTooltip),f=Th(e),[p,g]=_.useState(null),m=_r(),b=_.useRef(0),S=l??d.disableHoverableContent,x=u??d.delayDuration,A=_.useRef(!1),[E,C]=jo({prop:s,defaultProp:i??!1,onChange:L=>{L?(d.onOpen(),document.dispatchEvent(new CustomEvent(ym))):d.onClose(),a?.(L)},caller:mc}),T=_.useMemo(()=>E?A.current?"delayed-open":"instant-open":"closed",[E]),D=_.useCallback(()=>{window.clearTimeout(b.current),b.current=0,A.current=!1,C(!0)},[C]),M=_.useCallback(()=>{window.clearTimeout(b.current),b.current=0,C(!1)},[C]),O=_.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{A.current=!0,C(!0),b.current=0},x)},[x,C]);return _.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),y.jsx(pE,{...f,children:y.jsx(CF,{scope:e,contentId:m,open:E,stateAttribute:T,trigger:p,onTriggerChange:g,onTriggerEnter:_.useCallback(()=>{d.isOpenDelayedRef.current?O():D()},[d.isOpenDelayedRef,O,D]),onTriggerLeave:_.useCallback(()=>{S?M():(window.clearTimeout(b.current),b.current=0)},[M,S]),onOpen:D,onClose:M,disableHoverableContent:S,children:t})})};xE.displayName=mc;var wm="TooltipTrigger",SE=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=Ic(wm,t),a=Nv(wm,t),l=Th(t),u=_.useRef(null),d=vt(e,u,i.onTriggerChange),f=_.useRef(!1),p=_.useRef(!1),g=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),y.jsx(gE,{asChild:!0,...l,children:y.jsx(Ke.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:d,onPointerMove:Me(n.onPointerMove,m=>{m.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Me(n.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Me(n.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Me(n.onFocus,()=>{f.current||i.onOpen()}),onBlur:Me(n.onBlur,i.onClose),onClick:Me(n.onClick,i.onClose)})})});SE.displayName=wm;var Pv="TooltipPortal",[RF,TF]=Rh(Pv,{forceMount:void 0}),_E=n=>{const{__scopeTooltip:e,forceMount:t,children:s,container:i}=n,a=Ic(Pv,e);return y.jsx(RF,{scope:e,forceMount:t,children:y.jsx(Mn,{present:t||a.open,children:y.jsx(wh,{asChild:!0,container:i,children:s})})})};_E.displayName=Pv;var To="TooltipContent",AE=_.forwardRef((n,e)=>{const t=TF(To,n.__scopeTooltip),{forceMount:s=t.forceMount,side:i="top",...a}=n,l=Ic(To,n.__scopeTooltip);return y.jsx(Mn,{present:s||l.open,children:l.disableHoverableContent?y.jsx(EE,{side:i,...a,ref:e}):y.jsx(MF,{side:i,...a,ref:e})})}),MF=_.forwardRef((n,e)=>{const t=Ic(To,n.__scopeTooltip),s=Nv(To,n.__scopeTooltip),i=_.useRef(null),a=vt(e,i),[l,u]=_.useState(null),{trigger:d,onClose:f}=t,p=i.current,{onPointerInTransitChange:g}=s,m=_.useCallback(()=>{u(null),g(!1)},[g]),b=_.useCallback((S,x)=>{const A=S.currentTarget,E={x:S.clientX,y:S.clientY},C=PF(E,A.getBoundingClientRect()),T=OF(E,C),D=LF(x.getBoundingClientRect()),M=IF([...T,...D]);u(M),g(!0)},[g]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(d&&p){const S=A=>b(A,p),x=A=>b(A,d);return d.addEventListener("pointerleave",S),p.addEventListener("pointerleave",x),()=>{d.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",x)}}},[d,p,b,m]),_.useEffect(()=>{if(l){const S=x=>{const A=x.target,E={x:x.clientX,y:x.clientY},C=d?.contains(A)||p?.contains(A),T=!jF(E,l);C?m():T&&(m(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[d,p,l,f,m]),y.jsx(EE,{...n,ref:a})}),[DF,kF]=Rh(mc,{isInside:!1}),NF=gP("TooltipContent"),EE=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=n,d=Ic(To,t),f=Th(t),{onClose:p}=d;return _.useEffect(()=>(document.addEventListener(ym,p),()=>document.removeEventListener(ym,p)),[p]),_.useEffect(()=>{if(d.trigger){const g=m=>{m.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,p]),y.jsx(yh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:y.jsxs(mE,{"data-state":d.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(NF,{children:s}),y.jsx(DF,{scope:t,isInside:!0,children:y.jsx(_F,{id:d.contentId,role:"tooltip",children:i||s})})]})})});AE.displayName=To;var CE="TooltipArrow",RE=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,i=Th(t);return kF(CE,t).isInside?null:y.jsx(vE,{...i,...s,ref:e})});RE.displayName=CE;function PF(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),a=Math.abs(e.left-n.x);switch(Math.min(t,s,i,a)){case a:return"left";case i:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function OF(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function LF(n){const{top:e,right:t,bottom:s,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:s},{x:i,y:s}]}function jF(n,e){const{x:t,y:s}=n;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],d=e[l],f=u.x,p=u.y,g=d.x,m=d.y;p>s!=m>s&&t<(g-f)*(s-p)/(m-p)+f&&(i=!i)}return i}function IF(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),FF(e)}function FF(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const i=n[s];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const i=n[s];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var zF=wE,$F=xE,BF=SE,HF=_E,VF=AE,UF=RE;function TE({delayDuration:n=0,...e}){return y.jsx(zF,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function GF({...n}){return y.jsx(TE,{children:y.jsx($F,{"data-slot":"tooltip",...n})})}function qF({...n}){return y.jsx(BF,{"data-slot":"tooltip-trigger",...n})}function YF({className:n,sideOffset:e=0,children:t,...s}){return y.jsx(HF,{children:y.jsxs(VF,{"data-slot":"tooltip-content",sideOffset:e,className:Se("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...s,children:[t,y.jsx(UF,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const XF="sidebar_state",ZF=3600*24*7,WF="16rem",KF="18rem",QF="3rem",JF="b",ME=_.createContext(null);function zo(){const n=_.useContext(ME);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function ez({defaultOpen:n=!0,open:e,onOpenChange:t,className:s,style:i,children:a,...l}){const u=qO(),[d,f]=_.useState(!1),[p,g]=_.useState(n),m=e??p,b=_.useCallback(E=>{const C=typeof E=="function"?E(m):E;t?t(C):g(C),document.cookie=`${XF}=${C}; path=/; max-age=${ZF}`},[t,m]),S=_.useCallback(()=>u?f(E=>!E):b(E=>!E),[u,b,f]);_.useEffect(()=>{const E=C=>{C.key===JF&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),S())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[S]);const x=m?"expanded":"collapsed",A=_.useMemo(()=>({state:x,open:m,setOpen:b,isMobile:u,openMobile:d,setOpenMobile:f,toggleSidebar:S}),[x,m,b,u,d,f,S]);return y.jsx(ME.Provider,{value:A,children:y.jsx(TE,{delayDuration:0,children:y.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":WF,"--sidebar-width-icon":QF,...i},className:Se("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...l,children:a})})})}function tz({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:s,children:i,...a}){const{isMobile:l,state:u,openMobile:d,setOpenMobile:f}=zo();return t==="none"?y.jsx("div",{"data-slot":"sidebar",className:Se("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...a,children:i}):l?y.jsx(dm,{open:d,onOpenChange:f,...a,children:y.jsxs(hm,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":KF},side:n,children:[y.jsxs(fm,{className:"sr-only",children:[y.jsx(pm,{children:"Sidebar"}),y.jsx(gm,{children:"Displays the mobile sidebar."})]}),y.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):y.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[y.jsx("div",{"data-slot":"sidebar-gap",className:Se("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),y.jsx("div",{"data-slot":"sidebar-container",className:Se("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...a,children:y.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function nz({className:n,onClick:e,...t}){const{toggleSidebar:s}=zo();return y.jsxs(He,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Se("size-7",n),onClick:i=>{e?.(i),s()},...t,children:[y.jsx(wO,{}),y.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function sz({className:n,...e}){const{toggleSidebar:t}=zo();return y.jsx("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:t,title:"Toggle Sidebar",className:Se("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})}function iz({className:n,...e}){return y.jsx("main",{"data-slot":"sidebar-inset",className:Se("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n),...e})}function rz({className:n,...e}){return y.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Se("flex flex-col gap-2 p-2",n),...e})}function az({className:n,...e}){return y.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:Se("flex flex-col gap-2 p-2",n),...e})}function oz({className:n,...e}){return y.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Se("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function DE({className:n,...e}){return y.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Se("relative flex w-full min-w-0 flex-col p-2",n),...e})}function kE({className:n,asChild:e=!1,...t}){const s=e?fa:"div";return y.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Se("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})}function Mh({className:n,...e}){return y.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Se("flex w-full min-w-0 flex-col gap-1",n),...e})}function Dh({className:n,...e}){return y.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Se("group/menu-item relative",n),...e})}const lz=hv("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function kh({asChild:n=!1,isActive:e=!1,variant:t="default",size:s="default",tooltip:i,className:a,...l}){const u=n?fa:"button",{isMobile:d,state:f}=zo(),p=y.jsx(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":s,"data-active":e,className:Se(lz({variant:t,size:s}),a),...l});return i?(typeof i=="string"&&(i={children:i}),y.jsxs(GF,{children:[y.jsx(qF,{asChild:!0,children:p}),y.jsx(YF,{side:"right",align:"center",hidden:f!=="collapsed"||d,...i})]})):p}function cz({className:n,...e}){return y.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:Se("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...e})}function uz({className:n,...e}){return y.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:Se("group/menu-sub-item relative",n),...e})}function dz({asChild:n=!1,size:e="md",isActive:t=!1,className:s,...i}){const a=n?fa:"a";return y.jsx(a,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:Se("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s),...i})}var hz=(n,e,t,s,i,a,l,u)=>{let d=document.documentElement,f=["light","dark"];function p(b){(Array.isArray(n)?n:[n]).forEach(S=>{let x=S==="class",A=x&&a?i.map(E=>a[E]||E):i;x?(d.classList.remove(...A),d.classList.add(a&&a[b]?a[b]:b)):d.setAttribute(S,b)}),g(b)}function g(b){u&&f.includes(b)&&(d.style.colorScheme=b)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)p(s);else try{let b=localStorage.getItem(e)||t,S=l&&b==="system"?m():b;p(S)}catch{}},fz=_.createContext(void 0),pz={setTheme:n=>{},themes:[]},gz=()=>{var n;return(n=_.useContext(fz))!=null?n:pz};_.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:l,themes:u,nonce:d,scriptProps:f})=>{let p=JSON.stringify([t,e,a,n,u,l,s,i]).slice(1,-1);return _.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${hz.toString()})(${p})`}})});function mz(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const vz=n=>{switch(n){case"success":return wz;case"info":return Sz;case"warning":return xz;case"error":return _z;default:return null}},bz=Array(12).fill(0),yz=({visible:n,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},oe.createElement("div",{className:"sonner-spinner"},bz.map((t,s)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),wz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sz=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_z=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Az=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ez=()=>{const[n,e]=oe.useState(document.hidden);return oe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let xm=1;class Cz{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:xm++,l=this.toasts.find(d=>d.id===a),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:s}),{...d,...e,id:a,dismissible:u,title:s}):d):this.addToast({title:s,...i,dismissible:u,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=s!==void 0,l;const u=i.then(async f=>{if(l=["resolve",f],oe.isValidElement(f))a=!1,this.create({id:s,type:"default",message:f});else if(Tz(f)&&!f.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,S=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:m,...S})}else if(f instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(f):t.error,m=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:m,...S})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(f):t.success,m=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!oe.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:m,...S})}}).catch(async f=>{if(l=["reject",f],t.error!==void 0){a=!1;const p=typeof t.error=="function"?await t.error(f):t.error,g=typeof t.description=="function"?await t.description(f):t.description,b=typeof p=="object"&&!oe.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:g,...b})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(e,t)=>{const s=t?.id||xm++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vn=new Cz,Rz=(n,e)=>{const t=e?.id||xm++;return Vn.addToast({title:n,...e,id:t}),t},Tz=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Mz=Rz,Dz=()=>Vn.toasts,kz=()=>Vn.getActiveToasts(),ot=Object.assign(Mz,{success:Vn.success,info:Vn.info,warning:Vn.warning,error:Vn.error,custom:Vn.custom,message:Vn.message,promise:Vn.promise,dismiss:Vn.dismiss,loading:Vn.loading},{getHistory:Dz,getToasts:kz});mz("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sd(n){return n.label!==void 0}const Nz=3,Pz="24px",Oz="16px",kS=4e3,Lz=356,jz=14,Iz=45,Fz=200;function ni(...n){return n.filter(Boolean).join(" ")}function zz(n){const[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const $z=n=>{var e,t,s,i,a,l,u,d,f;const{invert:p,toast:g,unstyled:m,interacting:b,setHeights:S,visibleToasts:x,heights:A,index:E,toasts:C,expanded:T,removeToast:D,defaultRichColors:M,closeButton:O,style:L,cancelButtonStyle:I,actionButtonStyle:j,className:U="",descriptionClassName:$="",duration:K,position:Z,gap:ce,expandByDefault:ae,classNames:N,icons:B,closeButtonAriaLabel:q="Close toast"}=n,[Y,P]=oe.useState(null),[G,se]=oe.useState(null),[V,re]=oe.useState(!1),[ge,ee]=oe.useState(!1),[ue,be]=oe.useState(!1),[we,De]=oe.useState(!1),[$e,xt]=oe.useState(!1),[dt,Qe]=oe.useState(0),[Et,ht]=oe.useState(0),bt=oe.useRef(g.duration||K||kS),os=oe.useRef(null),It=oe.useRef(null),z=E===0,Q=E+1<=x,ie=g.type,ve=g.dismissible!==!1,me=g.className||"",pe=g.descriptionClassName||"",xe=oe.useMemo(()=>A.findIndex(Ve=>Ve.toastId===g.id)||0,[A,g.id]),ke=oe.useMemo(()=>{var Ve;return(Ve=g.closeButton)!=null?Ve:O},[g.closeButton,O]),qe=oe.useMemo(()=>g.duration||K||kS,[g.duration,K]),st=oe.useRef(0),mn=oe.useRef(0),Gn=oe.useRef(0),Vs=oe.useRef(null),[Us,Gs]=Z.split("-"),ls=oe.useMemo(()=>A.reduce((Ve,Ft,Zt)=>Zt>=xe?Ve:Ve+Ft.height,0),[A,xe]),qs=Ez(),bi=g.invert||p,Yi=ie==="loading";mn.current=oe.useMemo(()=>xe*ce+ls,[xe,ls]),oe.useEffect(()=>{bt.current=qe},[qe]),oe.useEffect(()=>{re(!0)},[]),oe.useEffect(()=>{const Ve=It.current;if(Ve){const Ft=Ve.getBoundingClientRect().height;return ht(Ft),S(Zt=>[{toastId:g.id,height:Ft,position:g.position},...Zt]),()=>S(Zt=>Zt.filter(vn=>vn.toastId!==g.id))}},[S,g.id]),oe.useLayoutEffect(()=>{if(!V)return;const Ve=It.current,Ft=Ve.style.height;Ve.style.height="auto";const Zt=Ve.getBoundingClientRect().height;Ve.style.height=Ft,ht(Zt),S(vn=>vn.find(nn=>nn.toastId===g.id)?vn.map(nn=>nn.toastId===g.id?{...nn,height:Zt}:nn):[{toastId:g.id,height:Zt,position:g.position},...vn])},[V,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const Ts=oe.useCallback(()=>{ee(!0),Qe(mn.current),S(Ve=>Ve.filter(Ft=>Ft.toastId!==g.id)),setTimeout(()=>{D(g)},Fz)},[g,D,S,mn]);oe.useEffect(()=>{if(g.promise&&ie==="loading"||g.duration===1/0||g.type==="loading")return;let Ve;return T||b||qs?(()=>{if(Gn.current<st.current){const vn=new Date().getTime()-st.current;bt.current=bt.current-vn}Gn.current=new Date().getTime()})():(()=>{bt.current!==1/0&&(st.current=new Date().getTime(),Ve=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Ts()},bt.current))})(),()=>clearTimeout(Ve)},[T,b,g,ie,qs,Ts]),oe.useEffect(()=>{g.delete&&(Ts(),g.onDismiss==null||g.onDismiss.call(g,g))},[Ts,g.delete]);function Xc(){var Ve;if(B?.loading){var Ft;return oe.createElement("div",{className:ni(N?.loader,g==null||(Ft=g.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":ie==="loading"},B.loading)}return oe.createElement(yz,{className:ni(N?.loader,g==null||(Ve=g.classNames)==null?void 0:Ve.loader),visible:ie==="loading"})}const Vo=g.icon||B?.[ie]||vz(ie);var Xi,Zc;return oe.createElement("li",{tabIndex:0,ref:It,className:ni(U,me,N?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,N?.default,N?.[ie],g==null||(t=g.classNames)==null?void 0:t[ie]),"data-sonner-toast":"","data-rich-colors":(Xi=g.richColors)!=null?Xi:M,"data-styled":!(g.jsx||g.unstyled||m),"data-mounted":V,"data-promise":!!g.promise,"data-swiped":$e,"data-removed":ge,"data-visible":Q,"data-y-position":Us,"data-x-position":Gs,"data-index":E,"data-front":z,"data-swiping":ue,"data-dismissible":ve,"data-type":ie,"data-invert":bi,"data-swipe-out":we,"data-swipe-direction":G,"data-expanded":!!(T||ae&&V),style:{"--index":E,"--toasts-before":E,"--z-index":C.length-E,"--offset":`${ge?dt:mn.current}px`,"--initial-height":ae?"auto":`${Et}px`,...L,...g.style},onDragEnd:()=>{be(!1),P(null),Vs.current=null},onPointerDown:Ve=>{Ve.button!==2&&(Yi||!ve||(os.current=new Date,Qe(mn.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(be(!0),Vs.current={x:Ve.clientX,y:Ve.clientY})))},onPointerUp:()=>{var Ve,Ft,Zt;if(we||!ve)return;Vs.current=null;const vn=Number(((Ve=It.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kr=Number(((Ft=It.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nn=new Date().getTime()-((Zt=os.current)==null?void 0:Zt.getTime()),zt=Y==="x"?vn:kr,$t=Math.abs(zt)/nn;if(Math.abs(zt)>=Iz||$t>.11){Qe(mn.current),g.onDismiss==null||g.onDismiss.call(g,g),se(Y==="x"?vn>0?"right":"left":kr>0?"down":"up"),Ts(),De(!0);return}else{var St,cn;(St=It.current)==null||St.style.setProperty("--swipe-amount-x","0px"),(cn=It.current)==null||cn.style.setProperty("--swipe-amount-y","0px")}xt(!1),be(!1),P(null)},onPointerMove:Ve=>{var Ft,Zt,vn;if(!Vs.current||!ve||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;const nn=Ve.clientY-Vs.current.y,zt=Ve.clientX-Vs.current.x;var $t;const St=($t=n.swipeDirections)!=null?$t:zz(Z);!Y&&(Math.abs(zt)>1||Math.abs(nn)>1)&&P(Math.abs(zt)>Math.abs(nn)?"x":"y");let cn={x:0,y:0};const Sa=yi=>1/(1.5+Math.abs(yi)/20);if(Y==="y"){if(St.includes("top")||St.includes("bottom"))if(St.includes("top")&&nn<0||St.includes("bottom")&&nn>0)cn.y=nn;else{const yi=nn*Sa(nn);cn.y=Math.abs(yi)<Math.abs(nn)?yi:nn}}else if(Y==="x"&&(St.includes("left")||St.includes("right")))if(St.includes("left")&&zt<0||St.includes("right")&&zt>0)cn.x=zt;else{const yi=zt*Sa(zt);cn.x=Math.abs(yi)<Math.abs(zt)?yi:zt}(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&xt(!0),(Zt=It.current)==null||Zt.style.setProperty("--swipe-amount-x",`${cn.x}px`),(vn=It.current)==null||vn.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},ke&&!g.jsx&&ie!=="loading"?oe.createElement("button",{"aria-label":q,"data-disabled":Yi,"data-close-button":!0,onClick:Yi||!ve?()=>{}:()=>{Ts(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ni(N?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Zc=B?.close)!=null?Zc:Az):null,(ie||g.icon||g.promise)&&g.icon!==null&&(B?.[ie]!==null||g.icon)?oe.createElement("div",{"data-icon":"",className:ni(N?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Xc():null,g.type!=="loading"?Vo:null):null,oe.createElement("div",{"data-content":"",className:ni(N?.content,g==null||(a=g.classNames)==null?void 0:a.content)},oe.createElement("div",{"data-title":"",className:ni(N?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?oe.createElement("div",{"data-description":"",className:ni($,pe,N?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),oe.isValidElement(g.cancel)?g.cancel:g.cancel&&Sd(g.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||I,onClick:Ve=>{Sd(g.cancel)&&ve&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ve),Ts())},className:ni(N?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,oe.isValidElement(g.action)?g.action:g.action&&Sd(g.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||j,onClick:Ve=>{Sd(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ve),!Ve.defaultPrevented&&Ts())},className:ni(N?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function NS(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Bz(n,e){const t={};return[n,e].forEach((s,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",u=a?Oz:Pz;function d(f){["top","right","bottom","left"].forEach(p=>{t[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?d(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?t[`${l}-${f}`]=u:t[`${l}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):d(u)}),t}const Hz=oe.forwardRef(function(e,t){const{invert:s,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:p,theme:g="light",richColors:m,duration:b,style:S,visibleToasts:x=Nz,toastOptions:A,dir:E=NS(),gap:C=jz,icons:T,containerAriaLabel:D="Notifications"}=e,[M,O]=oe.useState([]),L=oe.useMemo(()=>Array.from(new Set([i].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,i]),[I,j]=oe.useState([]),[U,$]=oe.useState(!1),[K,Z]=oe.useState(!1),[ce,ae]=oe.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),N=oe.useRef(null),B=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=oe.useRef(null),Y=oe.useRef(!1),P=oe.useCallback(G=>{O(se=>{var V;return(V=se.find(re=>re.id===G.id))!=null&&V.delete||Vn.dismiss(G.id),se.filter(({id:re})=>re!==G.id)})},[]);return oe.useEffect(()=>Vn.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{O(se=>se.map(V=>V.id===G.id?{...V,delete:!0}:V))});return}setTimeout(()=>{GA.flushSync(()=>{O(se=>{const V=se.findIndex(re=>re.id===G.id);return V!==-1?[...se.slice(0,V),{...se[V],...G},...se.slice(V+1)]:[G,...se]})})})}),[M]),oe.useEffect(()=>{if(g!=="system"){ae(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:se})=>{ae(se?"dark":"light")})}catch{G.addListener(({matches:V})=>{try{ae(V?"dark":"light")}catch(re){console.error(re)}})}},[g]),oe.useEffect(()=>{M.length<=1&&$(!1)},[M]),oe.useEffect(()=>{const G=se=>{var V;if(a.every(ee=>se[ee]||se.code===ee)){var ge;$(!0),(ge=N.current)==null||ge.focus()}se.code==="Escape"&&(document.activeElement===N.current||(V=N.current)!=null&&V.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[a]),oe.useEffect(()=>{if(N.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,Y.current=!1)}},[N.current]),oe.createElement("section",{ref:t,"aria-label":`${D} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((G,se)=>{var V;const[re,ge]=G.split("-");return M.length?oe.createElement("ol",{key:G,dir:E==="auto"?NS():E,tabIndex:-1,ref:N,className:d,"data-sonner-toaster":!0,"data-sonner-theme":ce,"data-y-position":re,"data-x-position":ge,style:{"--front-toast-height":`${((V=I[0])==null?void 0:V.height)||0}px`,"--width":`${Lz}px`,"--gap":`${C}px`,...S,...Bz(f,p)},onBlur:ee=>{Y.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(Y.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,q.current=ee.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{K||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},M.filter(ee=>!ee.position&&se===0||ee.position===G).map((ee,ue)=>{var be,we;return oe.createElement($z,{key:ee.id,icons:T,index:ue,toast:ee,defaultRichColors:m,duration:(be=A?.duration)!=null?be:b,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:s,visibleToasts:x,closeButton:(we=A?.closeButton)!=null?we:u,interacting:K,position:G,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:P,toasts:M.filter(De=>De.position==ee.position),heights:I.filter(De=>De.position==ee.position),setHeights:j,expandByDefault:l,gap:C,expanded:U,swipeDirections:e.swipeDirections})})):null}))}),Vz=({...n})=>{const{theme:e="system"}=gz();return y.jsx(Hz,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};var Nh="Collapsible",[Uz,I5]=Bs(Nh),[Gz,Ov]=Uz(Nh),NE=_.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:s,defaultOpen:i,disabled:a,onOpenChange:l,...u}=n,[d,f]=jo({prop:s,defaultProp:i??!1,onChange:l,caller:Nh});return y.jsx(Gz,{scope:t,disabled:a,contentId:_r(),open:d,onOpenToggle:_.useCallback(()=>f(p=>!p),[f]),children:y.jsx(Ke.div,{"data-state":jv(d),"data-disabled":a?"":void 0,...u,ref:e})})});NE.displayName=Nh;var PE="CollapsibleTrigger",OE=_.forwardRef((n,e)=>{const{__scopeCollapsible:t,...s}=n,i=Ov(PE,t);return y.jsx(Ke.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":jv(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:e,onClick:Me(n.onClick,i.onOpenToggle)})});OE.displayName=PE;var Lv="CollapsibleContent",LE=_.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Ov(Lv,n.__scopeCollapsible);return y.jsx(Mn,{present:t||i.open,children:({present:a})=>y.jsx(qz,{...s,ref:e,present:a})})});LE.displayName=Lv;var qz=_.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:s,children:i,...a}=n,l=Ov(Lv,t),[u,d]=_.useState(s),f=_.useRef(null),p=vt(e,f),g=_.useRef(0),m=g.current,b=_.useRef(0),S=b.current,x=l.open||u,A=_.useRef(x),E=_.useRef(void 0);return _.useEffect(()=>{const C=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(C)},[]),rs(()=>{const C=f.current;if(C){E.current=E.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const T=C.getBoundingClientRect();g.current=T.height,b.current=T.width,A.current||(C.style.transitionDuration=E.current.transitionDuration,C.style.animationName=E.current.animationName),d(s)}},[l.open,s]),y.jsx(Ke.div,{"data-state":jv(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...a,ref:p,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...n.style},children:x&&i})});function jv(n){return n?"open":"closed"}var Yz=NE;function Xz({...n}){return y.jsx(Yz,{"data-slot":"collapsible",...n})}function Zz({...n}){return y.jsx(OE,{"data-slot":"collapsible-trigger",...n})}function Wz({...n}){return y.jsx(LE,{"data-slot":"collapsible-content",...n})}function Kz({items:n}){return y.jsxs(DE,{children:[y.jsx(kE,{children:"Platform"}),y.jsx(Mh,{children:n.map(e=>y.jsx(Xz,{asChild:!0,defaultOpen:e.isActive,className:"group/collapsible",children:y.jsxs(Dh,{children:[y.jsx(Zz,{asChild:!0,children:y.jsxs(kh,{tooltip:e.title,children:[e.icon&&y.jsx(e.icon,{}),y.jsx("span",{children:e.title}),y.jsx(bh,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),y.jsx(Wz,{children:y.jsx(cz,{children:e.items?.map(t=>y.jsx(uz,{children:y.jsx(dz,{asChild:!0,children:y.jsx("a",{href:t.url,children:y.jsx("span",{children:t.title})})})},t.title))})})]})},e.title))})]})}function Qz({projects:n}){return y.jsxs(DE,{className:"group-data-[collapsible=icon]:hidden",children:[y.jsx(kE,{children:"API"}),y.jsx(Mh,{children:n.map(e=>y.jsx(Dh,{children:y.jsx(kh,{asChild:!0,children:y.jsxs("a",{href:e.url,children:[y.jsx(e.icon,{}),y.jsx("span",{children:e.name})]})})},e.name))})]})}var Pg={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS;function Jz(){if(PS)return Og;PS=1;var n=rh();function e(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,i=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(g,m){var b=m(),S=s({inst:{value:b,getSnapshot:m}}),x=S[0].inst,A=S[1];return a(function(){x.value=b,x.getSnapshot=m,d(x)&&A({inst:x})},[g,b,m]),i(function(){return d(x)&&A({inst:x}),g(function(){d(x)&&A({inst:x})})},[g]),l(b),b}function d(g){var m=g.getSnapshot;g=g.value;try{var b=m();return!t(g,b)}catch{return!0}}function f(g,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Og.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,Og}var OS;function e$(){return OS||(OS=1,Pg.exports=Jz()),Pg.exports}var t$=e$();function n$(){return t$.useSyncExternalStore(s$,()=>!0,()=>!1)}function s$(){return()=>{}}var Iv="Avatar",[i$,F5]=Bs(Iv),[r$,jE]=i$(Iv),IE=_.forwardRef((n,e)=>{const{__scopeAvatar:t,...s}=n,[i,a]=_.useState("idle");return y.jsx(r$,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:y.jsx(Ke.span,{...s,ref:e})})});IE.displayName=Iv;var FE="AvatarImage",zE=_.forwardRef((n,e)=>{const{__scopeAvatar:t,src:s,onLoadingStatusChange:i=()=>{},...a}=n,l=jE(FE,t),u=a$(s,a),d=Sn(f=>{i(f),l.onImageLoadingStatusChange(f)});return rs(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?y.jsx(Ke.img,{...a,ref:e,src:s}):null});zE.displayName=FE;var $E="AvatarFallback",BE=_.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:s,...i}=n,a=jE($E,t),[l,u]=_.useState(s===void 0);return _.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>u(!0),s);return()=>window.clearTimeout(d)}},[s]),l&&a.imageLoadingStatus!=="loaded"?y.jsx(Ke.span,{...i,ref:e}):null});BE.displayName=$E;function LS(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function a$(n,{referrerPolicy:e,crossOrigin:t}){const s=n$(),i=_.useRef(null),a=s?(i.current||(i.current=new window.Image),i.current):null,[l,u]=_.useState(()=>LS(a,n));return rs(()=>{u(LS(a,n))},[a,n]),rs(()=>{const d=g=>()=>{u(g)};if(!a)return;const f=d("loaded"),p=d("error");return a.addEventListener("load",f),a.addEventListener("error",p),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",f),a.removeEventListener("error",p)}},[a,t,e]),l}var o$=IE,l$=zE,c$=BE;function jS({className:n,...e}){return y.jsx(o$,{"data-slot":"avatar",className:Se("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function IS({className:n,...e}){return y.jsx(l$,{"data-slot":"avatar-image",className:Se("aspect-square size-full",n),...e})}function FS({className:n,...e}){return y.jsx(c$,{"data-slot":"avatar-fallback",className:Se("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function HE(n){const e=n+"CollectionProvider",[t,s]=Bs(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:A,children:E}=x,C=oe.useRef(null),T=oe.useRef(new Map).current;return y.jsx(i,{scope:A,itemMap:T,collectionRef:C,children:E})};l.displayName=e;const u=n+"CollectionSlot",d=Co(u),f=oe.forwardRef((x,A)=>{const{scope:E,children:C}=x,T=a(u,E),D=vt(A,T.collectionRef);return y.jsx(d,{ref:D,children:C})});f.displayName=u;const p=n+"CollectionItemSlot",g="data-radix-collection-item",m=Co(p),b=oe.forwardRef((x,A)=>{const{scope:E,children:C,...T}=x,D=oe.useRef(null),M=vt(A,D),O=a(p,E);return oe.useEffect(()=>(O.itemMap.set(D,{ref:D,...T}),()=>void O.itemMap.delete(D))),y.jsx(m,{[g]:"",ref:M,children:C})});b.displayName=p;function S(x){const A=a(n+"CollectionConsumer",x);return oe.useCallback(()=>{const C=A.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(A.itemMap.values()).sort((O,L)=>T.indexOf(O.ref.current)-T.indexOf(L.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:f,ItemSlot:b},S,s]}var u$=_.createContext(void 0);function Fv(n){const e=_.useContext(u$);return n||e||"ltr"}var Lg="rovingFocusGroup.onEntryFocus",d$={bubbles:!1,cancelable:!0},Fc="RovingFocusGroup",[Sm,VE,h$]=HE(Fc),[f$,UE]=Bs(Fc,[h$]),[p$,g$]=f$(Fc),GE=_.forwardRef((n,e)=>y.jsx(Sm.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(Sm.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(m$,{...n,ref:e})})}));GE.displayName=Fc;var m$=_.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=n,m=_.useRef(null),b=vt(e,m),S=Fv(a),[x,A]=jo({prop:l,defaultProp:u??null,onChange:d,caller:Fc}),[E,C]=_.useState(!1),T=Sn(f),D=VE(t),M=_.useRef(!1),[O,L]=_.useState(0);return _.useEffect(()=>{const I=m.current;if(I)return I.addEventListener(Lg,T),()=>I.removeEventListener(Lg,T)},[T]),y.jsx(p$,{scope:t,orientation:s,dir:S,loop:i,currentTabStopId:x,onItemFocus:_.useCallback(I=>A(I),[A]),onItemShiftTab:_.useCallback(()=>C(!0),[]),onFocusableItemAdd:_.useCallback(()=>L(I=>I+1),[]),onFocusableItemRemove:_.useCallback(()=>L(I=>I-1),[]),children:y.jsx(Ke.div,{tabIndex:E||O===0?-1:0,"data-orientation":s,...g,ref:b,style:{outline:"none",...n.style},onMouseDown:Me(n.onMouseDown,()=>{M.current=!0}),onFocus:Me(n.onFocus,I=>{const j=!M.current;if(I.target===I.currentTarget&&j&&!E){const U=new CustomEvent(Lg,d$);if(I.currentTarget.dispatchEvent(U),!U.defaultPrevented){const $=D().filter(N=>N.focusable),K=$.find(N=>N.active),Z=$.find(N=>N.id===x),ae=[K,Z,...$].filter(Boolean).map(N=>N.ref.current);XE(ae,p)}}M.current=!1}),onBlur:Me(n.onBlur,()=>C(!1))})})}),qE="RovingFocusGroupItem",YE=_.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:i=!1,tabStopId:a,children:l,...u}=n,d=_r(),f=a||d,p=g$(qE,t),g=p.currentTabStopId===f,m=VE(t),{onFocusableItemAdd:b,onFocusableItemRemove:S,currentTabStopId:x}=p;return _.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),y.jsx(Sm.ItemSlot,{scope:t,id:f,focusable:s,active:i,children:y.jsx(Ke.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:Me(n.onMouseDown,A=>{s?p.onItemFocus(f):A.preventDefault()}),onFocus:Me(n.onFocus,()=>p.onItemFocus(f)),onKeyDown:Me(n.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const E=y$(A,p.orientation,p.dir);if(E!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let T=m().filter(D=>D.focusable).map(D=>D.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const D=T.indexOf(A.currentTarget);T=p.loop?w$(T,D+1):T.slice(D+1)}setTimeout(()=>XE(T))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:x!=null}):l})})});YE.displayName=qE;var v$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b$(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function y$(n,e,t){const s=b$(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return v$[s]}function XE(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function w$(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var x$=GE,S$=YE,_m=["Enter"," "],_$=["ArrowDown","PageUp","Home"],ZE=["ArrowUp","PageDown","End"],A$=[..._$,...ZE],E$={ltr:[..._m,"ArrowRight"],rtl:[..._m,"ArrowLeft"]},C$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zc="Menu",[vc,R$,T$]=HE(zc),[pa,WE]=Bs(zc,[T$,Ch,UE]),Ph=Ch(),KE=UE(),[M$,ga]=pa(zc),[D$,$c]=pa(zc),QE=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:i,onOpenChange:a,modal:l=!0}=n,u=Ph(e),[d,f]=_.useState(null),p=_.useRef(!1),g=Sn(a),m=Fv(i);return _.useEffect(()=>{const b=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),y.jsx(pE,{...u,children:y.jsx(M$,{scope:e,open:t,onOpenChange:g,content:d,onContentChange:f,children:y.jsx(D$,{scope:e,onClose:_.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:m,modal:l,children:s})})})};QE.displayName=zc;var k$="MenuAnchor",zv=_.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=Ph(t);return y.jsx(gE,{...i,...s,ref:e})});zv.displayName=k$;var $v="MenuPortal",[N$,JE]=pa($v,{forceMount:void 0}),eC=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:i}=n,a=ga($v,e);return y.jsx(N$,{scope:e,forceMount:t,children:y.jsx(Mn,{present:t||a.open,children:y.jsx(wh,{asChild:!0,container:i,children:s})})})};eC.displayName=$v;var Es="MenuContent",[P$,Bv]=pa(Es),tC=_.forwardRef((n,e)=>{const t=JE(Es,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,a=ga(Es,n.__scopeMenu),l=$c(Es,n.__scopeMenu);return y.jsx(vc.Provider,{scope:n.__scopeMenu,children:y.jsx(Mn,{present:s||a.open,children:y.jsx(vc.Slot,{scope:n.__scopeMenu,children:l.modal?y.jsx(O$,{...i,ref:e}):y.jsx(L$,{...i,ref:e})})})})}),O$=_.forwardRef((n,e)=>{const t=ga(Es,n.__scopeMenu),s=_.useRef(null),i=vt(e,s);return _.useEffect(()=>{const a=s.current;if(a)return _1(a)},[]),y.jsx(Hv,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Me(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),L$=_.forwardRef((n,e)=>{const t=ga(Es,n.__scopeMenu);return y.jsx(Hv,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),j$=Co("MenuContent.ScrollLock"),Hv=_.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:m,onDismiss:b,disableOutsideScroll:S,...x}=n,A=ga(Es,t),E=$c(Es,t),C=Ph(t),T=KE(t),D=R$(t),[M,O]=_.useState(null),L=_.useRef(null),I=vt(e,L,A.onContentChange),j=_.useRef(0),U=_.useRef(""),$=_.useRef(0),K=_.useRef(null),Z=_.useRef("right"),ce=_.useRef(0),ae=S?bv:_.Fragment,N=S?{as:j$,allowPinchZoom:!0}:void 0,B=Y=>{const P=U.current+Y,G=D().filter(ue=>!ue.disabled),se=document.activeElement,V=G.find(ue=>ue.ref.current===se)?.textValue,re=G.map(ue=>ue.textValue),ge=X$(re,P,V),ee=G.find(ue=>ue.textValue===ge)?.ref.current;(function ue(be){U.current=be,window.clearTimeout(j.current),be!==""&&(j.current=window.setTimeout(()=>ue(""),1e3))})(P),ee&&setTimeout(()=>ee.focus())};_.useEffect(()=>()=>window.clearTimeout(j.current),[]),p1();const q=_.useCallback(Y=>Z.current===K.current?.side&&W$(Y,K.current?.area),[]);return y.jsx(P$,{scope:t,searchRef:U,onItemEnter:_.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),onItemLeave:_.useCallback(Y=>{q(Y)||(L.current?.focus(),O(null))},[q]),onTriggerLeave:_.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),pointerGraceTimerRef:$,onPointerGraceIntentChange:_.useCallback(Y=>{K.current=Y},[]),children:y.jsx(ae,{...N,children:y.jsx(vv,{asChild:!0,trapped:i,onMountAutoFocus:Me(a,Y=>{Y.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:y.jsx(yh,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:m,onDismiss:b,children:y.jsx(x$,{asChild:!0,...T,dir:E.dir,orientation:"vertical",loop:s,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:Me(d,Y=>{E.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:y.jsx(mE,{role:"menu","aria-orientation":"vertical","data-state":vC(A.open),"data-radix-menu-content":"",dir:E.dir,...C,...x,ref:I,style:{outline:"none",...x.style},onKeyDown:Me(x.onKeyDown,Y=>{const G=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,se=Y.ctrlKey||Y.altKey||Y.metaKey,V=Y.key.length===1;G&&(Y.key==="Tab"&&Y.preventDefault(),!se&&V&&B(Y.key));const re=L.current;if(Y.target!==re||!A$.includes(Y.key))return;Y.preventDefault();const ee=D().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);ZE.includes(Y.key)&&ee.reverse(),q$(ee)}),onBlur:Me(n.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(j.current),U.current="")}),onPointerMove:Me(n.onPointerMove,bc(Y=>{const P=Y.target,G=ce.current!==Y.clientX;if(Y.currentTarget.contains(P)&&G){const se=Y.clientX>ce.current?"right":"left";Z.current=se,ce.current=Y.clientX}}))})})})})})})});tC.displayName=Es;var I$="MenuGroup",Vv=_.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return y.jsx(Ke.div,{role:"group",...s,ref:e})});Vv.displayName=I$;var F$="MenuLabel",nC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return y.jsx(Ke.div,{...s,ref:e})});nC.displayName=F$;var Zd="MenuItem",zS="menu.itemSelect",Oh=_.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...i}=n,a=_.useRef(null),l=$c(Zd,n.__scopeMenu),u=Bv(Zd,n.__scopeMenu),d=vt(e,a),f=_.useRef(!1),p=()=>{const g=a.current;if(!t&&g){const m=new CustomEvent(zS,{bubbles:!0,cancelable:!0});g.addEventListener(zS,b=>s?.(b),{once:!0}),c1(g,m),m.defaultPrevented?f.current=!1:l.onClose()}};return y.jsx(sC,{...i,ref:d,disabled:t,onClick:Me(n.onClick,p),onPointerDown:g=>{n.onPointerDown?.(g),f.current=!0},onPointerUp:Me(n.onPointerUp,g=>{f.current||g.currentTarget?.click()}),onKeyDown:Me(n.onKeyDown,g=>{const m=u.searchRef.current!=="";t||m&&g.key===" "||_m.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Oh.displayName=Zd;var sC=_.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:i,...a}=n,l=Bv(Zd,t),u=KE(t),d=_.useRef(null),f=vt(e,d),[p,g]=_.useState(!1),[m,b]=_.useState("");return _.useEffect(()=>{const S=d.current;S&&b((S.textContent??"").trim())},[a.children]),y.jsx(vc.ItemSlot,{scope:t,disabled:s,textValue:i??m,children:y.jsx(S$,{asChild:!0,...u,focusable:!s,children:y.jsx(Ke.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:f,onPointerMove:Me(n.onPointerMove,bc(S=>{s?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(n.onPointerLeave,bc(S=>l.onItemLeave(S))),onFocus:Me(n.onFocus,()=>g(!0)),onBlur:Me(n.onBlur,()=>g(!1))})})})}),z$="MenuCheckboxItem",iC=_.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...i}=n;return y.jsx(cC,{scope:n.__scopeMenu,checked:t,children:y.jsx(Oh,{role:"menuitemcheckbox","aria-checked":Wd(t)?"mixed":t,...i,ref:e,"data-state":Gv(t),onSelect:Me(i.onSelect,()=>s?.(Wd(t)?!0:!t),{checkForDefaultPrevented:!1})})})});iC.displayName=z$;var rC="MenuRadioGroup",[$$,B$]=pa(rC,{value:void 0,onValueChange:()=>{}}),aC=_.forwardRef((n,e)=>{const{value:t,onValueChange:s,...i}=n,a=Sn(s);return y.jsx($$,{scope:n.__scopeMenu,value:t,onValueChange:a,children:y.jsx(Vv,{...i,ref:e})})});aC.displayName=rC;var oC="MenuRadioItem",lC=_.forwardRef((n,e)=>{const{value:t,...s}=n,i=B$(oC,n.__scopeMenu),a=t===i.value;return y.jsx(cC,{scope:n.__scopeMenu,checked:a,children:y.jsx(Oh,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":Gv(a),onSelect:Me(s.onSelect,()=>i.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});lC.displayName=oC;var Uv="MenuItemIndicator",[cC,H$]=pa(Uv,{checked:!1}),uC=_.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...i}=n,a=H$(Uv,t);return y.jsx(Mn,{present:s||Wd(a.checked)||a.checked===!0,children:y.jsx(Ke.span,{...i,ref:e,"data-state":Gv(a.checked)})})});uC.displayName=Uv;var V$="MenuSeparator",dC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return y.jsx(Ke.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});dC.displayName=V$;var U$="MenuArrow",hC=_.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,i=Ph(t);return y.jsx(vE,{...i,...s,ref:e})});hC.displayName=U$;var G$="MenuSub",[z5,fC]=pa(G$),Jl="MenuSubTrigger",pC=_.forwardRef((n,e)=>{const t=ga(Jl,n.__scopeMenu),s=$c(Jl,n.__scopeMenu),i=fC(Jl,n.__scopeMenu),a=Bv(Jl,n.__scopeMenu),l=_.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=a,f={__scopeMenu:n.__scopeMenu},p=_.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return _.useEffect(()=>p,[p]),_.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),d(null)}},[u,d]),y.jsx(zv,{asChild:!0,...f,children:y.jsx(sC,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":vC(t.open),...n,ref:vh(e,i.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Me(n.onPointerMove,bc(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:Me(n.onPointerLeave,bc(g=>{p();const m=t.content?.getBoundingClientRect();if(m){const b=t.content?.dataset.side,S=b==="right",x=S?-5:5,A=m[S?"left":"right"],E=m[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+x,y:g.clientY},{x:A,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:A,y:m.bottom}],side:b}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(n.onKeyDown,g=>{const m=a.searchRef.current!=="";n.disabled||m&&g.key===" "||E$[s.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});pC.displayName=Jl;var gC="MenuSubContent",mC=_.forwardRef((n,e)=>{const t=JE(Es,n.__scopeMenu),{forceMount:s=t.forceMount,...i}=n,a=ga(Es,n.__scopeMenu),l=$c(Es,n.__scopeMenu),u=fC(gC,n.__scopeMenu),d=_.useRef(null),f=vt(e,d);return y.jsx(vc.Provider,{scope:n.__scopeMenu,children:y.jsx(Mn,{present:s||a.open,children:y.jsx(vc.Slot,{scope:n.__scopeMenu,children:y.jsx(Hv,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Me(n.onFocusOutside,p=>{p.target!==u.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(n.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Me(n.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),m=C$[l.dir].includes(p.key);g&&m&&(a.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});mC.displayName=gC;function vC(n){return n?"open":"closed"}function Wd(n){return n==="indeterminate"}function Gv(n){return Wd(n)?"indeterminate":n?"checked":"unchecked"}function q$(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Y$(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function X$(n,e,t){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=Y$(n,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==t?d:void 0}function Z$(n,e){const{x:t,y:s}=n;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const u=e[a],d=e[l],f=u.x,p=u.y,g=d.x,m=d.y;p>s!=m>s&&t<(g-f)*(s-p)/(m-p)+f&&(i=!i)}return i}function W$(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Z$(t,e)}function bc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var K$=QE,Q$=zv,J$=eC,e3=tC,t3=Vv,n3=nC,s3=Oh,i3=iC,r3=aC,a3=lC,o3=uC,l3=dC,c3=hC,u3=pC,d3=mC,Lh="DropdownMenu",[h3,$5]=Bs(Lh,[WE]),On=WE(),[f3,bC]=h3(Lh),yC=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:i,defaultOpen:a,onOpenChange:l,modal:u=!0}=n,d=On(e),f=_.useRef(null),[p,g]=jo({prop:i,defaultProp:a??!1,onChange:l,caller:Lh});return y.jsx(f3,{scope:e,triggerId:_r(),triggerRef:f,contentId:_r(),open:p,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(m=>!m),[g]),modal:u,children:y.jsx(K$,{...d,open:p,onOpenChange:g,dir:s,modal:u,children:t})})};yC.displayName=Lh;var wC="DropdownMenuTrigger",xC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...i}=n,a=bC(wC,t),l=On(t);return y.jsx(Q$,{asChild:!0,...l,children:y.jsx(Ke.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:vh(e,a.triggerRef),onPointerDown:Me(n.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:Me(n.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});xC.displayName=wC;var p3="DropdownMenuPortal",SC=n=>{const{__scopeDropdownMenu:e,...t}=n,s=On(e);return y.jsx(J$,{...s,...t})};SC.displayName=p3;var _C="DropdownMenuContent",AC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=bC(_C,t),a=On(t),l=_.useRef(!1);return y.jsx(e3,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...s,ref:e,onCloseAutoFocus:Me(n.onCloseAutoFocus,u=>{l.current||i.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Me(n.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!i.modal||p)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AC.displayName=_C;var g3="DropdownMenuGroup",EC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(t3,{...i,...s,ref:e})});EC.displayName=g3;var m3="DropdownMenuLabel",CC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(n3,{...i,...s,ref:e})});CC.displayName=m3;var v3="DropdownMenuItem",RC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(s3,{...i,...s,ref:e})});RC.displayName=v3;var b3="DropdownMenuCheckboxItem",TC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(i3,{...i,...s,ref:e})});TC.displayName=b3;var y3="DropdownMenuRadioGroup",w3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(r3,{...i,...s,ref:e})});w3.displayName=y3;var x3="DropdownMenuRadioItem",S3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(a3,{...i,...s,ref:e})});S3.displayName=x3;var _3="DropdownMenuItemIndicator",MC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(o3,{...i,...s,ref:e})});MC.displayName=_3;var A3="DropdownMenuSeparator",DC=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(l3,{...i,...s,ref:e})});DC.displayName=A3;var E3="DropdownMenuArrow",C3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(c3,{...i,...s,ref:e})});C3.displayName=E3;var R3="DropdownMenuSubTrigger",T3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(u3,{...i,...s,ref:e})});T3.displayName=R3;var M3="DropdownMenuSubContent",D3=_.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,i=On(t);return y.jsx(d3,{...i,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D3.displayName=M3;var k3=yC,N3=xC,P3=SC,O3=AC,L3=EC,j3=CC,I3=RC,F3=TC,z3=MC,$3=DC;function jh({...n}){return y.jsx(k3,{"data-slot":"dropdown-menu",...n})}function Ih({...n}){return y.jsx(N3,{"data-slot":"dropdown-menu-trigger",...n})}function Fh({className:n,sideOffset:e=4,...t}){return y.jsx(P3,{children:y.jsx(O3,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Se("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function $S({...n}){return y.jsx(L3,{"data-slot":"dropdown-menu-group",...n})}function yr({className:n,inset:e,variant:t="default",...s}){return y.jsx(I3,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Se("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...s})}function B3({className:n,children:e,checked:t,...s}){return y.jsxs(F3,{"data-slot":"dropdown-menu-checkbox-item",className:Se("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),checked:t,...s,children:[y.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:y.jsx(z3,{children:y.jsx(ZA,{className:"size-4"})})}),e]})}function qv({className:n,inset:e,...t}){return y.jsx(j3,{"data-slot":"dropdown-menu-label","data-inset":e,className:Se("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...t})}function nc({className:n,...e}){return y.jsx($3,{"data-slot":"dropdown-menu-separator",className:Se("bg-border -mx-1 my-1 h-px",n),...e})}function H3({className:n,...e}){return y.jsx("span",{"data-slot":"dropdown-menu-shortcut",className:Se("text-muted-foreground ml-auto text-xs tracking-widest",n),...e})}function V3({user:n}){const{isMobile:e}=zo();return y.jsx(Mh,{children:y.jsx(Dh,{children:y.jsxs(jh,{children:[y.jsx(Ih,{asChild:!0,children:y.jsxs(kh,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[y.jsxs(jS,{className:"h-8 w-8 rounded-lg",children:[y.jsx(IS,{src:n.avatar,alt:n.name}),y.jsx(FS,{className:"rounded-lg",children:"CN"})]}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:n.name}),y.jsx("span",{className:"truncate text-xs",children:n.email})]}),y.jsx(KA,{className:"ml-auto size-4"})]})}),y.jsxs(Fh,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:e?"bottom":"right",align:"end",sideOffset:4,children:[y.jsx(qv,{className:"p-0 font-normal",children:y.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[y.jsxs(jS,{className:"h-8 w-8 rounded-lg",children:[y.jsx(IS,{src:n.avatar,alt:n.name}),y.jsx(FS,{className:"rounded-lg",children:"CN"})]}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:n.name}),y.jsx("span",{className:"truncate text-xs",children:n.email})]})]})}),y.jsx(nc,{}),y.jsx($S,{children:y.jsxs(yr,{children:[y.jsx(RO,{}),"Upgrade to Pro"]})}),y.jsx(nc,{}),y.jsxs($S,{children:[y.jsxs(yr,{children:[y.jsx(MP,{}),"Account"]}),y.jsxs(yr,{children:[y.jsx(KP,{}),"Billing"]}),y.jsxs(yr,{children:[y.jsx(kP,{}),"Notifications"]})]}),y.jsx(nc,{}),y.jsxs(yr,{children:[y.jsx(hO,{}),"Log out"]})]})]})})})}function U3({teams:n}){const{isMobile:e}=zo(),[t,s]=_.useState(n[0]);return t?y.jsx(Mh,{children:y.jsx(Dh,{children:y.jsxs(jh,{children:[y.jsx(Ih,{asChild:!0,children:y.jsxs(kh,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[y.jsx("div",{className:"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg",children:y.jsx(t.logo,{className:"size-4"})}),y.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[y.jsx("span",{className:"truncate font-medium",children:t.name}),y.jsx("span",{className:"truncate text-xs",children:t.plan})]}),y.jsx(KA,{className:"ml-auto"})]})}),y.jsxs(Fh,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"start",side:e?"bottom":"right",sideOffset:4,children:[y.jsx(qv,{className:"text-muted-foreground text-xs",children:"Teams"}),n.map((i,a)=>y.jsxs(yr,{onClick:()=>s(i),className:"gap-2 p-2",children:[y.jsx("div",{className:"flex size-6 items-center justify-center rounded-md border",children:y.jsx(i.logo,{className:"size-3.5 shrink-0"})}),i.name,y.jsxs(H3,{children:["⌘",a+1]})]},i.name)),y.jsx(nc,{}),y.jsxs(yr,{className:"gap-2 p-2",children:[y.jsx("div",{className:"flex size-6 items-center justify-center rounded-md border bg-transparent",children:y.jsx(fc,{className:"size-4"})}),y.jsx("div",{className:"text-muted-foreground font-medium",children:"Add team"})]})]})]})})}):null}const _d={user:{name:"example",email:"m@example.com",avatar:"/avatars/shadcn.jpg"},teams:[{name:"SERO",logo:GP,plan:"Evelishly Redacts and Obfuscates"},{name:"Acme Inc",logo:iO,plan:"Enterprise"},{name:"Acme Corp.",logo:RP,plan:"Startup"},{name:"Evil Corp.",logo:YP,plan:"Free"}],navMain:[{title:"Playground",url:"#",icon:kO,isActive:!0,items:[{title:"Dashboard",url:"/"},{title:"Projects",url:"/projects"},{title:"Settings",url:"#"}]},{title:"Models",url:"#",icon:LP,items:[{title:"Genesis",url:"#"},{title:"Explorer",url:"#"},{title:"Quantum",url:"#"}]},{title:"Documentation",url:"#",icon:PP,items:[{title:"Introduction",url:"#"},{title:"Getting Started",url:"#"},{title:"Project Structure",url:"#"},{title:"Document Redaction",url:"#"},{title:"Document Retrieval",url:"#"}]}],navApi:[{name:"Swagger",url:"/docs",icon:bO}]};function G3({...n}){return y.jsxs(tz,{collapsible:"icon",...n,children:[y.jsx(rz,{children:y.jsx(U3,{teams:_d.teams})}),y.jsxs(oz,{children:[y.jsx(Kz,{items:_d.navMain}),y.jsx(Qz,{projects:_d.navApi})]}),y.jsx(az,{children:y.jsx(V3,{user:_d.user})}),y.jsx(sz,{})]})}function q3({...n}){return y.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...n})}function Y3({className:n,...e}){return y.jsx("ol",{"data-slot":"breadcrumb-list",className:Se("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",n),...e})}function X3({className:n,...e}){return y.jsx("li",{"data-slot":"breadcrumb-item",className:Se("inline-flex items-center gap-1.5",n),...e})}function Z3({asChild:n,className:e,...t}){const s=n?fa:"a";return y.jsx(s,{"data-slot":"breadcrumb-link",className:Se("hover:text-foreground transition-colors",e),...t})}function W3({className:n,...e}){return y.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:Se("text-foreground font-normal",n),...e})}function K3({children:n,className:e,...t}){return y.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:Se("[&>svg]:size-3.5",e),...t,children:n??y.jsx(bh,{})})}const Q3={projects:"Projects",documents:"Documents",document:"Document",files:"Files"},J3=["/","/projects","/projects/:projectId/documents","/projects/:projectId/documents/:documentId/files","/projects/:projectId/documents/:documentId/files/:fileId"];function e4(){const n=Mr(),[e,t]=_.useState([]);return _.useEffect(()=>{const s=n.pathname.split("/").filter(Boolean),i=[];i.push({label:"",href:"/",isHome:!0,isActive:s.length===0});let a;const l=[...J3].sort((u,d)=>d.length-u.length);for(const u of l)if(new RegExp("^"+u.replace(/[.*+?^${}()|[\]\\]/g,"$&").replace(/:[a-zA-Z0-9_]+/g,"[^/]+")+"$").test(n.pathname)){a=u;break}if(a&&a!=="/"){const u=a.split("/").filter(Boolean);let d=[],f=0;for(let p=0;p<u.length;p++){const g=u[p],m=s[f];if(g.startsWith(":")){d.push(m),f++;continue}d.push(m);const b="/"+d.join("/"),S=Q3[m]||m;i.push({label:S,href:b,isActive:!1}),f++}}i.length>0&&(i[i.length-1].isActive=!0),t(i),t(i)},[n.pathname]),y.jsx(q3,{children:y.jsx(Y3,{children:e.map((s,i)=>y.jsxs(oe.Fragment,{children:[i>0&&y.jsx(K3,{}),y.jsx(X3,{children:s.isActive?y.jsx(W3,{className:"truncate",children:s.isHome?y.jsx(eS,{className:"h-4 w-4"}):s.label}):y.jsx(Z3,{asChild:!0,children:y.jsx(uv,{to:s.href||"/",className:"truncate",children:s.isHome?y.jsx(eS,{className:"h-4 w-4"}):s.label})})})]},i))})})}function kC({message:n,buttonText:e,buttonIcon:t,onButtonClick:s}){return y.jsx("div",{className:"h-full w-full flex flex-col items-center justify-center",children:y.jsxs("div",{className:"flex flex-col justify-center items-center",children:[y.jsx(aO,{size:150,strokeWidth:1,className:"animate-bounce text-purple-500"}),y.jsx("p",{className:"text-muted-foreground mb-6 text-lg leading-relaxed",children:n}),y.jsxs(He,{onClick:s,size:"lg",children:[t&&y.jsx("span",{className:"mr-2",children:t}),e]})]})})}function t4(){const{theme:n,setTheme:e}=fP();return y.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>e(n==="dark"?"light":"dark"),className:"w-9 px-0",children:[y.jsx(PO,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),y.jsx(mO,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),y.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function n4({children:n}){return y.jsxs(ez,{children:[y.jsx(G3,{}),y.jsxs(iz,{children:[y.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:y.jsxs("div",{className:"flex w-full items-center gap-2 px-4",children:[y.jsx(nz,{className:"-ml-1"}),y.jsx(PL,{orientation:"vertical",className:"mr-2 data-[orientation=vertical]:h-4"}),y.jsx(e4,{}),y.jsx("div",{className:"ml-auto",children:y.jsx(t4,{})})]})}),y.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:n})]}),y.jsx(Vz,{})]})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function xr(n,e){return typeof n=="function"?n(e):n}function as(n,e){return t=>{e.setState(s=>({...s,[n]:xr(t,s[n])}))}}function zh(n){return n instanceof Function}function s4(n){return Array.isArray(n)&&n.every(e=>typeof e=="number")}function i4(n,e){const t=[],s=i=>{i.forEach(a=>{t.push(a);const l=e(a);l!=null&&l.length&&s(l)})};return s(n),t}function Ie(n,e,t){let s=[],i;return a=>{let l;t.key&&t.debug&&(l=Date.now());const u=n(a);if(!(u.length!==s.length||u.some((p,g)=>s[g]!==p)))return i;s=u;let f;if(t.key&&t.debug&&(f=Date.now()),i=e(...u),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const p=Math.round((Date.now()-l)*100)/100,g=Math.round((Date.now()-f)*100)/100,m=g/16,b=(S,x)=>{for(S=String(S);S.length<x;)S=" "+S;return S};console.info(`%c⏱ ${b(g,5)} /${b(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,t?.key)}return i}}function Fe(n,e,t,s){return{debug:()=>{var i;return(i=n?.debugAll)!=null?i:n[e]},key:!1,onChange:s}}function r4(n,e,t,s){const i=()=>{var l;return(l=a.getValue())!=null?l:n.options.renderFallbackValue},a={id:`${e.id}_${t.id}`,row:e,column:t,getValue:()=>e.getValue(s),renderValue:i,getContext:Ie(()=>[n,t,e,a],(l,u,d,f)=>({table:l,column:u,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),Fe(n.options,"debugCells"))};return n._features.forEach(l=>{l.createCell==null||l.createCell(a,t,e,n)},{}),a}function a4(n,e,t,s){var i,a;const u={...n._getDefaultColumnDef(),...e},d=u.accessorKey;let f=(i=(a=u.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?i:typeof u.header=="string"?u.header:void 0,p;if(u.accessorFn?p=u.accessorFn:d&&(d.includes(".")?p=m=>{let b=m;for(const x of d.split(".")){var S;b=(S=b)==null?void 0:S[x]}return b}:p=m=>m[u.accessorKey]),!f)throw new Error;let g={id:`${String(f)}`,accessorFn:p,parent:s,depth:t,columnDef:u,columns:[],getFlatColumns:Ie(()=>[!0],()=>{var m;return[g,...(m=g.columns)==null?void 0:m.flatMap(b=>b.getFlatColumns())]},Fe(n.options,"debugColumns")),getLeafColumns:Ie(()=>[n._getOrderColumnsFn()],m=>{var b;if((b=g.columns)!=null&&b.length){let S=g.columns.flatMap(x=>x.getLeafColumns());return m(S)}return[g]},Fe(n.options,"debugColumns"))};for(const m of n._features)m.createColumn==null||m.createColumn(g,n);return g}const En="debugHeaders";function BS(n,e,t){var s;let a={id:(s=t.id)!=null?s:e.id,column:e,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),l.push(d)};return u(a),l},getContext:()=>({table:n,header:a,column:e})};return n._features.forEach(l=>{l.createHeader==null||l.createHeader(a,n)}),a}const o4={createTable:n=>{n.getHeaderGroups=Ie(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,s,i)=>{var a,l;const u=(a=s?.map(g=>t.find(m=>m.id===g)).filter(Boolean))!=null?a:[],d=(l=i?.map(g=>t.find(m=>m.id===g)).filter(Boolean))!=null?l:[],f=t.filter(g=>!(s!=null&&s.includes(g.id))&&!(i!=null&&i.includes(g.id)));return Ad(e,[...u,...f,...d],n)},Fe(n.options,En)),n.getCenterHeaderGroups=Ie(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,s,i)=>(t=t.filter(a=>!(s!=null&&s.includes(a.id))&&!(i!=null&&i.includes(a.id))),Ad(e,t,n,"center")),Fe(n.options,En)),n.getLeftHeaderGroups=Ie(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.left],(e,t,s)=>{var i;const a=(i=s?.map(l=>t.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Ad(e,a,n,"left")},Fe(n.options,En)),n.getRightHeaderGroups=Ie(()=>[n.getAllColumns(),n.getVisibleLeafColumns(),n.getState().columnPinning.right],(e,t,s)=>{var i;const a=(i=s?.map(l=>t.find(u=>u.id===l)).filter(Boolean))!=null?i:[];return Ad(e,a,n,"right")},Fe(n.options,En)),n.getFooterGroups=Ie(()=>[n.getHeaderGroups()],e=>[...e].reverse(),Fe(n.options,En)),n.getLeftFooterGroups=Ie(()=>[n.getLeftHeaderGroups()],e=>[...e].reverse(),Fe(n.options,En)),n.getCenterFooterGroups=Ie(()=>[n.getCenterHeaderGroups()],e=>[...e].reverse(),Fe(n.options,En)),n.getRightFooterGroups=Ie(()=>[n.getRightHeaderGroups()],e=>[...e].reverse(),Fe(n.options,En)),n.getFlatHeaders=Ie(()=>[n.getHeaderGroups()],e=>e.map(t=>t.headers).flat(),Fe(n.options,En)),n.getLeftFlatHeaders=Ie(()=>[n.getLeftHeaderGroups()],e=>e.map(t=>t.headers).flat(),Fe(n.options,En)),n.getCenterFlatHeaders=Ie(()=>[n.getCenterHeaderGroups()],e=>e.map(t=>t.headers).flat(),Fe(n.options,En)),n.getRightFlatHeaders=Ie(()=>[n.getRightHeaderGroups()],e=>e.map(t=>t.headers).flat(),Fe(n.options,En)),n.getCenterLeafHeaders=Ie(()=>[n.getCenterFlatHeaders()],e=>e.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),Fe(n.options,En)),n.getLeftLeafHeaders=Ie(()=>[n.getLeftFlatHeaders()],e=>e.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),Fe(n.options,En)),n.getRightLeafHeaders=Ie(()=>[n.getRightFlatHeaders()],e=>e.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),Fe(n.options,En)),n.getLeafHeaders=Ie(()=>[n.getLeftHeaderGroups(),n.getCenterHeaderGroups(),n.getRightHeaderGroups()],(e,t,s)=>{var i,a,l,u,d,f;return[...(i=(a=e[0])==null?void 0:a.headers)!=null?i:[],...(l=(u=t[0])==null?void 0:u.headers)!=null?l:[],...(d=(f=s[0])==null?void 0:f.headers)!=null?d:[]].map(p=>p.getLeafHeaders()).flat()},Fe(n.options,En))}};function Ad(n,e,t,s){var i,a;let l=0;const u=function(m,b){b===void 0&&(b=1),l=Math.max(l,b),m.filter(S=>S.getIsVisible()).forEach(S=>{var x;(x=S.columns)!=null&&x.length&&u(S.columns,b+1)},0)};u(n);let d=[];const f=(m,b)=>{const S={depth:b,id:[s,`${b}`].filter(Boolean).join("_"),headers:[]},x=[];m.forEach(A=>{const E=[...x].reverse()[0],C=A.column.depth===S.depth;let T,D=!1;if(C&&A.column.parent?T=A.column.parent:(T=A.column,D=!0),E&&E?.column===T)E.subHeaders.push(A);else{const M=BS(t,T,{id:[s,b,T.id,A?.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${x.filter(O=>O.column===T).length}`:void 0,depth:b,index:x.length});M.subHeaders.push(A),x.push(M)}S.headers.push(A),A.headerGroup=S}),d.push(S),b>0&&f(x,b-1)},p=e.map((m,b)=>BS(t,m,{depth:l,index:b}));f(p,l-1),d.reverse();const g=m=>m.filter(S=>S.column.getIsVisible()).map(S=>{let x=0,A=0,E=[0];S.subHeaders&&S.subHeaders.length?(E=[],g(S.subHeaders).forEach(T=>{let{colSpan:D,rowSpan:M}=T;x+=D,E.push(M)})):x=1;const C=Math.min(...E);return A=A+C,S.colSpan=x,S.rowSpan=A,{colSpan:x,rowSpan:A}});return g((i=(a=d[0])==null?void 0:a.headers)!=null?i:[]),d}const Yv=(n,e,t,s,i,a,l)=>{let u={id:e,index:s,original:t,depth:i,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const f=n.getColumn(d);if(f!=null&&f.accessorFn)return u._valuesCache[d]=f.accessorFn(u.original,s),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const f=n.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=f.columnDef.getUniqueValues(u.original,s),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=u.getValue(d))!=null?f:n.options.renderFallbackValue},subRows:[],getLeafRows:()=>i4(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?n.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],f=u;for(;;){const p=f.getParentRow();if(!p)break;d.push(p),f=p}return d.reverse()},getAllCells:Ie(()=>[n.getAllLeafColumns()],d=>d.map(f=>r4(n,u,f,f.id)),Fe(n.options,"debugRows")),_getAllCellsByColumnId:Ie(()=>[u.getAllCells()],d=>d.reduce((f,p)=>(f[p.column.id]=p,f),{}),Fe(n.options,"debugRows"))};for(let d=0;d<n._features.length;d++){const f=n._features[d];f==null||f.createRow==null||f.createRow(u,n)}return u},l4={createColumn:(n,e)=>{n._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,n.id),n.getFacetedRowModel=()=>n._getFacetedRowModel?n._getFacetedRowModel():e.getPreFilteredRowModel(),n._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,n.id),n.getFacetedUniqueValues=()=>n._getFacetedUniqueValues?n._getFacetedUniqueValues():new Map,n._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,n.id),n.getFacetedMinMaxValues=()=>{if(n._getFacetedMinMaxValues)return n._getFacetedMinMaxValues()}}},NC=(n,e,t)=>{var s,i;const a=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((i=n.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(a))};NC.autoRemove=n=>Is(n);const PC=(n,e,t)=>{var s;return!!(!((s=n.getValue(e))==null||(s=s.toString())==null)&&s.includes(t))};PC.autoRemove=n=>Is(n);const OC=(n,e,t)=>{var s;return((s=n.getValue(e))==null||(s=s.toString())==null?void 0:s.toLowerCase())===t?.toLowerCase()};OC.autoRemove=n=>Is(n);const LC=(n,e,t)=>{var s;return(s=n.getValue(e))==null?void 0:s.includes(t)};LC.autoRemove=n=>Is(n);const jC=(n,e,t)=>!t.some(s=>{var i;return!((i=n.getValue(e))!=null&&i.includes(s))});jC.autoRemove=n=>Is(n)||!(n!=null&&n.length);const IC=(n,e,t)=>t.some(s=>{var i;return(i=n.getValue(e))==null?void 0:i.includes(s)});IC.autoRemove=n=>Is(n)||!(n!=null&&n.length);const FC=(n,e,t)=>n.getValue(e)===t;FC.autoRemove=n=>Is(n);const zC=(n,e,t)=>n.getValue(e)==t;zC.autoRemove=n=>Is(n);const Xv=(n,e,t)=>{let[s,i]=t;const a=n.getValue(e);return a>=s&&a<=i};Xv.resolveFilterValue=n=>{let[e,t]=n,s=typeof e!="number"?parseFloat(e):e,i=typeof t!="number"?parseFloat(t):t,a=e===null||Number.isNaN(s)?-1/0:s,l=t===null||Number.isNaN(i)?1/0:i;if(a>l){const u=a;a=l,l=u}return[a,l]};Xv.autoRemove=n=>Is(n)||Is(n[0])&&Is(n[1]);const Fi={includesString:NC,includesStringSensitive:PC,equalsString:OC,arrIncludes:LC,arrIncludesAll:jC,arrIncludesSome:IC,equals:FC,weakEquals:zC,inNumberRange:Xv};function Is(n){return n==null||n===""}const c4={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:n=>({columnFilters:[],...n}),getDefaultOptions:n=>({onColumnFiltersChange:as("columnFilters",n),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(n,e)=>{n.getAutoFilterFn=()=>{const t=e.getCoreRowModel().flatRows[0],s=t?.getValue(n.id);return typeof s=="string"?Fi.includesString:typeof s=="number"?Fi.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Fi.equals:Array.isArray(s)?Fi.arrIncludes:Fi.weakEquals},n.getFilterFn=()=>{var t,s;return zh(n.columnDef.filterFn)?n.columnDef.filterFn:n.columnDef.filterFn==="auto"?n.getAutoFilterFn():(t=(s=e.options.filterFns)==null?void 0:s[n.columnDef.filterFn])!=null?t:Fi[n.columnDef.filterFn]},n.getCanFilter=()=>{var t,s,i;return((t=n.columnDef.enableColumnFilter)!=null?t:!0)&&((s=e.options.enableColumnFilters)!=null?s:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!n.accessorFn},n.getIsFiltered=()=>n.getFilterIndex()>-1,n.getFilterValue=()=>{var t;return(t=e.getState().columnFilters)==null||(t=t.find(s=>s.id===n.id))==null?void 0:t.value},n.getFilterIndex=()=>{var t,s;return(t=(s=e.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===n.id))!=null?t:-1},n.setFilterValue=t=>{e.setColumnFilters(s=>{const i=n.getFilterFn(),a=s?.find(p=>p.id===n.id),l=xr(t,a?a.value:void 0);if(HS(i,l,n)){var u;return(u=s?.filter(p=>p.id!==n.id))!=null?u:[]}const d={id:n.id,value:l};if(a){var f;return(f=s?.map(p=>p.id===n.id?d:p))!=null?f:[]}return s!=null&&s.length?[...s,d]:[d]})}},createRow:(n,e)=>{n.columnFilters={},n.columnFiltersMeta={}},createTable:n=>{n.setColumnFilters=e=>{const t=n.getAllLeafColumns(),s=i=>{var a;return(a=xr(e,i))==null?void 0:a.filter(l=>{const u=t.find(d=>d.id===l.id);if(u){const d=u.getFilterFn();if(HS(d,l.value,u))return!1}return!0})};n.options.onColumnFiltersChange==null||n.options.onColumnFiltersChange(s)},n.resetColumnFilters=e=>{var t,s;n.setColumnFilters(e?[]:(t=(s=n.initialState)==null?void 0:s.columnFilters)!=null?t:[])},n.getPreFilteredRowModel=()=>n.getCoreRowModel(),n.getFilteredRowModel=()=>(!n._getFilteredRowModel&&n.options.getFilteredRowModel&&(n._getFilteredRowModel=n.options.getFilteredRowModel(n)),n.options.manualFiltering||!n._getFilteredRowModel?n.getPreFilteredRowModel():n._getFilteredRowModel())}};function HS(n,e,t){return(n&&n.autoRemove?n.autoRemove(e,t):!1)||typeof e>"u"||typeof e=="string"&&!e}const u4=(n,e,t)=>t.reduce((s,i)=>{const a=i.getValue(n);return s+(typeof a=="number"?a:0)},0),d4=(n,e,t)=>{let s;return t.forEach(i=>{const a=i.getValue(n);a!=null&&(s>a||s===void 0&&a>=a)&&(s=a)}),s},h4=(n,e,t)=>{let s;return t.forEach(i=>{const a=i.getValue(n);a!=null&&(s<a||s===void 0&&a>=a)&&(s=a)}),s},f4=(n,e,t)=>{let s,i;return t.forEach(a=>{const l=a.getValue(n);l!=null&&(s===void 0?l>=l&&(s=i=l):(s>l&&(s=l),i<l&&(i=l)))}),[s,i]},p4=(n,e)=>{let t=0,s=0;if(e.forEach(i=>{let a=i.getValue(n);a!=null&&(a=+a)>=a&&(++t,s+=a)}),t)return s/t},g4=(n,e)=>{if(!e.length)return;const t=e.map(a=>a.getValue(n));if(!s4(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),i=t.sort((a,l)=>a-l);return t.length%2!==0?i[s]:(i[s-1]+i[s])/2},m4=(n,e)=>Array.from(new Set(e.map(t=>t.getValue(n))).values()),v4=(n,e)=>new Set(e.map(t=>t.getValue(n))).size,b4=(n,e)=>e.length,jg={sum:u4,min:d4,max:h4,extent:f4,mean:p4,median:g4,unique:m4,uniqueCount:v4,count:b4},y4={getDefaultColumnDef:()=>({aggregatedCell:n=>{var e,t;return(e=(t=n.getValue())==null||t.toString==null?void 0:t.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:n=>({grouping:[],...n}),getDefaultOptions:n=>({onGroupingChange:as("grouping",n),groupedColumnMode:"reorder"}),createColumn:(n,e)=>{n.toggleGrouping=()=>{e.setGrouping(t=>t!=null&&t.includes(n.id)?t.filter(s=>s!==n.id):[...t??[],n.id])},n.getCanGroup=()=>{var t,s;return((t=n.columnDef.enableGrouping)!=null?t:!0)&&((s=e.options.enableGrouping)!=null?s:!0)&&(!!n.accessorFn||!!n.columnDef.getGroupingValue)},n.getIsGrouped=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.includes(n.id)},n.getGroupedIndex=()=>{var t;return(t=e.getState().grouping)==null?void 0:t.indexOf(n.id)},n.getToggleGroupingHandler=()=>{const t=n.getCanGroup();return()=>{t&&n.toggleGrouping()}},n.getAutoAggregationFn=()=>{const t=e.getCoreRowModel().flatRows[0],s=t?.getValue(n.id);if(typeof s=="number")return jg.sum;if(Object.prototype.toString.call(s)==="[object Date]")return jg.extent},n.getAggregationFn=()=>{var t,s;if(!n)throw new Error;return zh(n.columnDef.aggregationFn)?n.columnDef.aggregationFn:n.columnDef.aggregationFn==="auto"?n.getAutoAggregationFn():(t=(s=e.options.aggregationFns)==null?void 0:s[n.columnDef.aggregationFn])!=null?t:jg[n.columnDef.aggregationFn]}},createTable:n=>{n.setGrouping=e=>n.options.onGroupingChange==null?void 0:n.options.onGroupingChange(e),n.resetGrouping=e=>{var t,s;n.setGrouping(e?[]:(t=(s=n.initialState)==null?void 0:s.grouping)!=null?t:[])},n.getPreGroupedRowModel=()=>n.getFilteredRowModel(),n.getGroupedRowModel=()=>(!n._getGroupedRowModel&&n.options.getGroupedRowModel&&(n._getGroupedRowModel=n.options.getGroupedRowModel(n)),n.options.manualGrouping||!n._getGroupedRowModel?n.getPreGroupedRowModel():n._getGroupedRowModel())},createRow:(n,e)=>{n.getIsGrouped=()=>!!n.groupingColumnId,n.getGroupingValue=t=>{if(n._groupingValuesCache.hasOwnProperty(t))return n._groupingValuesCache[t];const s=e.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(n._groupingValuesCache[t]=s.columnDef.getGroupingValue(n.original),n._groupingValuesCache[t]):n.getValue(t)},n._groupingValuesCache={}},createCell:(n,e,t,s)=>{n.getIsGrouped=()=>e.getIsGrouped()&&e.id===t.groupingColumnId,n.getIsPlaceholder=()=>!n.getIsGrouped()&&e.getIsGrouped(),n.getIsAggregated=()=>{var i;return!n.getIsGrouped()&&!n.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function w4(n,e,t){if(!(e!=null&&e.length)||!t)return n;const s=n.filter(a=>!e.includes(a.id));return t==="remove"?s:[...e.map(a=>n.find(l=>l.id===a)).filter(Boolean),...s]}const x4={getInitialState:n=>({columnOrder:[],...n}),getDefaultOptions:n=>({onColumnOrderChange:as("columnOrder",n)}),createColumn:(n,e)=>{n.getIndex=Ie(t=>[sc(e,t)],t=>t.findIndex(s=>s.id===n.id),Fe(e.options,"debugColumns")),n.getIsFirstColumn=t=>{var s;return((s=sc(e,t)[0])==null?void 0:s.id)===n.id},n.getIsLastColumn=t=>{var s;const i=sc(e,t);return((s=i[i.length-1])==null?void 0:s.id)===n.id}},createTable:n=>{n.setColumnOrder=e=>n.options.onColumnOrderChange==null?void 0:n.options.onColumnOrderChange(e),n.resetColumnOrder=e=>{var t;n.setColumnOrder(e?[]:(t=n.initialState.columnOrder)!=null?t:[])},n._getOrderColumnsFn=Ie(()=>[n.getState().columnOrder,n.getState().grouping,n.options.groupedColumnMode],(e,t,s)=>i=>{let a=[];if(!(e!=null&&e.length))a=i;else{const l=[...e],u=[...i];for(;u.length&&l.length;){const d=l.shift(),f=u.findIndex(p=>p.id===d);f>-1&&a.push(u.splice(f,1)[0])}a=[...a,...u]}return w4(a,t,s)},Fe(n.options,"debugTable"))}},Ig=()=>({left:[],right:[]}),S4={getInitialState:n=>({columnPinning:Ig(),...n}),getDefaultOptions:n=>({onColumnPinningChange:as("columnPinning",n)}),createColumn:(n,e)=>{n.pin=t=>{const s=n.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var a,l;if(t==="right"){var u,d;return{left:((u=i?.left)!=null?u:[]).filter(g=>!(s!=null&&s.includes(g))),right:[...((d=i?.right)!=null?d:[]).filter(g=>!(s!=null&&s.includes(g))),...s]}}if(t==="left"){var f,p;return{left:[...((f=i?.left)!=null?f:[]).filter(g=>!(s!=null&&s.includes(g))),...s],right:((p=i?.right)!=null?p:[]).filter(g=>!(s!=null&&s.includes(g)))}}return{left:((a=i?.left)!=null?a:[]).filter(g=>!(s!=null&&s.includes(g))),right:((l=i?.right)!=null?l:[]).filter(g=>!(s!=null&&s.includes(g)))}})},n.getCanPin=()=>n.getLeafColumns().some(s=>{var i,a,l;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((a=(l=e.options.enableColumnPinning)!=null?l:e.options.enablePinning)!=null?a:!0)}),n.getIsPinned=()=>{const t=n.getLeafColumns().map(u=>u.id),{left:s,right:i}=e.getState().columnPinning,a=t.some(u=>s?.includes(u)),l=t.some(u=>i?.includes(u));return a?"left":l?"right":!1},n.getPinnedIndex=()=>{var t,s;const i=n.getIsPinned();return i?(t=(s=e.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(n.id))!=null?t:-1:0}},createRow:(n,e)=>{n.getCenterVisibleCells=Ie(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,s,i)=>{const a=[...s??[],...i??[]];return t.filter(l=>!a.includes(l.column.id))},Fe(e.options,"debugRows")),n.getLeftVisibleCells=Ie(()=>[n._getAllVisibleCells(),e.getState().columnPinning.left],(t,s)=>(s??[]).map(a=>t.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Fe(e.options,"debugRows")),n.getRightVisibleCells=Ie(()=>[n._getAllVisibleCells(),e.getState().columnPinning.right],(t,s)=>(s??[]).map(a=>t.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Fe(e.options,"debugRows"))},createTable:n=>{n.setColumnPinning=e=>n.options.onColumnPinningChange==null?void 0:n.options.onColumnPinningChange(e),n.resetColumnPinning=e=>{var t,s;return n.setColumnPinning(e?Ig():(t=(s=n.initialState)==null?void 0:s.columnPinning)!=null?t:Ig())},n.getIsSomeColumnsPinned=e=>{var t;const s=n.getState().columnPinning;if(!e){var i,a;return!!((i=s.left)!=null&&i.length||(a=s.right)!=null&&a.length)}return!!((t=s[e])!=null&&t.length)},n.getLeftLeafColumns=Ie(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left],(e,t)=>(t??[]).map(s=>e.find(i=>i.id===s)).filter(Boolean),Fe(n.options,"debugColumns")),n.getRightLeafColumns=Ie(()=>[n.getAllLeafColumns(),n.getState().columnPinning.right],(e,t)=>(t??[]).map(s=>e.find(i=>i.id===s)).filter(Boolean),Fe(n.options,"debugColumns")),n.getCenterLeafColumns=Ie(()=>[n.getAllLeafColumns(),n.getState().columnPinning.left,n.getState().columnPinning.right],(e,t,s)=>{const i=[...t??[],...s??[]];return e.filter(a=>!i.includes(a.id))},Fe(n.options,"debugColumns"))}};function _4(n){return n||(typeof document<"u"?document:null)}const Ed={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Fg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),A4={getDefaultColumnDef:()=>Ed,getInitialState:n=>({columnSizing:{},columnSizingInfo:Fg(),...n}),getDefaultOptions:n=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:as("columnSizing",n),onColumnSizingInfoChange:as("columnSizingInfo",n)}),createColumn:(n,e)=>{n.getSize=()=>{var t,s,i;const a=e.getState().columnSizing[n.id];return Math.min(Math.max((t=n.columnDef.minSize)!=null?t:Ed.minSize,(s=a??n.columnDef.size)!=null?s:Ed.size),(i=n.columnDef.maxSize)!=null?i:Ed.maxSize)},n.getStart=Ie(t=>[t,sc(e,t),e.getState().columnSizing],(t,s)=>s.slice(0,n.getIndex(t)).reduce((i,a)=>i+a.getSize(),0),Fe(e.options,"debugColumns")),n.getAfter=Ie(t=>[t,sc(e,t),e.getState().columnSizing],(t,s)=>s.slice(n.getIndex(t)+1).reduce((i,a)=>i+a.getSize(),0),Fe(e.options,"debugColumns")),n.resetSize=()=>{e.setColumnSizing(t=>{let{[n.id]:s,...i}=t;return i})},n.getCanResize=()=>{var t,s;return((t=n.columnDef.enableResizing)!=null?t:!0)&&((s=e.options.enableColumnResizing)!=null?s:!0)},n.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===n.id},createHeader:(n,e)=>{n.getSize=()=>{let t=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var a;t+=(a=i.column.getSize())!=null?a:0}};return s(n),t},n.getStart=()=>{if(n.index>0){const t=n.headerGroup.headers[n.index-1];return t.getStart()+t.getSize()}return 0},n.getResizeHandler=t=>{const s=e.getColumn(n.column.id),i=s?.getCanResize();return a=>{if(!s||!i||(a.persist==null||a.persist(),zg(a)&&a.touches&&a.touches.length>1))return;const l=n.getSize(),u=n?n.getLeafHeaders().map(E=>[E.column.id,E.column.getSize()]):[[s.id,s.getSize()]],d=zg(a)?Math.round(a.touches[0].clientX):a.clientX,f={},p=(E,C)=>{typeof C=="number"&&(e.setColumnSizingInfo(T=>{var D,M;const O=e.options.columnResizeDirection==="rtl"?-1:1,L=(C-((D=T?.startOffset)!=null?D:0))*O,I=Math.max(L/((M=T?.startSize)!=null?M:0),-.999999);return T.columnSizingStart.forEach(j=>{let[U,$]=j;f[U]=Math.round(Math.max($+$*I,0)*100)/100}),{...T,deltaOffset:L,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||E==="end")&&e.setColumnSizing(T=>({...T,...f})))},g=E=>p("move",E),m=E=>{p("end",E),e.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},b=_4(t),S={moveHandler:E=>g(E.clientX),upHandler:E=>{b?.removeEventListener("mousemove",S.moveHandler),b?.removeEventListener("mouseup",S.upHandler),m(E.clientX)}},x={moveHandler:E=>(E.cancelable&&(E.preventDefault(),E.stopPropagation()),g(E.touches[0].clientX),!1),upHandler:E=>{var C;b?.removeEventListener("touchmove",x.moveHandler),b?.removeEventListener("touchend",x.upHandler),E.cancelable&&(E.preventDefault(),E.stopPropagation()),m((C=E.touches[0])==null?void 0:C.clientX)}},A=E4()?{passive:!1}:!1;zg(a)?(b?.addEventListener("touchmove",x.moveHandler,A),b?.addEventListener("touchend",x.upHandler,A)):(b?.addEventListener("mousemove",S.moveHandler,A),b?.addEventListener("mouseup",S.upHandler,A)),e.setColumnSizingInfo(E=>({...E,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:s.id}))}}},createTable:n=>{n.setColumnSizing=e=>n.options.onColumnSizingChange==null?void 0:n.options.onColumnSizingChange(e),n.setColumnSizingInfo=e=>n.options.onColumnSizingInfoChange==null?void 0:n.options.onColumnSizingInfoChange(e),n.resetColumnSizing=e=>{var t;n.setColumnSizing(e?{}:(t=n.initialState.columnSizing)!=null?t:{})},n.resetHeaderSizeInfo=e=>{var t;n.setColumnSizingInfo(e?Fg():(t=n.initialState.columnSizingInfo)!=null?t:Fg())},n.getTotalSize=()=>{var e,t;return(e=(t=n.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?e:0},n.getLeftTotalSize=()=>{var e,t;return(e=(t=n.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?e:0},n.getCenterTotalSize=()=>{var e,t;return(e=(t=n.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?e:0},n.getRightTotalSize=()=>{var e,t;return(e=(t=n.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?e:0}}};let Cd=null;function E4(){if(typeof Cd=="boolean")return Cd;let n=!1;try{const e={get passive(){return n=!0,!1}},t=()=>{};window.addEventListener("test",t,e),window.removeEventListener("test",t)}catch{n=!1}return Cd=n,Cd}function zg(n){return n.type==="touchstart"}const C4={getInitialState:n=>({columnVisibility:{},...n}),getDefaultOptions:n=>({onColumnVisibilityChange:as("columnVisibility",n)}),createColumn:(n,e)=>{n.toggleVisibility=t=>{n.getCanHide()&&e.setColumnVisibility(s=>({...s,[n.id]:t??!n.getIsVisible()}))},n.getIsVisible=()=>{var t,s;const i=n.columns;return(t=i.length?i.some(a=>a.getIsVisible()):(s=e.getState().columnVisibility)==null?void 0:s[n.id])!=null?t:!0},n.getCanHide=()=>{var t,s;return((t=n.columnDef.enableHiding)!=null?t:!0)&&((s=e.options.enableHiding)!=null?s:!0)},n.getToggleVisibilityHandler=()=>t=>{n.toggleVisibility==null||n.toggleVisibility(t.target.checked)}},createRow:(n,e)=>{n._getAllVisibleCells=Ie(()=>[n.getAllCells(),e.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),Fe(e.options,"debugRows")),n.getVisibleCells=Ie(()=>[n.getLeftVisibleCells(),n.getCenterVisibleCells(),n.getRightVisibleCells()],(t,s,i)=>[...t,...s,...i],Fe(e.options,"debugRows"))},createTable:n=>{const e=(t,s)=>Ie(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Fe(n.options,"debugColumns"));n.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>n.getAllFlatColumns()),n.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>n.getAllLeafColumns()),n.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>n.getLeftLeafColumns()),n.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>n.getRightLeafColumns()),n.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>n.getCenterLeafColumns()),n.setColumnVisibility=t=>n.options.onColumnVisibilityChange==null?void 0:n.options.onColumnVisibilityChange(t),n.resetColumnVisibility=t=>{var s;n.setColumnVisibility(t?{}:(s=n.initialState.columnVisibility)!=null?s:{})},n.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!n.getIsAllColumnsVisible(),n.setColumnVisibility(n.getAllLeafColumns().reduce((i,a)=>({...i,[a.id]:t||!(a.getCanHide!=null&&a.getCanHide())}),{}))},n.getIsAllColumnsVisible=()=>!n.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),n.getIsSomeColumnsVisible=()=>n.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),n.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;n.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function sc(n,e){return e?e==="center"?n.getCenterVisibleLeafColumns():e==="left"?n.getLeftVisibleLeafColumns():n.getRightVisibleLeafColumns():n.getVisibleLeafColumns()}const R4={createTable:n=>{n._getGlobalFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,"__global__"),n.getGlobalFacetedRowModel=()=>n.options.manualFiltering||!n._getGlobalFacetedRowModel?n.getPreFilteredRowModel():n._getGlobalFacetedRowModel(),n._getGlobalFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,"__global__"),n.getGlobalFacetedUniqueValues=()=>n._getGlobalFacetedUniqueValues?n._getGlobalFacetedUniqueValues():new Map,n._getGlobalFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,"__global__"),n.getGlobalFacetedMinMaxValues=()=>{if(n._getGlobalFacetedMinMaxValues)return n._getGlobalFacetedMinMaxValues()}}},T4={getInitialState:n=>({globalFilter:void 0,...n}),getDefaultOptions:n=>({onGlobalFilterChange:as("globalFilter",n),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var t;const s=(t=n.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[e.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(n,e)=>{n.getCanGlobalFilter=()=>{var t,s,i,a;return((t=n.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=e.options.enableGlobalFilter)!=null?s:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(n))!=null?a:!0)&&!!n.accessorFn}},createTable:n=>{n.getGlobalAutoFilterFn=()=>Fi.includesString,n.getGlobalFilterFn=()=>{var e,t;const{globalFilterFn:s}=n.options;return zh(s)?s:s==="auto"?n.getGlobalAutoFilterFn():(e=(t=n.options.filterFns)==null?void 0:t[s])!=null?e:Fi[s]},n.setGlobalFilter=e=>{n.options.onGlobalFilterChange==null||n.options.onGlobalFilterChange(e)},n.resetGlobalFilter=e=>{n.setGlobalFilter(e?void 0:n.initialState.globalFilter)}}},M4={getInitialState:n=>({expanded:{},...n}),getDefaultOptions:n=>({onExpandedChange:as("expanded",n),paginateExpandedRows:!0}),createTable:n=>{let e=!1,t=!1;n._autoResetExpanded=()=>{var s,i;if(!e){n._queue(()=>{e=!0});return}if((s=(i=n.options.autoResetAll)!=null?i:n.options.autoResetExpanded)!=null?s:!n.options.manualExpanding){if(t)return;t=!0,n._queue(()=>{n.resetExpanded(),t=!1})}},n.setExpanded=s=>n.options.onExpandedChange==null?void 0:n.options.onExpandedChange(s),n.toggleAllRowsExpanded=s=>{s??!n.getIsAllRowsExpanded()?n.setExpanded(!0):n.setExpanded({})},n.resetExpanded=s=>{var i,a;n.setExpanded(s?{}:(i=(a=n.initialState)==null?void 0:a.expanded)!=null?i:{})},n.getCanSomeRowsExpand=()=>n.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),n.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),n.toggleAllRowsExpanded()},n.getIsSomeRowsExpanded=()=>{const s=n.getState().expanded;return s===!0||Object.values(s).some(Boolean)},n.getIsAllRowsExpanded=()=>{const s=n.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||n.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},n.getExpandedDepth=()=>{let s=0;return(n.getState().expanded===!0?Object.keys(n.getRowModel().rowsById):Object.keys(n.getState().expanded)).forEach(a=>{const l=a.split(".");s=Math.max(s,l.length)}),s},n.getPreExpandedRowModel=()=>n.getSortedRowModel(),n.getExpandedRowModel=()=>(!n._getExpandedRowModel&&n.options.getExpandedRowModel&&(n._getExpandedRowModel=n.options.getExpandedRowModel(n)),n.options.manualExpanding||!n._getExpandedRowModel?n.getPreExpandedRowModel():n._getExpandedRowModel())},createRow:(n,e)=>{n.toggleExpanded=t=>{e.setExpanded(s=>{var i;const a=s===!0?!0:!!(s!=null&&s[n.id]);let l={};if(s===!0?Object.keys(e.getRowModel().rowsById).forEach(u=>{l[u]=!0}):l=s,t=(i=t)!=null?i:!a,!a&&t)return{...l,[n.id]:!0};if(a&&!t){const{[n.id]:u,...d}=l;return d}return s})},n.getIsExpanded=()=>{var t;const s=e.getState().expanded;return!!((t=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(n))!=null?t:s===!0||s?.[n.id])},n.getCanExpand=()=>{var t,s,i;return(t=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(n))!=null?t:((s=e.options.enableExpanding)!=null?s:!0)&&!!((i=n.subRows)!=null&&i.length)},n.getIsAllParentsExpanded=()=>{let t=!0,s=n;for(;t&&s.parentId;)s=e.getRow(s.parentId,!0),t=s.getIsExpanded();return t},n.getToggleExpandedHandler=()=>{const t=n.getCanExpand();return()=>{t&&n.toggleExpanded()}}}},Am=0,Em=10,$g=()=>({pageIndex:Am,pageSize:Em}),D4={getInitialState:n=>({...n,pagination:{...$g(),...n?.pagination}}),getDefaultOptions:n=>({onPaginationChange:as("pagination",n)}),createTable:n=>{let e=!1,t=!1;n._autoResetPageIndex=()=>{var s,i;if(!e){n._queue(()=>{e=!0});return}if((s=(i=n.options.autoResetAll)!=null?i:n.options.autoResetPageIndex)!=null?s:!n.options.manualPagination){if(t)return;t=!0,n._queue(()=>{n.resetPageIndex(),t=!1})}},n.setPagination=s=>{const i=a=>xr(s,a);return n.options.onPaginationChange==null?void 0:n.options.onPaginationChange(i)},n.resetPagination=s=>{var i;n.setPagination(s?$g():(i=n.initialState.pagination)!=null?i:$g())},n.setPageIndex=s=>{n.setPagination(i=>{let a=xr(s,i.pageIndex);const l=typeof n.options.pageCount>"u"||n.options.pageCount===-1?Number.MAX_SAFE_INTEGER:n.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...i,pageIndex:a}})},n.resetPageIndex=s=>{var i,a;n.setPageIndex(s?Am:(i=(a=n.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?i:Am)},n.resetPageSize=s=>{var i,a;n.setPageSize(s?Em:(i=(a=n.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?i:Em)},n.setPageSize=s=>{n.setPagination(i=>{const a=Math.max(1,xr(s,i.pageSize)),l=i.pageSize*i.pageIndex,u=Math.floor(l/a);return{...i,pageIndex:u,pageSize:a}})},n.setPageCount=s=>n.setPagination(i=>{var a;let l=xr(s,(a=n.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...i,pageCount:l}}),n.getPageOptions=Ie(()=>[n.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((a,l)=>l)),i},Fe(n.options,"debugTable")),n.getCanPreviousPage=()=>n.getState().pagination.pageIndex>0,n.getCanNextPage=()=>{const{pageIndex:s}=n.getState().pagination,i=n.getPageCount();return i===-1?!0:i===0?!1:s<i-1},n.previousPage=()=>n.setPageIndex(s=>s-1),n.nextPage=()=>n.setPageIndex(s=>s+1),n.firstPage=()=>n.setPageIndex(0),n.lastPage=()=>n.setPageIndex(n.getPageCount()-1),n.getPrePaginationRowModel=()=>n.getExpandedRowModel(),n.getPaginationRowModel=()=>(!n._getPaginationRowModel&&n.options.getPaginationRowModel&&(n._getPaginationRowModel=n.options.getPaginationRowModel(n)),n.options.manualPagination||!n._getPaginationRowModel?n.getPrePaginationRowModel():n._getPaginationRowModel()),n.getPageCount=()=>{var s;return(s=n.options.pageCount)!=null?s:Math.ceil(n.getRowCount()/n.getState().pagination.pageSize)},n.getRowCount=()=>{var s;return(s=n.options.rowCount)!=null?s:n.getPrePaginationRowModel().rows.length}}},Bg=()=>({top:[],bottom:[]}),k4={getInitialState:n=>({rowPinning:Bg(),...n}),getDefaultOptions:n=>({onRowPinningChange:as("rowPinning",n)}),createRow:(n,e)=>{n.pin=(t,s,i)=>{const a=s?n.getLeafRows().map(d=>{let{id:f}=d;return f}):[],l=i?n.getParentRows().map(d=>{let{id:f}=d;return f}):[],u=new Set([...l,n.id,...a]);e.setRowPinning(d=>{var f,p;if(t==="bottom"){var g,m;return{top:((g=d?.top)!=null?g:[]).filter(x=>!(u!=null&&u.has(x))),bottom:[...((m=d?.bottom)!=null?m:[]).filter(x=>!(u!=null&&u.has(x))),...Array.from(u)]}}if(t==="top"){var b,S;return{top:[...((b=d?.top)!=null?b:[]).filter(x=>!(u!=null&&u.has(x))),...Array.from(u)],bottom:((S=d?.bottom)!=null?S:[]).filter(x=>!(u!=null&&u.has(x)))}}return{top:((f=d?.top)!=null?f:[]).filter(x=>!(u!=null&&u.has(x))),bottom:((p=d?.bottom)!=null?p:[]).filter(x=>!(u!=null&&u.has(x)))}})},n.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:i}=e.options;return typeof s=="function"?s(n):(t=s??i)!=null?t:!0},n.getIsPinned=()=>{const t=[n.id],{top:s,bottom:i}=e.getState().rowPinning,a=t.some(u=>s?.includes(u)),l=t.some(u=>i?.includes(u));return a?"top":l?"bottom":!1},n.getPinnedIndex=()=>{var t,s;const i=n.getIsPinned();if(!i)return-1;const a=(t=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:t.map(l=>{let{id:u}=l;return u});return(s=a?.indexOf(n.id))!=null?s:-1}},createTable:n=>{n.setRowPinning=e=>n.options.onRowPinningChange==null?void 0:n.options.onRowPinningChange(e),n.resetRowPinning=e=>{var t,s;return n.setRowPinning(e?Bg():(t=(s=n.initialState)==null?void 0:s.rowPinning)!=null?t:Bg())},n.getIsSomeRowsPinned=e=>{var t;const s=n.getState().rowPinning;if(!e){var i,a;return!!((i=s.top)!=null&&i.length||(a=s.bottom)!=null&&a.length)}return!!((t=s[e])!=null&&t.length)},n._getPinnedRows=(e,t,s)=>{var i;return((i=n.options.keepPinnedRows)==null||i?(t??[]).map(l=>{const u=n.getRow(l,!0);return u.getIsAllParentsExpanded()?u:null}):(t??[]).map(l=>e.find(u=>u.id===l))).filter(Boolean).map(l=>({...l,position:s}))},n.getTopRows=Ie(()=>[n.getRowModel().rows,n.getState().rowPinning.top],(e,t)=>n._getPinnedRows(e,t,"top"),Fe(n.options,"debugRows")),n.getBottomRows=Ie(()=>[n.getRowModel().rows,n.getState().rowPinning.bottom],(e,t)=>n._getPinnedRows(e,t,"bottom"),Fe(n.options,"debugRows")),n.getCenterRows=Ie(()=>[n.getRowModel().rows,n.getState().rowPinning.top,n.getState().rowPinning.bottom],(e,t,s)=>{const i=new Set([...t??[],...s??[]]);return e.filter(a=>!i.has(a.id))},Fe(n.options,"debugRows"))}},N4={getInitialState:n=>({rowSelection:{},...n}),getDefaultOptions:n=>({onRowSelectionChange:as("rowSelection",n),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:n=>{n.setRowSelection=e=>n.options.onRowSelectionChange==null?void 0:n.options.onRowSelectionChange(e),n.resetRowSelection=e=>{var t;return n.setRowSelection(e?{}:(t=n.initialState.rowSelection)!=null?t:{})},n.toggleAllRowsSelected=e=>{n.setRowSelection(t=>{e=typeof e<"u"?e:!n.getIsAllRowsSelected();const s={...t},i=n.getPreGroupedRowModel().flatRows;return e?i.forEach(a=>{a.getCanSelect()&&(s[a.id]=!0)}):i.forEach(a=>{delete s[a.id]}),s})},n.toggleAllPageRowsSelected=e=>n.setRowSelection(t=>{const s=typeof e<"u"?e:!n.getIsAllPageRowsSelected(),i={...t};return n.getRowModel().rows.forEach(a=>{Cm(i,a.id,s,!0,n)}),i}),n.getPreSelectedRowModel=()=>n.getCoreRowModel(),n.getSelectedRowModel=Ie(()=>[n.getState().rowSelection,n.getCoreRowModel()],(e,t)=>Object.keys(e).length?Hg(n,t):{rows:[],flatRows:[],rowsById:{}},Fe(n.options,"debugTable")),n.getFilteredSelectedRowModel=Ie(()=>[n.getState().rowSelection,n.getFilteredRowModel()],(e,t)=>Object.keys(e).length?Hg(n,t):{rows:[],flatRows:[],rowsById:{}},Fe(n.options,"debugTable")),n.getGroupedSelectedRowModel=Ie(()=>[n.getState().rowSelection,n.getSortedRowModel()],(e,t)=>Object.keys(e).length?Hg(n,t):{rows:[],flatRows:[],rowsById:{}},Fe(n.options,"debugTable")),n.getIsAllRowsSelected=()=>{const e=n.getFilteredRowModel().flatRows,{rowSelection:t}=n.getState();let s=!!(e.length&&Object.keys(t).length);return s&&e.some(i=>i.getCanSelect()&&!t[i.id])&&(s=!1),s},n.getIsAllPageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=n.getState();let s=!!e.length;return s&&e.some(i=>!t[i.id])&&(s=!1),s},n.getIsSomeRowsSelected=()=>{var e;const t=Object.keys((e=n.getState().rowSelection)!=null?e:{}).length;return t>0&&t<n.getFilteredRowModel().flatRows.length},n.getIsSomePageRowsSelected=()=>{const e=n.getPaginationRowModel().flatRows;return n.getIsAllPageRowsSelected()?!1:e.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},n.getToggleAllRowsSelectedHandler=()=>e=>{n.toggleAllRowsSelected(e.target.checked)},n.getToggleAllPageRowsSelectedHandler=()=>e=>{n.toggleAllPageRowsSelected(e.target.checked)}},createRow:(n,e)=>{n.toggleSelected=(t,s)=>{const i=n.getIsSelected();e.setRowSelection(a=>{var l;if(t=typeof t<"u"?t:!i,n.getCanSelect()&&i===t)return a;const u={...a};return Cm(u,n.id,t,(l=s?.selectChildren)!=null?l:!0,e),u})},n.getIsSelected=()=>{const{rowSelection:t}=e.getState();return Zv(n,t)},n.getIsSomeSelected=()=>{const{rowSelection:t}=e.getState();return Rm(n,t)==="some"},n.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=e.getState();return Rm(n,t)==="all"},n.getCanSelect=()=>{var t;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(n):(t=e.options.enableRowSelection)!=null?t:!0},n.getCanSelectSubRows=()=>{var t;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(n):(t=e.options.enableSubRowSelection)!=null?t:!0},n.getCanMultiSelect=()=>{var t;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(n):(t=e.options.enableMultiRowSelection)!=null?t:!0},n.getToggleSelectedHandler=()=>{const t=n.getCanSelect();return s=>{var i;t&&n.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},Cm=(n,e,t,s,i)=>{var a;const l=i.getRow(e,!0);t?(l.getCanMultiSelect()||Object.keys(n).forEach(u=>delete n[u]),l.getCanSelect()&&(n[e]=!0)):delete n[e],s&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(u=>Cm(n,u.id,t,s,i))};function Hg(n,e){const t=n.getState().rowSelection,s=[],i={},a=function(l,u){return l.map(d=>{var f;const p=Zv(d,t);if(p&&(s.push(d),i[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:a(d.subRows)}),p)return d}).filter(Boolean)};return{rows:a(e.rows),flatRows:s,rowsById:i}}function Zv(n,e){var t;return(t=e[n.id])!=null?t:!1}function Rm(n,e,t){var s;if(!((s=n.subRows)!=null&&s.length))return!1;let i=!0,a=!1;return n.subRows.forEach(l=>{if(!(a&&!i)&&(l.getCanSelect()&&(Zv(l,e)?a=!0:i=!1),l.subRows&&l.subRows.length)){const u=Rm(l,e);u==="all"?a=!0:(u==="some"&&(a=!0),i=!1)}}),i?"all":a?"some":!1}const Tm=/([0-9]+)/gm,P4=(n,e,t)=>$C(Tr(n.getValue(t)).toLowerCase(),Tr(e.getValue(t)).toLowerCase()),O4=(n,e,t)=>$C(Tr(n.getValue(t)),Tr(e.getValue(t))),L4=(n,e,t)=>Wv(Tr(n.getValue(t)).toLowerCase(),Tr(e.getValue(t)).toLowerCase()),j4=(n,e,t)=>Wv(Tr(n.getValue(t)),Tr(e.getValue(t))),I4=(n,e,t)=>{const s=n.getValue(t),i=e.getValue(t);return s>i?1:s<i?-1:0},F4=(n,e,t)=>Wv(n.getValue(t),e.getValue(t));function Wv(n,e){return n===e?0:n>e?1:-1}function Tr(n){return typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?"":String(n):typeof n=="string"?n:""}function $C(n,e){const t=n.split(Tm).filter(Boolean),s=e.split(Tm).filter(Boolean);for(;t.length&&s.length;){const i=t.shift(),a=s.shift(),l=parseInt(i,10),u=parseInt(a,10),d=[l,u].sort();if(isNaN(d[0])){if(i>a)return 1;if(a>i)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>u)return 1;if(u>l)return-1}return t.length-s.length}const ql={alphanumeric:P4,alphanumericCaseSensitive:O4,text:L4,textCaseSensitive:j4,datetime:I4,basic:F4},z4={getInitialState:n=>({sorting:[],...n}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:n=>({onSortingChange:as("sorting",n),isMultiSortEvent:e=>e.shiftKey}),createColumn:(n,e)=>{n.getAutoSortingFn=()=>{const t=e.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of t){const a=i?.getValue(n.id);if(Object.prototype.toString.call(a)==="[object Date]")return ql.datetime;if(typeof a=="string"&&(s=!0,a.split(Tm).length>1))return ql.alphanumeric}return s?ql.text:ql.basic},n.getAutoSortDir=()=>{const t=e.getFilteredRowModel().flatRows[0];return typeof t?.getValue(n.id)=="string"?"asc":"desc"},n.getSortingFn=()=>{var t,s;if(!n)throw new Error;return zh(n.columnDef.sortingFn)?n.columnDef.sortingFn:n.columnDef.sortingFn==="auto"?n.getAutoSortingFn():(t=(s=e.options.sortingFns)==null?void 0:s[n.columnDef.sortingFn])!=null?t:ql[n.columnDef.sortingFn]},n.toggleSorting=(t,s)=>{const i=n.getNextSortingOrder(),a=typeof t<"u"&&t!==null;e.setSorting(l=>{const u=l?.find(b=>b.id===n.id),d=l?.findIndex(b=>b.id===n.id);let f=[],p,g=a?t:i==="desc";if(l!=null&&l.length&&n.getCanMultiSort()&&s?u?p="toggle":p="add":l!=null&&l.length&&d!==l.length-1?p="replace":u?p="toggle":p="replace",p==="toggle"&&(a||i||(p="remove")),p==="add"){var m;f=[...l,{id:n.id,desc:g}],f.splice(0,f.length-((m=e.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else p==="toggle"?f=l.map(b=>b.id===n.id?{...b,desc:g}:b):p==="remove"?f=l.filter(b=>b.id!==n.id):f=[{id:n.id,desc:g}];return f})},n.getFirstSortDir=()=>{var t,s;return((t=(s=n.columnDef.sortDescFirst)!=null?s:e.options.sortDescFirst)!=null?t:n.getAutoSortDir()==="desc")?"desc":"asc"},n.getNextSortingOrder=t=>{var s,i;const a=n.getFirstSortDir(),l=n.getIsSorted();return l?l!==a&&((s=e.options.enableSortingRemoval)==null||s)&&(!(t&&(i=e.options.enableMultiRemove)!=null)||i)?!1:l==="desc"?"asc":"desc":a},n.getCanSort=()=>{var t,s;return((t=n.columnDef.enableSorting)!=null?t:!0)&&((s=e.options.enableSorting)!=null?s:!0)&&!!n.accessorFn},n.getCanMultiSort=()=>{var t,s;return(t=(s=n.columnDef.enableMultiSort)!=null?s:e.options.enableMultiSort)!=null?t:!!n.accessorFn},n.getIsSorted=()=>{var t;const s=(t=e.getState().sorting)==null?void 0:t.find(i=>i.id===n.id);return s?s.desc?"desc":"asc":!1},n.getSortIndex=()=>{var t,s;return(t=(s=e.getState().sorting)==null?void 0:s.findIndex(i=>i.id===n.id))!=null?t:-1},n.clearSorting=()=>{e.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==n.id):[])},n.getToggleSortingHandler=()=>{const t=n.getCanSort();return s=>{t&&(s.persist==null||s.persist(),n.toggleSorting==null||n.toggleSorting(void 0,n.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(s):!1))}}},createTable:n=>{n.setSorting=e=>n.options.onSortingChange==null?void 0:n.options.onSortingChange(e),n.resetSorting=e=>{var t,s;n.setSorting(e?[]:(t=(s=n.initialState)==null?void 0:s.sorting)!=null?t:[])},n.getPreSortedRowModel=()=>n.getGroupedRowModel(),n.getSortedRowModel=()=>(!n._getSortedRowModel&&n.options.getSortedRowModel&&(n._getSortedRowModel=n.options.getSortedRowModel(n)),n.options.manualSorting||!n._getSortedRowModel?n.getPreSortedRowModel():n._getSortedRowModel())}},$4=[o4,C4,x4,S4,l4,c4,R4,T4,z4,y4,M4,D4,k4,N4,A4];function B4(n){var e,t;const s=[...$4,...(e=n._features)!=null?e:[]];let i={_features:s};const a=i._features.reduce((m,b)=>Object.assign(m,b.getDefaultOptions==null?void 0:b.getDefaultOptions(i)),{}),l=m=>i.options.mergeOptions?i.options.mergeOptions(a,m):{...a,...m};let d={...{},...(t=n.initialState)!=null?t:{}};i._features.forEach(m=>{var b;d=(b=m.getInitialState==null?void 0:m.getInitialState(d))!=null?b:d});const f=[];let p=!1;const g={_features:s,options:{...a,...n},initialState:d,_queue:m=>{f.push(m),p||(p=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();p=!1}).catch(b=>setTimeout(()=>{throw b})))},reset:()=>{i.setState(i.initialState)},setOptions:m=>{const b=xr(m,i.options);i.options=l(b)},getState:()=>i.options.state,setState:m=>{i.options.onStateChange==null||i.options.onStateChange(m)},_getRowId:(m,b,S)=>{var x;return(x=i.options.getRowId==null?void 0:i.options.getRowId(m,b,S))!=null?x:`${S?[S.id,b].join("."):b}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(m,b)=>{let S=(b?i.getPrePaginationRowModel():i.getRowModel()).rowsById[m];if(!S&&(S=i.getCoreRowModel().rowsById[m],!S))throw new Error;return S},_getDefaultColumnDef:Ie(()=>[i.options.defaultColumn],m=>{var b;return m=(b=m)!=null?b:{},{header:S=>{const x=S.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:S=>{var x,A;return(x=(A=S.renderValue())==null||A.toString==null?void 0:A.toString())!=null?x:null},...i._features.reduce((S,x)=>Object.assign(S,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...m}},Fe(n,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ie(()=>[i._getColumnDefs()],m=>{const b=function(S,x,A){return A===void 0&&(A=0),S.map(E=>{const C=a4(i,E,A,x),T=E;return C.columns=T.columns?b(T.columns,C,A+1):[],C})};return b(m)},Fe(n,"debugColumns")),getAllFlatColumns:Ie(()=>[i.getAllColumns()],m=>m.flatMap(b=>b.getFlatColumns()),Fe(n,"debugColumns")),_getAllFlatColumnsById:Ie(()=>[i.getAllFlatColumns()],m=>m.reduce((b,S)=>(b[S.id]=S,b),{}),Fe(n,"debugColumns")),getAllLeafColumns:Ie(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(m,b)=>{let S=m.flatMap(x=>x.getLeafColumns());return b(S)},Fe(n,"debugColumns")),getColumn:m=>i._getAllFlatColumnsById()[m]};Object.assign(i,g);for(let m=0;m<i._features.length;m++){const b=i._features[m];b==null||b.createTable==null||b.createTable(i)}return i}function H4(){return n=>Ie(()=>[n.options.data],e=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(i,a,l){a===void 0&&(a=0);const u=[];for(let f=0;f<i.length;f++){const p=Yv(n,n._getRowId(i[f],f,l),i[f],f,a,void 0,l?.id);if(t.flatRows.push(p),t.rowsById[p.id]=p,u.push(p),n.options.getSubRows){var d;p.originalSubRows=n.options.getSubRows(i[f],f),(d=p.originalSubRows)!=null&&d.length&&(p.subRows=s(p.originalSubRows,a+1,p))}}return u};return t.rows=s(e),t},Fe(n.options,"debugTable","getRowModel",()=>n._autoResetPageIndex()))}function V4(n){const e=[],t=s=>{var i;e.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return n.rows.forEach(t),{rows:e,flatRows:n.flatRows,rowsById:n.rowsById}}function U4(n,e,t){return t.options.filterFromLeafRows?G4(n,e,t):q4(n,e,t)}function G4(n,e,t){var s;const i=[],a={},l=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,u=function(d,f){f===void 0&&(f=0);const p=[];for(let m=0;m<d.length;m++){var g;let b=d[m];const S=Yv(t,b.id,b.original,b.index,b.depth,void 0,b.parentId);if(S.columnFilters=b.columnFilters,(g=b.subRows)!=null&&g.length&&f<l){if(S.subRows=u(b.subRows,f+1),b=S,e(b)&&!S.subRows.length){p.push(b),a[b.id]=b,i.push(b);continue}if(e(b)||S.subRows.length){p.push(b),a[b.id]=b,i.push(b);continue}}else b=S,e(b)&&(p.push(b),a[b.id]=b,i.push(b))}return p};return{rows:u(n),flatRows:i,rowsById:a}}function q4(n,e,t){var s;const i=[],a={},l=(s=t.options.maxLeafRowFilterDepth)!=null?s:100,u=function(d,f){f===void 0&&(f=0);const p=[];for(let m=0;m<d.length;m++){let b=d[m];if(e(b)){var g;if((g=b.subRows)!=null&&g.length&&f<l){const x=Yv(t,b.id,b.original,b.index,b.depth,void 0,b.parentId);x.subRows=u(b.subRows,f+1),b=x}p.push(b),i.push(b),a[b.id]=b}}return p};return{rows:u(n),flatRows:i,rowsById:a}}function Y4(){return n=>Ie(()=>[n.getPreFilteredRowModel(),n.getState().columnFilters,n.getState().globalFilter],(e,t,s)=>{if(!e.rows.length||!(t!=null&&t.length)&&!s){for(let m=0;m<e.flatRows.length;m++)e.flatRows[m].columnFilters={},e.flatRows[m].columnFiltersMeta={};return e}const i=[],a=[];(t??[]).forEach(m=>{var b;const S=n.getColumn(m.id);if(!S)return;const x=S.getFilterFn();x&&i.push({id:m.id,filterFn:x,resolvedValue:(b=x.resolveFilterValue==null?void 0:x.resolveFilterValue(m.value))!=null?b:m.value})});const l=(t??[]).map(m=>m.id),u=n.getGlobalFilterFn(),d=n.getAllLeafColumns().filter(m=>m.getCanGlobalFilter());s&&u&&d.length&&(l.push("__global__"),d.forEach(m=>{var b;a.push({id:m.id,filterFn:u,resolvedValue:(b=u.resolveFilterValue==null?void 0:u.resolveFilterValue(s))!=null?b:s})}));let f,p;for(let m=0;m<e.flatRows.length;m++){const b=e.flatRows[m];if(b.columnFilters={},i.length)for(let S=0;S<i.length;S++){f=i[S];const x=f.id;b.columnFilters[x]=f.filterFn(b,x,f.resolvedValue,A=>{b.columnFiltersMeta[x]=A})}if(a.length){for(let S=0;S<a.length;S++){p=a[S];const x=p.id;if(p.filterFn(b,x,p.resolvedValue,A=>{b.columnFiltersMeta[x]=A})){b.columnFilters.__global__=!0;break}}b.columnFilters.__global__!==!0&&(b.columnFilters.__global__=!1)}}const g=m=>{for(let b=0;b<l.length;b++)if(m.columnFilters[l[b]]===!1)return!1;return!0};return U4(e.rows,g,n)},Fe(n.options,"debugTable","getFilteredRowModel",()=>n._autoResetPageIndex()))}function X4(n){return e=>Ie(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(t,s)=>{if(!s.rows.length)return s;const{pageSize:i,pageIndex:a}=t;let{rows:l,flatRows:u,rowsById:d}=s;const f=i*a,p=f+i;l=l.slice(f,p);let g;e.options.paginateExpandedRows?g={rows:l,flatRows:u,rowsById:d}:g=V4({rows:l,flatRows:u,rowsById:d}),g.flatRows=[];const m=b=>{g.flatRows.push(b),b.subRows.length&&b.subRows.forEach(m)};return g.rows.forEach(m),g},Fe(e.options,"debugTable"))}function Z4(){return n=>Ie(()=>[n.getState().sorting,n.getPreSortedRowModel()],(e,t)=>{if(!t.rows.length||!(e!=null&&e.length))return t;const s=n.getState().sorting,i=[],a=s.filter(d=>{var f;return(f=n.getColumn(d.id))==null?void 0:f.getCanSort()}),l={};a.forEach(d=>{const f=n.getColumn(d.id);f&&(l[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=d=>{const f=d.map(p=>({...p}));return f.sort((p,g)=>{for(let b=0;b<a.length;b+=1){var m;const S=a[b],x=l[S.id],A=x.sortUndefined,E=(m=S?.desc)!=null?m:!1;let C=0;if(A){const T=p.getValue(S.id),D=g.getValue(S.id),M=T===void 0,O=D===void 0;if(M||O){if(A==="first")return M?-1:1;if(A==="last")return M?1:-1;C=M&&O?0:M?A:-A}}if(C===0&&(C=x.sortingFn(p,g,S.id)),C!==0)return E&&(C*=-1),x.invertSorting&&(C*=-1),C}return p.index-g.index}),f.forEach(p=>{var g;i.push(p),(g=p.subRows)!=null&&g.length&&(p.subRows=u(p.subRows))}),f};return{rows:u(t.rows),flatRows:i,rowsById:t.rowsById}},Fe(n.options,"debugTable","getSortedRowModel",()=>n._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Yl(n,e){return n?W4(n)?_.createElement(n,e):n:null}function W4(n){return K4(n)||typeof n=="function"||Q4(n)}function K4(n){return typeof n=="function"&&(()=>{const e=Object.getPrototypeOf(n);return e.prototype&&e.prototype.isReactComponent})()}function Q4(n){return typeof n=="object"&&typeof n.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(n.$$typeof.description)}function J4(n){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...n},[t]=_.useState(()=>({current:B4(e)})),[s,i]=_.useState(()=>t.current.initialState);return t.current.setOptions(a=>({...a,...n,state:{...s,...n.state},onStateChange:l=>{i(l),n.onStateChange==null||n.onStateChange(l)}})),t.current}function eB({table:n,searchKey:e,searchPlaceholder:t="Search...",enableFiltering:s=!0,enableColumnVisibility:i=!0}){return y.jsxs("div",{className:"flex items-center justify-between",children:[s&&e&&y.jsx(li,{placeholder:t,value:n.getColumn(e)?.getFilterValue()??"",onChange:a=>n.getColumn(e)?.setFilterValue(a.target.value),className:"max-w-sm"}),i&&y.jsxs(jh,{children:[y.jsx(Ih,{asChild:!0,children:y.jsxs(He,{variant:"outline",className:"ml-auto",children:["Columns ",y.jsx(FP,{className:"ml-2 h-4 w-4"})]})}),y.jsx(Fh,{align:"end",children:n.getAllColumns().filter(a=>a.getCanHide()).map(a=>y.jsx(B3,{className:"capitalize",checked:a.getIsVisible(),onCheckedChange:l=>a.toggleVisibility(!!l),children:a.id},a.id))})]})]})}function tB({className:n,...e}){return y.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:y.jsx("table",{"data-slot":"table",className:Se("w-full caption-bottom text-sm",n),...e})})}function nB({className:n,...e}){return y.jsx("thead",{"data-slot":"table-header",className:Se("[&_tr]:border-b",n),...e})}function sB({className:n,...e}){return y.jsx("tbody",{"data-slot":"table-body",className:Se("[&_tr:last-child]:border-0",n),...e})}function Vg({className:n,...e}){return y.jsx("tr",{"data-slot":"table-row",className:Se("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function Ug({className:n,...e}){return y.jsx("th",{"data-slot":"table-head",className:Se("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Rd({className:n,...e}){return y.jsx("td",{"data-slot":"table-cell",className:Se("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}const iB=128,rB=32,aB=64;function oB({hasSelectColumn:n,hasActionsColumn:e}){const[t,s]=_.useState(0),[i,a]=_.useState(1),[l,u]=_.useState(null),[d,f]=_.useState(!1),p=_.useRef(null),g=_.useCallback(A=>(A.getHeaderGroups()[0]?.headers||[]).filter(C=>C.column.id!=="select"&&C.column.id!=="actions"),[]),m=_.useCallback(()=>{if(p.current){const A=p.current.offsetWidth;let E=0;n&&(E+=rB),e&&(E+=aB);const C=A-E,T=Math.floor(C/iB);a(Math.max(1,T))}},[n,e]);_.useEffect(()=>{const A=new ResizeObserver(m),E=p.current;return E&&(A.observe(E),m()),()=>{E&&A.unobserve(E)}},[m]);const b=_.useCallback(A=>{const E=A.getHeaderGroups()[0]?.headers||[],C=E.find($=>$.column.id==="select"),T=E.find($=>$.column.id==="actions"),D=g(A),M=D.length,O=Math.max(0,Math.min(t,M>i?M-i:0)),L=D.slice(O,O+i),I=M>i,j=O>0,U=O+i<M;return{selectColumn:C,visibleRegularColumns:L,actionsColumn:T,needsNavigation:I,canGoLeft:j,canGoRight:U,adjustedStart:O}},[t,i,g]),S=_.useCallback((A,E)=>{if(d)return;const{canGoLeft:C,canGoRight:T}=b(A);E==="left"&&!C||E==="right"&&!T||(f(!0),u(E),s(D=>E==="left"?D-1:D+1),setTimeout(()=>{f(!1),u(null)},500))},[d,b]);return{containerRef:p,getVisibleColumns:b,navigateColumns:S,animationDirection:l,getColumnKey:A=>`${A.id}-${t}`}}function lB({table:n}){const e=n.getAllColumns().some(A=>A.id==="select"),t=n.getAllColumns().some(A=>A.id==="actions"),{containerRef:s,getVisibleColumns:i,navigateColumns:a,animationDirection:l,getColumnKey:u}=oB({hasSelectColumn:e,hasActionsColumn:t}),{selectColumn:d,visibleRegularColumns:f,actionsColumn:p,needsNavigation:g,canGoLeft:m,canGoRight:b,adjustedStart:S}=i(n),x=A=>`${A.id}-${S}`;return y.jsx("div",{ref:s,children:y.jsxs(tB,{children:[y.jsx(nB,{className:"bg-muted sticky top-0 z-0",children:n.getHeaderGroups().map(A=>y.jsxs(Vg,{children:[d&&y.jsx(Ug,{className:"sticky left-0 z-20 w-[2rem] text-center",children:Yl(d.column.columnDef.header,d.getContext())}),f.map(E=>y.jsx(Ug,{className:`w-[8rem] ${l?`animate-slide-${l}`:""}`,children:Yl(E.column.columnDef.header,E.getContext())},u(E))),(g||p)&&y.jsx(Ug,{className:"sticky right-0 z-20 w-[4rem] text-center",children:g&&y.jsxs("div",{className:"flex items-center justify-center gap-2",children:[y.jsx(He,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>a(n,"left"),disabled:!m,children:y.jsx(WA,{className:"h-3 w-3"})}),y.jsx(He,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>a(n,"right"),disabled:!b,children:y.jsx(bh,{className:"h-3 w-3"})})]})})]},A.id))}),y.jsx(sB,{children:n.getRowModel().rows?.length?n.getRowModel().rows.map(A=>{const E=A.getVisibleCells().filter(D=>f.some(M=>M.id===D.column.id)),C=e?A.getVisibleCells().find(D=>D.column.id==="select"):void 0,T=t?A.getVisibleCells().find(D=>D.column.id==="actions"):void 0;return y.jsxs(Vg,{"data-state":A.getIsSelected()&&"selected",className:"hover:bg-muted/50 transition-colors",children:[C&&y.jsx(Rd,{className:"sticky left-0 z-10 w-[2rem] text-center",children:Yl(C.column.columnDef.cell,C.getContext())}),E.map(D=>y.jsx(Rd,{className:`w-[8rem] ${l?`animate-slide-${l}`:""}`,children:Yl(D.column.columnDef.cell,D.getContext())},x(D))),(g||T)&&y.jsx(Rd,{className:"sticky right-0 z-10 w-[4rem] text-center",children:T&&y.jsx(y.Fragment,{children:Yl(T.column.columnDef.cell,T.getContext())})})]},A.id)}):y.jsx(Vg,{children:y.jsx(Rd,{colSpan:999,className:"h-24 text-center",children:"No results."})})})]})})}function cB({table:n,enableRowSelection:e=!0,enablePagination:t=!0}){return t?y.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[e&&y.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[n.getFilteredSelectedRowModel().rows.length," of"," ",n.getFilteredRowModel().rows.length," row(s) selected."]}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(He,{variant:"outline",size:"sm",onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage(),children:"Previous"}),y.jsx(He,{variant:"outline",size:"sm",onClick:()=>n.nextPage(),disabled:!n.getCanNextPage(),children:"Next"})]})]}):null}function uB(n){const e=_.useRef({value:n,previous:n});return _.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var $h="Checkbox",[dB,B5]=Bs($h),[hB,Kv]=dB($h);function fB(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:i,disabled:a,form:l,name:u,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:g}=n,[m,b]=jo({prop:t,defaultProp:i??!1,onChange:d,caller:$h}),[S,x]=_.useState(null),[A,E]=_.useState(null),C=_.useRef(!1),T=S?!!l||!!S.closest("form"):!0,D={checked:m,disabled:a,setChecked:b,control:S,setControl:x,name:u,form:l,value:p,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:Ar(i)?!1:i,isFormControl:T,bubbleInput:A,setBubbleInput:E};return y.jsx(hB,{scope:e,...D,children:pB(g)?g(D):s})}var BC="CheckboxTrigger",HC=_.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},i)=>{const{control:a,value:l,disabled:u,checked:d,required:f,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:m,isFormControl:b,bubbleInput:S}=Kv(BC,n),x=vt(i,p),A=_.useRef(d);return _.useEffect(()=>{const E=a?.form;if(E){const C=()=>g(A.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[a,g]),y.jsx(Ke.button,{type:"button",role:"checkbox","aria-checked":Ar(d)?"mixed":d,"aria-required":f,"data-state":XC(d),"data-disabled":u?"":void 0,disabled:u,value:l,...s,ref:x,onKeyDown:Me(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:Me(t,E=>{g(C=>Ar(C)?!0:!C),S&&b&&(m.current=E.isPropagationStopped(),m.current||E.stopPropagation())})})});HC.displayName=BC;var VC=_.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:i,defaultChecked:a,required:l,disabled:u,value:d,onCheckedChange:f,form:p,...g}=n;return y.jsx(fB,{__scopeCheckbox:t,checked:i,defaultChecked:a,disabled:u,required:l,onCheckedChange:f,name:s,form:p,value:d,internal_do_not_use_render:({isFormControl:m})=>y.jsxs(y.Fragment,{children:[y.jsx(HC,{...g,ref:e,__scopeCheckbox:t}),m&&y.jsx(YC,{__scopeCheckbox:t})]})})});VC.displayName=$h;var UC="CheckboxIndicator",GC=_.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...i}=n,a=Kv(UC,t);return y.jsx(Mn,{present:s||Ar(a.checked)||a.checked===!0,children:y.jsx(Ke.span,{"data-state":XC(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});GC.displayName=UC;var qC="CheckboxBubbleInput",YC=_.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:l,required:u,disabled:d,name:f,value:p,form:g,bubbleInput:m,setBubbleInput:b}=Kv(qC,n),S=vt(t,b),x=uB(a),A=iE(s);_.useEffect(()=>{const C=m;if(!C)return;const T=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(T,"checked").set,O=!i.current;if(x!==a&&M){const L=new Event("click",{bubbles:O});C.indeterminate=Ar(a),M.call(C,Ar(a)?!1:a),C.dispatchEvent(L)}},[m,x,a,i]);const E=_.useRef(Ar(a)?!1:a);return y.jsx(Ke.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??E.current,required:u,disabled:d,name:f,value:p,form:g,...e,tabIndex:-1,ref:S,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});YC.displayName=qC;function pB(n){return typeof n=="function"}function Ar(n){return n==="indeterminate"}function XC(n){return Ar(n)?"indeterminate":n?"checked":"unchecked"}function VS({className:n,...e}){return y.jsx(VC,{"data-slot":"checkbox",className:Se("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:y.jsx(GC,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:y.jsx(ZA,{className:"size-3.5"})})})}function gB({columns:n,data:e,searchKey:t,onRowSelectionChange:s,enableRowSelection:i=!0,enableColumnVisibility:a=!0,enableSorting:l=!0,enableFiltering:u=!0,enablePagination:d=!0,pageSize:f=10}){const[p,g]=_.useState([]),[m,b]=_.useState([]),[S,x]=_.useState({}),[A,E]=_.useState({}),C=_.useMemo(()=>i?[{id:"select",header:({table:M})=>y.jsx(VS,{checked:M.getIsAllPageRowsSelected()||M.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:O=>M.toggleAllPageRowsSelected(!!O),"aria-label":"Select all"}),cell:({row:M})=>y.jsx(VS,{checked:M.getIsSelected(),onCheckedChange:O=>M.toggleSelected(!!O),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},...n]:n,[n,i]),T=J4({data:e,columns:C,onSortingChange:l?g:void 0,onColumnFiltersChange:u?b:void 0,getCoreRowModel:H4(),getPaginationRowModel:d?X4():void 0,getSortedRowModel:l?Z4():void 0,getFilteredRowModel:u?Y4():void 0,onColumnVisibilityChange:a?x:void 0,onRowSelectionChange:i?E:void 0,state:{sorting:l?p:void 0,columnFilters:u?m:void 0,columnVisibility:a?S:void 0,rowSelection:i?A:void 0},initialState:{pagination:{pageSize:f}}});return _.useEffect(()=>{if(s&&i){const D=T.getFilteredSelectedRowModel().rows.map(M=>M.original);s(D)}},[A,s,i,T]),{table:T,searchKey:t,enableRowSelection:i,enableColumnVisibility:a,enableSorting:l,enableFiltering:u,enablePagination:d}}function ZC(n){const{columns:e,data:t,searchKey:s,searchPlaceholder:i="Search...",onRowSelectionChange:a,enableRowSelection:l=!0,enableColumnVisibility:u=!0,enableSorting:d=!0,enableFiltering:f=!0,enablePagination:p=!0,pageSize:g=10}=n,{table:m}=gB({columns:e,data:t,searchKey:s,onRowSelectionChange:a,enableRowSelection:l,enableColumnVisibility:u,enableSorting:d,enableFiltering:f,enablePagination:p,pageSize:g});return y.jsxs("div",{className:"w-full space-y-4",children:[y.jsx(eB,{table:m,searchKey:s,searchPlaceholder:i,enableFiltering:f,enableColumnVisibility:u}),y.jsx(lB,{table:m}),y.jsx(cB,{table:m,enableRowSelection:l,enablePagination:p})]})}const mB=hv("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yc({className:n,variant:e,asChild:t=!1,...s}){const i=t?fa:"span";return y.jsx(i,{"data-slot":"badge",className:Se(mB({variant:e}),n),...s})}const vB=n=>{try{const e=new Date(n),s=new Date().getTime()-e.getTime(),i=Math.floor(s/(1e3*60*60*24));return i===0?"Today":i===1?"1 day ago":i<7?`${i} days ago`:i<30?`${Math.floor(i/7)} weeks ago`:i<365?`${Math.floor(i/30)} months ago`:`${Math.floor(i/365)} years ago`}catch{return"Unknown"}},US={awaiting:"bg-yellow-50 text-yellow-700 border-yellow-200",in_progress:"bg-blue-50 text-blue-700 border-blue-200",completed:"bg-green-50 text-green-700 border-green-200",processed:"bg-green-50 text-green-700 border-green-200",pending:"bg-yellow-50 text-yellow-700 border-yellow-200",error:"bg-red-50 text-red-700 border-red-200"};class Qr{columnDef;constructor(e){this.columnDef={accessorKey:e}}static text(e){return new Qr(e)}static number(e){return new Qr(e)}static date(e){const t=new Qr(e);return t.columnDef.cell=({row:s})=>{const i=s.getValue(e);return y.jsx("div",{className:"text-muted-foreground text-sm",children:vB(i)})},t}static badge(e){const t=new Qr(e);return t.columnDef.cell=({row:s})=>{const i=s.getValue(e);return y.jsx("div",{className:"text-left",children:y.jsx(yc,{variant:"secondary",children:i||0})})},t}static status(e){const t=new Qr(e);return t.columnDef.cell=({row:s})=>{const i=s.getValue(e),a=US[i]||US.error;return y.jsx(yc,{variant:"outline",className:a,children:i.charAt(0).toUpperCase()+i.slice(1).replace("_"," ")})},t.columnDef.sortingFn=(s,i)=>{const a=d=>{switch(d){case"awaiting":return 0;case"pending":return 0;case"in_progress":return 1;case"completed":return 2;case"processed":return 2;default:return 3}},l=s.getValue(e),u=i.getValue(e);return a(l)-a(u)},t}header(e){return this.columnDef.header=e,this}sortable(e){const t=e||this.columnDef.accessorKey;return this.columnDef.header=({column:s})=>y.jsxs("div",{className:"flex items-center",children:[t.charAt(0).toUpperCase()+t.slice(1),y.jsx(He,{className:"h-6 w-6 ml-2 p-2",variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),children:y.jsx(EP,{className:"h-4 w-4"})})]}),this}align(e="left"){const t=this.columnDef.cell;this.columnDef.cell=t?i=>y.jsx("div",{className:`text-${e}`,children:t(i)}):({row:i})=>y.jsx("div",{className:`text-${e}`,children:i.getValue(this.columnDef.accessorKey)});const s=this.columnDef.header;return typeof s=="string"&&(this.columnDef.header=()=>y.jsx("div",{className:`text-${e}`,children:s})),this}truncate(e="max-w-md"){const t=this.columnDef.cell;return this.columnDef.cell=t?s=>y.jsx("div",{className:`${e} truncate text-muted-foreground`,children:t(s)||"No description"}):({row:s})=>{const i=s.getValue(this.columnDef.accessorKey);return y.jsx("div",{className:`${e} truncate text-muted-foreground`,children:i||"No description"})},this}format(e){return this.columnDef.cell=({row:t})=>{const s=t.getValue(this.columnDef.accessorKey);return e(s)},this}withClass(e=void 0){return this.columnDef.cell=({row:t})=>{const s=t.getValue(this.columnDef.accessorKey);return y.jsx("div",{className:e,children:s})},this}build(){return this.columnDef}}const Ps=Qr;class bB{actions=[];view(e,t="View"){return this.actions.push({label:t,icon:pv,onClick:s=>{const i=e(s);window.open(i,"_blank")},variant:"default"}),this}edit(e,t="Edit"){return this.actions.push({label:t,icon:MO,onClick:e,variant:"default"}),this}delete(e,t="Delete"){return this.actions.push({label:t,icon:QA,onClick:e,variant:"destructive",separator:!0}),this}download(e,t="Download"){return this.actions.push({label:t,icon:fv,onClick:e,variant:"default"}),this}copy(e,t="Copy ID",s){return this.actions.push({label:t,icon:ZP,onClick:i=>{const a=e(i);navigator.clipboard.writeText(a).then(()=>{const l=s?s(a):{title:`${t} copied to clipboard`,description:`Value: ${a}`};ot.success(l.title,{description:l.description})}).catch(l=>{console.error("Failed to copy to clipboard:",l),ot.error("Failed to copy to clipboard",{description:"Please try again or copy manually."})})},variant:"default"}),this}custom(e){return this.actions.push(e),this}separator(){return this.actions.length>0&&(this.actions[this.actions.length-1].separator=!0),this}build(){return{id:"actions",header:()=>null,enableHiding:!1,cell:({row:e})=>{const t=e.original;return y.jsx("div",{className:"text-center",children:y.jsxs(jh,{children:[y.jsx(Ih,{asChild:!0,children:y.jsxs(He,{variant:"ghost",className:"h-8 w-8 p-0",children:[y.jsx("span",{className:"sr-only",children:"Open menu"}),y.jsx(eO,{className:"h-4 w-4"})]})}),y.jsxs(Fh,{align:"end",children:[y.jsx(qv,{children:"Actions"}),this.actions.map((s,i)=>{const a=s.icon;return y.jsxs("div",{children:[s.separator&&i>0&&y.jsx(nc,{}),y.jsxs(yr,{onClick:l=>{l.preventDefault(),s.onClick(t)},className:s.variant==="destructive"?"text-destructive":"",children:[y.jsx(a,{className:"mr-2 h-4 w-4"}),s.label]})]},i)})]})]})})}}}}const WC={create(){return new bB}};var Bc=n=>n.type==="checkbox",ea=n=>n instanceof Date,Nn=n=>n==null;const KC=n=>typeof n=="object";var Yt=n=>!Nn(n)&&!Array.isArray(n)&&KC(n)&&!ea(n),QC=n=>Yt(n)&&n.target?Bc(n.target)?n.target.checked:n.target.value:n,yB=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,JC=(n,e)=>n.has(yB(e)),wB=n=>{const e=n.constructor&&n.constructor.prototype;return Yt(e)&&e.hasOwnProperty("isPrototypeOf")},Qv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(n){let e;const t=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(Qv&&(n instanceof Blob||s))&&(t||Yt(n)))if(e=t?[]:{},!t&&!wB(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=ln(n[i]));else return n;return e}var Bh=n=>/^\w*$/.test(n),qt=n=>n===void 0,Jv=n=>Array.isArray(n)?n.filter(Boolean):[],eb=n=>Jv(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(n,e,t)=>{if(!e||!Yt(n))return t;const s=(Bh(e)?[e]:eb(e)).reduce((i,a)=>Nn(i)?i:i[a],n);return qt(s)||s===n?qt(n[e])?t:n[e]:s},ns=n=>typeof n=="boolean",ut=(n,e,t)=>{let s=-1;const i=Bh(e)?[e]:eb(e),a=i.length,l=a-1;for(;++s<a;){const u=i[s];let d=t;if(s!==l){const f=n[u];d=Yt(f)||Array.isArray(f)?f:isNaN(+i[s+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;n[u]=d,n=n[u]}};const Kd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Os={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ji={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tb=oe.createContext(null);tb.displayName="HookFormContext";const Hh=()=>oe.useContext(tb),xB=n=>{const{children:e,...t}=n;return oe.createElement(tb.Provider,{value:t},e)};var eR=(n,e,t,s=!0)=>{const i={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Os.all&&(e._proxyFormState[l]=!s||Os.all),t&&(t[l]=!0),n[l]}});return i};const nb=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function tR(n){const e=Hh(),{control:t=e.control,disabled:s,name:i,exact:a}=n||{},[l,u]=oe.useState(t._formState),d=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return nb(()=>t._subscribe({name:i,formState:d.current,exact:a,callback:f=>{!s&&u({...t._formState,...f})}}),[i,s,a]),oe.useEffect(()=>{d.current.isValid&&t._setValid(!0)},[t]),oe.useMemo(()=>eR(l,t,d.current,!1),[l,t])}var ui=n=>typeof n=="string",nR=(n,e,t,s,i)=>ui(n)?(s&&e.watch.add(n),ye(t,n,i)):Array.isArray(n)?n.map(a=>(s&&e.watch.add(a),ye(t,a))):(s&&(e.watchAll=!0),t),Mm=n=>Nn(n)||!KC(n);function $i(n,e,t=new WeakSet){if(Mm(n)||Mm(e))return n===e;if(ea(n)&&ea(e))return n.getTime()===e.getTime();const s=Object.keys(n),i=Object.keys(e);if(s.length!==i.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const a of s){const l=n[a];if(!i.includes(a))return!1;if(a!=="ref"){const u=e[a];if(ea(l)&&ea(u)||Yt(l)&&Yt(u)||Array.isArray(l)&&Array.isArray(u)?!$i(l,u,t):l!==u)return!1}}return!0}function SB(n){const e=Hh(),{control:t=e.control,name:s,defaultValue:i,disabled:a,exact:l,compute:u}=n||{},d=oe.useRef(i),f=oe.useRef(u),p=oe.useRef(void 0);f.current=u;const g=oe.useMemo(()=>t._getWatch(s,d.current),[t,s]),[m,b]=oe.useState(f.current?f.current(g):g);return nb(()=>t._subscribe({name:s,formState:{values:!0},exact:l,callback:S=>{if(!a){const x=nR(s,t._names,S.values||t._formValues,!1,d.current);if(f.current){const A=f.current(x);$i(A,p.current)||(b(A),p.current=A)}else b(x)}}}),[t,a,s,l]),oe.useEffect(()=>t._removeUnmounted()),m}function _B(n){const e=Hh(),{name:t,disabled:s,control:i=e.control,shouldUnregister:a,defaultValue:l}=n,u=JC(i._names.array,t),d=oe.useMemo(()=>ye(i._formValues,t,ye(i._defaultValues,t,l)),[i,t,l]),f=SB({control:i,name:t,defaultValue:d,exact:!0}),p=tR({control:i,name:t,exact:!0}),g=oe.useRef(n),m=oe.useRef(i.register(t,{...n.rules,value:f,...ns(n.disabled)?{disabled:n.disabled}:{}}));g.current=n;const b=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(p.errors,t)},isDirty:{enumerable:!0,get:()=>!!ye(p.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!ye(p.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!ye(p.validatingFields,t)},error:{enumerable:!0,get:()=>ye(p.errors,t)}}),[p,t]),S=oe.useCallback(C=>m.current.onChange({target:{value:QC(C),name:t},type:Kd.CHANGE}),[t]),x=oe.useCallback(()=>m.current.onBlur({target:{value:ye(i._formValues,t),name:t},type:Kd.BLUR}),[t,i._formValues]),A=oe.useCallback(C=>{const T=ye(i._fields,t);T&&C&&(T._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:D=>C.setCustomValidity(D),reportValidity:()=>C.reportValidity()})},[i._fields,t]),E=oe.useMemo(()=>({name:t,value:f,...ns(s)||p.disabled?{disabled:p.disabled||s}:{},onChange:S,onBlur:x,ref:A}),[t,s,p.disabled,S,x,A,f]);return oe.useEffect(()=>{const C=i._options.shouldUnregister||a;i.register(t,{...g.current.rules,...ns(g.current.disabled)?{disabled:g.current.disabled}:{}});const T=(D,M)=>{const O=ye(i._fields,D);O&&O._f&&(O._f.mount=M)};if(T(t,!0),C){const D=ln(ye(i._options.defaultValues,t));ut(i._defaultValues,t,D),qt(ye(i._formValues,t))&&ut(i._formValues,t,D)}return!u&&i.register(t),()=>{(u?C&&!i._state.action:C)?i.unregister(t):T(t,!1)}},[t,i,u,a]),oe.useEffect(()=>{i._setDisabledField({disabled:s,name:t})},[s,t,i]),oe.useMemo(()=>({field:E,formState:p,fieldState:b}),[E,p,b])}const AB=n=>n.render(_B(n));var sb=(n,e,t,s,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[s]:i||!0}}:{},ic=n=>Array.isArray(n)?n:[n],GS=()=>{let n=[];return{get observers(){return n},next:i=>{for(const a of n)a.next&&a.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(a=>a!==i)}}),unsubscribe:()=>{n=[]}}},Bn=n=>Yt(n)&&!Object.keys(n).length,ib=n=>n.type==="file",Ls=n=>typeof n=="function",Qd=n=>{if(!Qv)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sR=n=>n.type==="select-multiple",rb=n=>n.type==="radio",EB=n=>rb(n)||Bc(n),Gg=n=>Qd(n)&&n.isConnected;function CB(n,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)n=qt(n)?s++:n[e[s++]];return n}function RB(n){for(const e in n)if(n.hasOwnProperty(e)&&!qt(n[e]))return!1;return!0}function Jt(n,e){const t=Array.isArray(e)?e:Bh(e)?[e]:eb(e),s=t.length===1?n:CB(n,t),i=t.length-1,a=t[i];return s&&delete s[a],i!==0&&(Yt(s)&&Bn(s)||Array.isArray(s)&&RB(s))&&Jt(n,t.slice(0,-1)),n}var iR=n=>{for(const e in n)if(Ls(n[e]))return!0;return!1};function Jd(n,e={}){const t=Array.isArray(n);if(Yt(n)||t)for(const s in n)Array.isArray(n[s])||Yt(n[s])&&!iR(n[s])?(e[s]=Array.isArray(n[s])?[]:{},Jd(n[s],e[s])):Nn(n[s])||(e[s]=!0);return e}function rR(n,e,t){const s=Array.isArray(n);if(Yt(n)||s)for(const i in n)Array.isArray(n[i])||Yt(n[i])&&!iR(n[i])?qt(e)||Mm(t[i])?t[i]=Array.isArray(n[i])?Jd(n[i],[]):{...Jd(n[i])}:rR(n[i],Nn(e)?{}:e[i],t[i]):t[i]=!$i(n[i],e[i]);return t}var Xl=(n,e)=>rR(n,e,Jd(e));const qS={value:!1,isValid:!1},YS={value:!0,isValid:!0};var aR=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!qt(n[0].attributes.value)?qt(n[0].value)||n[0].value===""?YS:{value:n[0].value,isValid:!0}:YS:qS}return qS},oR=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>qt(n)?n:e?n===""?NaN:n&&+n:t&&ui(n)?new Date(n):s?s(n):n;const XS={isValid:!1,value:null};var lR=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,XS):XS;function ZS(n){const e=n.ref;return ib(e)?e.files:rb(e)?lR(n.refs).value:sR(e)?[...e.selectedOptions].map(({value:t})=>t):Bc(e)?aR(n.refs).value:oR(qt(e.value)?n.ref.value:e.value,n)}var TB=(n,e,t,s)=>{const i={};for(const a of n){const l=ye(e,a);l&&ut(i,a,l._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:s}},eh=n=>n instanceof RegExp,Zl=n=>qt(n)?n:eh(n)?n.source:Yt(n)?eh(n.value)?n.value.source:n.value:n,WS=n=>({isOnSubmit:!n||n===Os.onSubmit,isOnBlur:n===Os.onBlur,isOnChange:n===Os.onChange,isOnAll:n===Os.all,isOnTouch:n===Os.onTouched});const KS="AsyncFunction";var MB=n=>!!n&&!!n.validate&&!!(Ls(n.validate)&&n.validate.constructor.name===KS||Yt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===KS)),DB=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),QS=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const rc=(n,e,t,s)=>{for(const i of t||Object.keys(n)){const a=ye(n,i);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!s)return!0;if(l.ref&&e(l.ref,l.name)&&!s)return!0;if(rc(u,e))break}else if(Yt(u)&&rc(u,e))break}}};function JS(n,e,t){const s=ye(n,t);if(s||Bh(t))return{error:s,name:t};const i=t.split(".");for(;i.length;){const a=i.join("."),l=ye(e,a),u=ye(n,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(u&&u.type)return{name:a,error:u};if(u&&u.root&&u.root.type)return{name:`${a}.root`,error:u.root};i.pop()}return{name:t}}var kB=(n,e,t,s)=>{t(n);const{name:i,...a}=n;return Bn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!s||Os.all))},NB=(n,e,t)=>!n||!e||n===e||ic(n).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),PB=(n,e,t,s,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?s.isOnBlur:i.isOnBlur)?!n:(t?s.isOnChange:i.isOnChange)?n:!0,OB=(n,e)=>!Jv(ye(n,e)).length&&Jt(n,e),LB=(n,e,t)=>{const s=ic(ye(n,t));return ut(s,"root",e[t]),ut(n,t,s),n},zd=n=>ui(n);function e_(n,e,t="validate"){if(zd(n)||Array.isArray(n)&&n.every(zd)||ns(n)&&!n)return{type:t,message:zd(n)?n:"",ref:e}}var ho=n=>Yt(n)&&!eh(n)?n:{value:n,message:""},t_=async(n,e,t,s,i,a)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:p,min:g,max:m,pattern:b,validate:S,name:x,valueAsNumber:A,mount:E}=n._f,C=ye(t,x);if(!E||e.has(x))return{};const T=u?u[0]:l,D=K=>{i&&T.reportValidity&&(T.setCustomValidity(ns(K)?"":K||""),T.reportValidity())},M={},O=rb(l),L=Bc(l),I=O||L,j=(A||ib(l))&&qt(l.value)&&qt(C)||Qd(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,U=sb.bind(null,x,s,M),$=(K,Z,ce,ae=ji.maxLength,N=ji.minLength)=>{const B=K?Z:ce;M[x]={type:K?ae:N,message:B,ref:l,...U(K?ae:N,B)}};if(a?!Array.isArray(C)||!C.length:d&&(!I&&(j||Nn(C))||ns(C)&&!C||L&&!aR(u).isValid||O&&!lR(u).isValid)){const{value:K,message:Z}=zd(d)?{value:!!d,message:d}:ho(d);if(K&&(M[x]={type:ji.required,message:Z,ref:T,...U(ji.required,Z)},!s))return D(Z),M}if(!j&&(!Nn(g)||!Nn(m))){let K,Z;const ce=ho(m),ae=ho(g);if(!Nn(C)&&!isNaN(C)){const N=l.valueAsNumber||C&&+C;Nn(ce.value)||(K=N>ce.value),Nn(ae.value)||(Z=N<ae.value)}else{const N=l.valueAsDate||new Date(C),B=P=>new Date(new Date().toDateString()+" "+P),q=l.type=="time",Y=l.type=="week";ui(ce.value)&&C&&(K=q?B(C)>B(ce.value):Y?C>ce.value:N>new Date(ce.value)),ui(ae.value)&&C&&(Z=q?B(C)<B(ae.value):Y?C<ae.value:N<new Date(ae.value))}if((K||Z)&&($(!!K,ce.message,ae.message,ji.max,ji.min),!s))return D(M[x].message),M}if((f||p)&&!j&&(ui(C)||a&&Array.isArray(C))){const K=ho(f),Z=ho(p),ce=!Nn(K.value)&&C.length>+K.value,ae=!Nn(Z.value)&&C.length<+Z.value;if((ce||ae)&&($(ce,K.message,Z.message),!s))return D(M[x].message),M}if(b&&!j&&ui(C)){const{value:K,message:Z}=ho(b);if(eh(K)&&!C.match(K)&&(M[x]={type:ji.pattern,message:Z,ref:l,...U(ji.pattern,Z)},!s))return D(Z),M}if(S){if(Ls(S)){const K=await S(C,t),Z=e_(K,T);if(Z&&(M[x]={...Z,...U(ji.validate,Z.message)},!s))return D(Z.message),M}else if(Yt(S)){let K={};for(const Z in S){if(!Bn(K)&&!s)break;const ce=e_(await S[Z](C,t),T,Z);ce&&(K={...ce,...U(Z,ce.message)},D(ce.message),s&&(M[x]=K))}if(!Bn(K)&&(M[x]={ref:T,...K},!s))return M}}return D(!0),M};const jB={mode:Os.onSubmit,reValidateMode:Os.onChange,shouldFocusError:!0};function IB(n={}){let e={...jB,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ls(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=Yt(e.defaultValues)||Yt(e.values)?ln(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ln(i),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const m={array:GS(),state:GS()},b=e.criteriaMode===Os.all,S=z=>Q=>{clearTimeout(f),f=setTimeout(z,Q)},x=async z=>{if(!e.disabled&&(p.isValid||g.isValid||z)){const Q=e.resolver?Bn((await L()).errors):await j(s,!0);Q!==t.isValid&&m.state.next({isValid:Q})}},A=(z,Q)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((z||Array.from(u.mount)).forEach(ie=>{ie&&(Q?ut(t.validatingFields,ie,Q):Jt(t.validatingFields,ie))}),m.state.next({validatingFields:t.validatingFields,isValidating:!Bn(t.validatingFields)}))},E=(z,Q=[],ie,ve,me=!0,pe=!0)=>{if(ve&&ie&&!e.disabled){if(l.action=!0,pe&&Array.isArray(ye(s,z))){const xe=ie(ye(s,z),ve.argA,ve.argB);me&&ut(s,z,xe)}if(pe&&Array.isArray(ye(t.errors,z))){const xe=ie(ye(t.errors,z),ve.argA,ve.argB);me&&ut(t.errors,z,xe),OB(t.errors,z)}if((p.touchedFields||g.touchedFields)&&pe&&Array.isArray(ye(t.touchedFields,z))){const xe=ie(ye(t.touchedFields,z),ve.argA,ve.argB);me&&ut(t.touchedFields,z,xe)}(p.dirtyFields||g.dirtyFields)&&(t.dirtyFields=Xl(i,a)),m.state.next({name:z,isDirty:$(z,Q),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else ut(a,z,Q)},C=(z,Q)=>{ut(t.errors,z,Q),m.state.next({errors:t.errors})},T=z=>{t.errors=z,m.state.next({errors:t.errors,isValid:!1})},D=(z,Q,ie,ve)=>{const me=ye(s,z);if(me){const pe=ye(a,z,qt(ie)?ye(i,z):ie);qt(pe)||ve&&ve.defaultChecked||Q?ut(a,z,Q?pe:ZS(me._f)):ce(z,pe),l.mount&&x()}},M=(z,Q,ie,ve,me)=>{let pe=!1,xe=!1;const ke={name:z};if(!e.disabled){if(!ie||ve){(p.isDirty||g.isDirty)&&(xe=t.isDirty,t.isDirty=ke.isDirty=$(),pe=xe!==ke.isDirty);const qe=$i(ye(i,z),Q);xe=!!ye(t.dirtyFields,z),qe?Jt(t.dirtyFields,z):ut(t.dirtyFields,z,!0),ke.dirtyFields=t.dirtyFields,pe=pe||(p.dirtyFields||g.dirtyFields)&&xe!==!qe}if(ie){const qe=ye(t.touchedFields,z);qe||(ut(t.touchedFields,z,ie),ke.touchedFields=t.touchedFields,pe=pe||(p.touchedFields||g.touchedFields)&&qe!==ie)}pe&&me&&m.state.next(ke)}return pe?ke:{}},O=(z,Q,ie,ve)=>{const me=ye(t.errors,z),pe=(p.isValid||g.isValid)&&ns(Q)&&t.isValid!==Q;if(e.delayError&&ie?(d=S(()=>C(z,ie)),d(e.delayError)):(clearTimeout(f),d=null,ie?ut(t.errors,z,ie):Jt(t.errors,z)),(ie?!$i(me,ie):me)||!Bn(ve)||pe){const xe={...ve,...pe&&ns(Q)?{isValid:Q}:{},errors:t.errors,name:z};t={...t,...xe},m.state.next(xe)}},L=async z=>{A(z,!0);const Q=await e.resolver(a,e.context,TB(z||u.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return A(z),Q},I=async z=>{const{errors:Q}=await L(z);if(z)for(const ie of z){const ve=ye(Q,ie);ve?ut(t.errors,ie,ve):Jt(t.errors,ie)}else t.errors=Q;return Q},j=async(z,Q,ie={valid:!0})=>{for(const ve in z){const me=z[ve];if(me){const{_f:pe,...xe}=me;if(pe){const ke=u.array.has(pe.name),qe=me._f&&MB(me._f);qe&&p.validatingFields&&A([ve],!0);const st=await t_(me,u.disabled,a,b,e.shouldUseNativeValidation&&!Q,ke);if(qe&&p.validatingFields&&A([ve]),st[pe.name]&&(ie.valid=!1,Q))break;!Q&&(ye(st,pe.name)?ke?LB(t.errors,st,pe.name):ut(t.errors,pe.name,st[pe.name]):Jt(t.errors,pe.name))}!Bn(xe)&&await j(xe,Q,ie)}}return ie.valid},U=()=>{for(const z of u.unMount){const Q=ye(s,z);Q&&(Q._f.refs?Q._f.refs.every(ie=>!Gg(ie)):!Gg(Q._f.ref))&&ue(z)}u.unMount=new Set},$=(z,Q)=>!e.disabled&&(z&&Q&&ut(a,z,Q),!$i(P(),i)),K=(z,Q,ie)=>nR(z,u,{...l.mount?a:qt(Q)?i:ui(z)?{[z]:Q}:Q},ie,Q),Z=z=>Jv(ye(l.mount?a:i,z,e.shouldUnregister?ye(i,z,[]):[])),ce=(z,Q,ie={})=>{const ve=ye(s,z);let me=Q;if(ve){const pe=ve._f;pe&&(!pe.disabled&&ut(a,z,oR(Q,pe)),me=Qd(pe.ref)&&Nn(Q)?"":Q,sR(pe.ref)?[...pe.ref.options].forEach(xe=>xe.selected=me.includes(xe.value)):pe.refs?Bc(pe.ref)?pe.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(me)?xe.checked=!!me.find(ke=>ke===xe.value):xe.checked=me===xe.value||!!me)}):pe.refs.forEach(xe=>xe.checked=xe.value===me):ib(pe.ref)?pe.ref.value="":(pe.ref.value=me,pe.ref.type||m.state.next({name:z,values:ln(a)})))}(ie.shouldDirty||ie.shouldTouch)&&M(z,me,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&Y(z)},ae=(z,Q,ie)=>{for(const ve in Q){if(!Q.hasOwnProperty(ve))return;const me=Q[ve],pe=z+"."+ve,xe=ye(s,pe);(u.array.has(z)||Yt(me)||xe&&!xe._f)&&!ea(me)?ae(pe,me,ie):ce(pe,me,ie)}},N=(z,Q,ie={})=>{const ve=ye(s,z),me=u.array.has(z),pe=ln(Q);ut(a,z,pe),me?(m.array.next({name:z,values:ln(a)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&ie.shouldDirty&&m.state.next({name:z,dirtyFields:Xl(i,a),isDirty:$(z,pe)})):ve&&!ve._f&&!Nn(pe)?ae(z,pe,ie):ce(z,pe,ie),QS(z,u)&&m.state.next({...t,name:z}),m.state.next({name:l.mount?z:void 0,values:ln(a)})},B=async z=>{l.mount=!0;const Q=z.target;let ie=Q.name,ve=!0;const me=ye(s,ie),pe=qe=>{ve=Number.isNaN(qe)||ea(qe)&&isNaN(qe.getTime())||$i(qe,ye(a,ie,qe))},xe=WS(e.mode),ke=WS(e.reValidateMode);if(me){let qe,st;const mn=Q.type?ZS(me._f):QC(z),Gn=z.type===Kd.BLUR||z.type===Kd.FOCUS_OUT,Vs=!DB(me._f)&&!e.resolver&&!ye(t.errors,ie)&&!me._f.deps||PB(Gn,ye(t.touchedFields,ie),t.isSubmitted,ke,xe),Us=QS(ie,u,Gn);ut(a,ie,mn),Gn?(me._f.onBlur&&me._f.onBlur(z),d&&d(0)):me._f.onChange&&me._f.onChange(z);const Gs=M(ie,mn,Gn),ls=!Bn(Gs)||Us;if(!Gn&&m.state.next({name:ie,type:z.type,values:ln(a)}),Vs)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?Gn&&x():Gn||x()),ls&&m.state.next({name:ie,...Us?{}:Gs});if(!Gn&&Us&&m.state.next({...t}),e.resolver){const{errors:qs}=await L([ie]);if(pe(mn),ve){const bi=JS(t.errors,s,ie),Yi=JS(qs,s,bi.name||ie);qe=Yi.error,ie=Yi.name,st=Bn(qs)}}else A([ie],!0),qe=(await t_(me,u.disabled,a,b,e.shouldUseNativeValidation))[ie],A([ie]),pe(mn),ve&&(qe?st=!1:(p.isValid||g.isValid)&&(st=await j(s,!0)));ve&&(me._f.deps&&Y(me._f.deps),O(ie,st,qe,Gs))}},q=(z,Q)=>{if(ye(t.errors,Q)&&z.focus)return z.focus(),1},Y=async(z,Q={})=>{let ie,ve;const me=ic(z);if(e.resolver){const pe=await I(qt(z)?z:me);ie=Bn(pe),ve=z?!me.some(xe=>ye(pe,xe)):ie}else z?(ve=(await Promise.all(me.map(async pe=>{const xe=ye(s,pe);return await j(xe&&xe._f?{[pe]:xe}:xe)}))).every(Boolean),!(!ve&&!t.isValid)&&x()):ve=ie=await j(s);return m.state.next({...!ui(z)||(p.isValid||g.isValid)&&ie!==t.isValid?{}:{name:z},...e.resolver||!z?{isValid:ie}:{},errors:t.errors}),Q.shouldFocus&&!ve&&rc(s,q,z?me:u.mount),ve},P=z=>{const Q={...l.mount?a:i};return qt(z)?Q:ui(z)?ye(Q,z):z.map(ie=>ye(Q,ie))},G=(z,Q)=>({invalid:!!ye((Q||t).errors,z),isDirty:!!ye((Q||t).dirtyFields,z),error:ye((Q||t).errors,z),isValidating:!!ye(t.validatingFields,z),isTouched:!!ye((Q||t).touchedFields,z)}),se=z=>{z&&ic(z).forEach(Q=>Jt(t.errors,Q)),m.state.next({errors:z?t.errors:{}})},V=(z,Q,ie)=>{const ve=(ye(s,z,{_f:{}})._f||{}).ref,me=ye(t.errors,z)||{},{ref:pe,message:xe,type:ke,...qe}=me;ut(t.errors,z,{...qe,...Q,ref:ve}),m.state.next({name:z,errors:t.errors,isValid:!1}),ie&&ie.shouldFocus&&ve&&ve.focus&&ve.focus()},re=(z,Q)=>Ls(z)?m.state.subscribe({next:ie=>"values"in ie&&z(K(void 0,Q),ie)}):K(z,Q,!0),ge=z=>m.state.subscribe({next:Q=>{NB(z.name,Q.name,z.exact)&&kB(Q,z.formState||p,bt,z.reRenderRoot)&&z.callback({values:{...a},...t,...Q,defaultValues:i})}}).unsubscribe,ee=z=>(l.mount=!0,g={...g,...z.formState},ge({...z,formState:g})),ue=(z,Q={})=>{for(const ie of z?ic(z):u.mount)u.mount.delete(ie),u.array.delete(ie),Q.keepValue||(Jt(s,ie),Jt(a,ie)),!Q.keepError&&Jt(t.errors,ie),!Q.keepDirty&&Jt(t.dirtyFields,ie),!Q.keepTouched&&Jt(t.touchedFields,ie),!Q.keepIsValidating&&Jt(t.validatingFields,ie),!e.shouldUnregister&&!Q.keepDefaultValue&&Jt(i,ie);m.state.next({values:ln(a)}),m.state.next({...t,...Q.keepDirty?{isDirty:$()}:{}}),!Q.keepIsValid&&x()},be=({disabled:z,name:Q})=>{(ns(z)&&l.mount||z||u.disabled.has(Q))&&(z?u.disabled.add(Q):u.disabled.delete(Q))},we=(z,Q={})=>{let ie=ye(s,z);const ve=ns(Q.disabled)||ns(e.disabled);return ut(s,z,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:z}},name:z,mount:!0,...Q}}),u.mount.add(z),ie?be({disabled:ns(Q.disabled)?Q.disabled:e.disabled,name:z}):D(z,!0,Q.value),{...ve?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:Zl(Q.min),max:Zl(Q.max),minLength:Zl(Q.minLength),maxLength:Zl(Q.maxLength),pattern:Zl(Q.pattern)}:{},name:z,onChange:B,onBlur:B,ref:me=>{if(me){we(z,Q),ie=ye(s,z);const pe=qt(me.value)&&me.querySelectorAll&&me.querySelectorAll("input,select,textarea")[0]||me,xe=EB(pe),ke=ie._f.refs||[];if(xe?ke.find(qe=>qe===pe):pe===ie._f.ref)return;ut(s,z,{_f:{...ie._f,...xe?{refs:[...ke.filter(Gg),pe,...Array.isArray(ye(i,z))?[{}]:[]],ref:{type:pe.type,name:z}}:{ref:pe}}}),D(z,!1,void 0,pe)}else ie=ye(s,z,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(JC(u.array,z)&&l.action)&&u.unMount.add(z)}}},De=()=>e.shouldFocusError&&rc(s,q,u.mount),$e=z=>{ns(z)&&(m.state.next({disabled:z}),rc(s,(Q,ie)=>{const ve=ye(s,ie);ve&&(Q.disabled=ve._f.disabled||z,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(me=>{me.disabled=ve._f.disabled||z}))},0,!1))},xt=(z,Q)=>async ie=>{let ve;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let me=ln(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:pe,values:xe}=await L();t.errors=pe,me=ln(xe)}else await j(s);if(u.disabled.size)for(const pe of u.disabled)Jt(me,pe);if(Jt(t.errors,"root"),Bn(t.errors)){m.state.next({errors:{}});try{await z(me,ie)}catch(pe){ve=pe}}else Q&&await Q({...t.errors},ie),De(),setTimeout(De);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},dt=(z,Q={})=>{ye(s,z)&&(qt(Q.defaultValue)?N(z,ln(ye(i,z))):(N(z,Q.defaultValue),ut(i,z,ln(Q.defaultValue))),Q.keepTouched||Jt(t.touchedFields,z),Q.keepDirty||(Jt(t.dirtyFields,z),t.isDirty=Q.defaultValue?$(z,ln(ye(i,z))):$()),Q.keepError||(Jt(t.errors,z),p.isValid&&x()),m.state.next({...t}))},Qe=(z,Q={})=>{const ie=z?ln(z):i,ve=ln(ie),me=Bn(z),pe=me?i:ve;if(Q.keepDefaultValues||(i=ie),!Q.keepValues){if(Q.keepDirtyValues){const xe=new Set([...u.mount,...Object.keys(Xl(i,a))]);for(const ke of Array.from(xe))ye(t.dirtyFields,ke)?ut(pe,ke,ye(a,ke)):N(ke,ye(pe,ke))}else{if(Qv&&qt(z))for(const xe of u.mount){const ke=ye(s,xe);if(ke&&ke._f){const qe=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(Qd(qe)){const st=qe.closest("form");if(st){st.reset();break}}}}if(Q.keepFieldsRef)for(const xe of u.mount)N(xe,ye(pe,xe));else s={}}a=e.shouldUnregister?Q.keepDefaultValues?ln(i):{}:ln(pe),m.array.next({values:{...pe}}),m.state.next({values:{...pe}})}u={mount:Q.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,l.watch=!!e.shouldUnregister,m.state.next({submitCount:Q.keepSubmitCount?t.submitCount:0,isDirty:me?!1:Q.keepDirty?t.isDirty:!!(Q.keepDefaultValues&&!$i(z,i)),isSubmitted:Q.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:me?{}:Q.keepDirtyValues?Q.keepDefaultValues&&a?Xl(i,a):t.dirtyFields:Q.keepDefaultValues&&z?Xl(i,z):Q.keepDirty?t.dirtyFields:{},touchedFields:Q.keepTouched?t.touchedFields:{},errors:Q.keepErrors?t.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Et=(z,Q)=>Qe(Ls(z)?z(a):z,Q),ht=(z,Q={})=>{const ie=ye(s,z),ve=ie&&ie._f;if(ve){const me=ve.refs?ve.refs[0]:ve.ref;me.focus&&(me.focus(),Q.shouldSelect&&Ls(me.select)&&me.select())}},bt=z=>{t={...t,...z}},It={control:{register:we,unregister:ue,getFieldState:G,handleSubmit:xt,setError:V,_subscribe:ge,_runSchema:L,_focusError:De,_getWatch:K,_getDirty:$,_setValid:x,_setFieldArray:E,_setDisabledField:be,_setErrors:T,_getFieldArray:Z,_reset:Qe,_resetDefaultValues:()=>Ls(e.defaultValues)&&e.defaultValues().then(z=>{Et(z,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:$e,_subjects:m,_proxyFormState:p,get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state(z){l=z},get _defaultValues(){return i},get _names(){return u},set _names(z){u=z},get _formState(){return t},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:ee,trigger:Y,register:we,handleSubmit:xt,watch:re,setValue:N,getValues:P,reset:Et,resetField:dt,clearErrors:se,unregister:ue,setError:V,setFocus:ht,getFieldState:G};return{...It,formControl:It}}function Hc(n={}){const e=oe.useRef(void 0),t=oe.useRef(void 0),[s,i]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Ls(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Ls(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:s},n.defaultValues&&!Ls(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:l,...u}=IB(n);e.current={...u,formState:s}}const a=e.current.control;return a._options=n,nb(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),a._formState.isReady=!0,l},[a]),oe.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),oe.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode)},[a,n.mode,n.reValidateMode]),oe.useEffect(()=>{n.errors&&(a._setErrors(n.errors),a._focusError())},[a,n.errors]),oe.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),oe.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==s.isDirty&&a._subjects.state.next({isDirty:l})}},[a,s.isDirty]),oe.useEffect(()=>{n.values&&!$i(n.values,t.current)?(a._reset(n.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=n.values,i(l=>({...l}))):a._resetDefaultValues()},[a,n.values]),oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=eR(s,a),e.current}const n_=(n,e,t)=>{if(n&&"reportValidity"in n){const s=ye(t,e);n.setCustomValidity(s&&s.message||""),n.reportValidity()}},Dm=(n,e)=>{for(const t in e.fields){const s=e.fields[t];s&&s.ref&&"reportValidity"in s.ref?n_(s.ref,t,n):s&&s.refs&&s.refs.forEach(i=>n_(i,t,n))}},s_=(n,e)=>{e.shouldUseNativeValidation&&Dm(n,e);const t={};for(const s in n){const i=ye(e.fields,s),a=Object.assign(n[s]||{},{ref:i&&i.ref});if(FB(e.names||Object.keys(n),s)){const l=Object.assign({},ye(t,s));ut(l,"root",a),ut(t,s,l)}else ut(t,s,a)}return t},FB=(n,e)=>{const t=i_(e);return n.some(s=>i_(s).match(`^${t}\\.\\d+`))};function i_(n){return n.replace(/\]|\[/g,"")}function fe(n,e,t){function s(u,d){var f;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(f=u._zod).traits??(f.traits=new Set),u._zod.traits.add(n),e(u,d);for(const p in l.prototype)p in u||Object.defineProperty(u,p,{value:l.prototype[p].bind(u)});u._zod.constr=l,u._zod.def=d}const i=t?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:n});function l(u){var d;const f=t?.Parent?new a:this;s(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:s}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>t?.Parent&&u instanceof t.Parent?!0:u?._zod?.traits?.has(n)}),Object.defineProperty(l,"name",{value:n}),l}class wc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const cR={};function ca(n){return cR}function zB(n){const e=Object.values(n).filter(s=>typeof s=="number");return Object.entries(n).filter(([s,i])=>e.indexOf(+s)===-1).map(([s,i])=>i)}function km(n,e){return typeof e=="bigint"?e.toString():e}function uR(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function ab(n){return n==null}function ob(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}function $B(n,e){const t=(n.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=t>s?t:s,a=Number.parseInt(n.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}function At(n,e,t){Object.defineProperty(n,e,{get(){{const s=t();return n[e]=s,s}},set(s){Object.defineProperty(n,e,{value:s})},configurable:!0})}function ma(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function $o(...n){const e={};for(const t of n){const s=Object.getOwnPropertyDescriptors(t);Object.assign(e,s)}return Object.defineProperties({},e)}function r_(n){return JSON.stringify(n)}const dR="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Nm(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const BB=uR(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Pm(n){if(Nm(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Nm(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}const HB=new Set(["string","number","symbol"]);function Vh(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function va(n,e,t){const s=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(s._zod.parent=n),s}function Pe(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function VB(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}const UB={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function GB(n,e){const t=n._zod.def,s=$o(n._zod.def,{get shape(){const i={};for(const a in e){if(!(a in t.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(i[a]=t.shape[a])}return ma(this,"shape",i),i},checks:[]});return va(n,s)}function qB(n,e){const t=n._zod.def,s=$o(n._zod.def,{get shape(){const i={...n._zod.def.shape};for(const a in e){if(!(a in t.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete i[a]}return ma(this,"shape",i),i},checks:[]});return va(n,s)}function YB(n,e){if(!Pm(e))throw new Error("Invalid input to extend: expected a plain object");const t=$o(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e};return ma(this,"shape",s),s},checks:[]});return va(n,t)}function XB(n,e){const t=$o(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e._zod.def.shape};return ma(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return va(n,t)}function ZB(n,e,t){const s=$o(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(t)for(const l in t){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n?new n({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)a[l]=n?new n({type:"optional",innerType:i[l]}):i[l];return ma(this,"shape",a),a},checks:[]});return va(e,s)}function WB(n,e,t){const s=$o(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(t)for(const l in t){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=new n({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new n({type:"nonoptional",innerType:i[l]});return ma(this,"shape",a),a},checks:[]});return va(e,s)}function ac(n,e=0){for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function hR(n,e){return e.map(t=>{var s;return(s=t).path??(s.path=[]),t.path.unshift(n),t})}function Td(n){return typeof n=="string"?n:n?.message}function ua(n,e,t){const s={...n,path:n.path??[]};if(!n.message){const i=Td(n.inst?._zod.def?.error?.(n))??Td(e?.error?.(n))??Td(t.customError?.(n))??Td(t.localeError?.(n))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function lb(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function xc(...n){const[e,t,s]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:s}:{...e}}const fR=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,km,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},cb=fe("$ZodError",fR),Uh=fe("$ZodError",fR,{Parent:Error});function KB(n,e=t=>t.message){const t={},s=[];for(const i of n.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:t}}function QB(n,e){const t=e||function(a){return a.message},s={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(u=>i({issues:u}));else if(l.code==="invalid_key")i({issues:l.issues});else if(l.code==="invalid_element")i({issues:l.issues});else if(l.path.length===0)s._errors.push(t(l));else{let u=s,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(n),s}const pR=n=>(e,t,s,i)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},l=e._zod.run({value:t,issues:[]},a);if(l instanceof Promise)throw new wc;if(l.issues.length){const u=new(i?.Err??n)(l.issues.map(d=>ua(d,a,ca())));throw dR(u,i?.callee),u}return l.value},JB=pR(Uh),gR=n=>async(e,t,s,i)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let l=e._zod.run({value:t,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(i?.Err??n)(l.issues.map(d=>ua(d,a,ca())));throw dR(u,i?.callee),u}return l.value},eH=gR(Uh),mR=n=>(e,t,s)=>{const i=s?{...s,async:!1}:{async:!1},a=e._zod.run({value:t,issues:[]},i);if(a instanceof Promise)throw new wc;return a.issues.length?{success:!1,error:new(n??cb)(a.issues.map(l=>ua(l,i,ca())))}:{success:!0,data:a.value}},tH=mR(Uh),vR=n=>async(e,t,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:t,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new n(a.issues.map(l=>ua(l,i,ca())))}:{success:!0,data:a.value}},nH=vR(Uh),sH=/^[cC][^\s-]{8,}$/,iH=/^[0-9a-z]+$/,rH=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,aH=/^[0-9a-vA-V]{20}$/,oH=/^[A-Za-z0-9]{27}$/,lH=/^[a-zA-Z0-9_-]{21}$/,cH=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,uH=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,a_=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,dH=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function fH(){return new RegExp(hH,"u")}const pH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gH=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,mH=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,vH=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bH=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,bR=/^[A-Za-z0-9_-]*$/,yH=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,wH=/^\+(?:[0-9]){6,14}[0-9]$/,yR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xH=new RegExp(`^${yR}$`);function wR(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SH(n){return new RegExp(`^${wR(n)}$`)}function _H(n){const e=wR({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-]\\d{2}:\\d{2})");const s=`${e}(?:${t.join("|")})`;return new RegExp(`^${yR}T(?:${s})$`)}const AH=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},EH=/^\d+$/,CH=/^-?\d+(?:\.\d+)?/i,RH=/^[^A-Z]*$/,TH=/^[^a-z]*$/,Un=fe("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),xR={number:"number",bigint:"bigint",object:"date"},SR=fe("$ZodCheckLessThan",(n,e)=>{Un.init(n,e);const t=xR[typeof e.value];n._zod.onattach.push(s=>{const i=s._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),n._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:t,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),_R=fe("$ZodCheckGreaterThan",(n,e)=>{Un.init(n,e);const t=xR[typeof e.value];n._zod.onattach.push(s=>{const i=s._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),n._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:t,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:n,continue:!e.abort})}}),MH=fe("$ZodCheckMultipleOf",(n,e)=>{Un.init(n,e),n._zod.onattach.push(t=>{var s;(s=t._zod.bag).multipleOf??(s.multipleOf=e.value)}),n._zod.check=t=>{if(typeof t.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof t.value=="bigint"?t.value%e.value===BigInt(0):$B(t.value,e.value)===0)||t.issues.push({origin:typeof t.value,code:"not_multiple_of",divisor:e.value,input:t.value,inst:n,continue:!e.abort})}}),DH=fe("$ZodCheckNumberFormat",(n,e)=>{Un.init(n,e),e.format=e.format||"float64";const t=e.format?.includes("int"),s=t?"int":"number",[i,a]=UB[e.format];n._zod.onattach.push(l=>{const u=l._zod.bag;u.format=e.format,u.minimum=i,u.maximum=a,t&&(u.pattern=EH)}),n._zod.check=l=>{const u=l.value;if(t){if(!Number.isInteger(u)){l.issues.push({expected:s,format:e.format,code:"invalid_type",input:u,inst:n});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:s,continue:!e.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:n,origin:s,continue:!e.abort});return}}u<i&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:n,continue:!e.abort}),u>a&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:a,inst:n})}}),kH=fe("$ZodCheckMaxLength",(n,e)=>{var t;Un.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!ab(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(s._zod.bag.maximum=e.maximum)}),n._zod.check=s=>{const i=s.value;if(i.length<=e.maximum)return;const l=lb(i);s.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),NH=fe("$ZodCheckMinLength",(n,e)=>{var t;Un.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!ab(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(s._zod.bag.minimum=e.minimum)}),n._zod.check=s=>{const i=s.value;if(i.length>=e.minimum)return;const l=lb(i);s.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),PH=fe("$ZodCheckLengthEquals",(n,e)=>{var t;Un.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!ab(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),n._zod.check=s=>{const i=s.value,a=i.length;if(a===e.length)return;const l=lb(i),u=a>e.length;s.issues.push({origin:l,...u?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:n,continue:!e.abort})}}),Gh=fe("$ZodCheckStringFormat",(n,e)=>{var t,s;Un.init(n,e),n._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(s=n._zod).check??(s.check=()=>{})}),OH=fe("$ZodCheckRegex",(n,e)=>{Gh.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),LH=fe("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=RH),Gh.init(n,e)}),jH=fe("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=TH),Gh.init(n,e)}),IH=fe("$ZodCheckIncludes",(n,e)=>{Un.init(n,e);const t=Vh(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=s,n._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),n._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:n,continue:!e.abort})}}),FH=fe("$ZodCheckStartsWith",(n,e)=>{Un.init(n,e);const t=new RegExp(`^${Vh(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:n,continue:!e.abort})}}),zH=fe("$ZodCheckEndsWith",(n,e)=>{Un.init(n,e);const t=new RegExp(`.*${Vh(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:n,continue:!e.abort})}}),$H=fe("$ZodCheckOverwrite",(n,e)=>{Un.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class BH{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(l=>l),i=Math.min(...s.map(l=>l.length-l.trimStart().length)),a=s.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,t=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...t,i.join(`
`))}}const HH={major:4,minor:0,patch:8},jt=fe("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=HH;const s=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&s.unshift(n);for(const i of s)for(const a of i._zod.onattach)a(n);if(s.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const i=(a,l,u)=>{let d=ac(a),f;for(const p of l){if(p._zod.def.when){if(!p._zod.def.when(a))continue}else if(d)continue;const g=a.issues.length,m=p._zod.check(a);if(m instanceof Promise&&u?.async===!1)throw new wc;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,a.issues.length!==g&&(d||(d=ac(a,g)))});else{if(a.issues.length===g)continue;d||(d=ac(a,g))}}return f?f.then(()=>a):a};n._zod.run=(a,l)=>{const u=n._zod.parse(a,l);if(u instanceof Promise){if(l.async===!1)throw new wc;return u.then(d=>i(d,s,l))}return i(u,s,l)}}n["~standard"]={validate:i=>{try{const a=tH(n,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return nH(n,i).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),ub=fe("$ZodString",(n,e)=>{jt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??AH(n._zod.bag),n._zod.parse=(t,s)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),Mt=fe("$ZodStringFormat",(n,e)=>{Gh.init(n,e),ub.init(n,e)}),VH=fe("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=uH),Mt.init(n,e)}),UH=fe("$ZodUUID",(n,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=a_(s))}else e.pattern??(e.pattern=a_());Mt.init(n,e)}),GH=fe("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=dH),Mt.init(n,e)}),qH=fe("$ZodURL",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{try{const s=t.value.trim(),i=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:yH.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=i.href:t.value=s;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),YH=fe("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=fH()),Mt.init(n,e)}),XH=fe("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=lH),Mt.init(n,e)}),ZH=fe("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=sH),Mt.init(n,e)}),WH=fe("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=iH),Mt.init(n,e)}),KH=fe("$ZodULID",(n,e)=>{e.pattern??(e.pattern=rH),Mt.init(n,e)}),QH=fe("$ZodXID",(n,e)=>{e.pattern??(e.pattern=aH),Mt.init(n,e)}),JH=fe("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=oH),Mt.init(n,e)}),eV=fe("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=_H(e)),Mt.init(n,e)}),tV=fe("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=xH),Mt.init(n,e)}),nV=fe("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=SH(e)),Mt.init(n,e)}),sV=fe("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=cH),Mt.init(n,e)}),iV=fe("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=pH),Mt.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv4"})}),rV=fe("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=gH),Mt.init(n,e),n._zod.onattach.push(t=>{const s=t._zod.bag;s.format="ipv6"}),n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),aV=fe("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=mH),Mt.init(n,e)}),oV=fe("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=vH),Mt.init(n,e),n._zod.check=t=>{const[s,i]=t.value.split("/");try{if(!i)throw new Error;const a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function AR(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const lV=fe("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=bH),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64"}),n._zod.check=t=>{AR(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function cV(n){if(!bR.test(n))return!1;const e=n.replace(/[-_]/g,s=>s==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return AR(t)}const uV=fe("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=bR),Mt.init(n,e),n._zod.onattach.push(t=>{t._zod.bag.contentEncoding="base64url"}),n._zod.check=t=>{cV(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),dV=fe("$ZodE164",(n,e)=>{e.pattern??(e.pattern=wH),Mt.init(n,e)});function hV(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[s]=t;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const fV=fe("$ZodJWT",(n,e)=>{Mt.init(n,e),n._zod.check=t=>{hV(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),ER=fe("$ZodNumber",(n,e)=>{jt.init(n,e),n._zod.pattern=n._zod.bag.pattern??CH,n._zod.parse=(t,s)=>{if(e.coerce)try{t.value=Number(t.value)}catch{}const i=t.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return t;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return t.issues.push({expected:"number",code:"invalid_type",input:i,inst:n,...a?{received:a}:{}}),t}}),pV=fe("$ZodNumber",(n,e)=>{DH.init(n,e),ER.init(n,e)}),gV=fe("$ZodAny",(n,e)=>{jt.init(n,e),n._zod.parse=t=>t}),mV=fe("$ZodUnknown",(n,e)=>{jt.init(n,e),n._zod.parse=t=>t}),vV=fe("$ZodNever",(n,e)=>{jt.init(n,e),n._zod.parse=(t,s)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function o_(n,e,t){n.issues.length&&e.issues.push(...hR(t,n.issues)),e.value[t]=n.value}const bV=fe("$ZodArray",(n,e)=>{jt.init(n,e),n._zod.parse=(t,s)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:n}),t;t.value=Array(i.length);const a=[];for(let l=0;l<i.length;l++){const u=i[l],d=e.element._zod.run({value:u,issues:[]},s);d instanceof Promise?a.push(d.then(f=>o_(f,t,l))):o_(d,t,l)}return a.length?Promise.all(a).then(()=>t):t}});function Md(n,e,t,s){n.issues.length&&e.issues.push(...hR(t,n.issues)),n.value===void 0?t in s&&(e.value[t]=void 0):e.value[t]=n.value}const yV=fe("$ZodObject",(n,e)=>{jt.init(n,e);const t=uR(()=>{const g=Object.keys(e.shape);for(const b of g)if(!(e.shape[b]instanceof jt))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const m=VB(e.shape);return{shape:e.shape,keys:g,keySet:new Set(g),numKeys:g.length,optionalKeys:new Set(m)}});At(n._zod,"propValues",()=>{const g=e.shape,m={};for(const b in g){const S=g[b]._zod;if(S.values){m[b]??(m[b]=new Set);for(const x of S.values)m[b].add(x)}}return m});const s=g=>{const m=new BH(["shape","payload","ctx"]),b=t.value,S=C=>{const T=r_(C);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};m.write("const input = payload.value;");const x=Object.create(null);let A=0;for(const C of b.keys)x[C]=`key_${A++}`;m.write("const newResult = {}");for(const C of b.keys){const T=x[C],D=r_(C);m.write(`const ${T} = ${S(C)};`),m.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        if (${T}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${T}.value;
        }
      `)}m.write("payload.value = newResult;"),m.write("return payload;");const E=m.compile();return(C,T)=>E(g,C,T)};let i;const a=Nm,l=!cR.jitless,d=l&&BB.value,f=e.catchall;let p;n._zod.parse=(g,m)=>{p??(p=t.value);const b=g.value;if(!a(b))return g.issues.push({expected:"object",code:"invalid_type",input:b,inst:n}),g;const S=[];if(l&&d&&m?.async===!1&&m.jitless!==!0)i||(i=s(e.shape)),g=i(g,m);else{g.value={};const T=p.shape;for(const D of p.keys){const O=T[D]._zod.run({value:b[D],issues:[]},m);O instanceof Promise?S.push(O.then(L=>Md(L,g,D,b))):Md(O,g,D,b)}}if(!f)return S.length?Promise.all(S).then(()=>g):g;const x=[],A=p.keySet,E=f._zod,C=E.def.type;for(const T of Object.keys(b)){if(A.has(T))continue;if(C==="never"){x.push(T);continue}const D=E.run({value:b[T],issues:[]},m);D instanceof Promise?S.push(D.then(M=>Md(M,g,T,b))):Md(D,g,T,b)}return x.length&&g.issues.push({code:"unrecognized_keys",keys:x,input:b,inst:n}),S.length?Promise.all(S).then(()=>g):g}});function l_(n,e,t,s){for(const a of n)if(a.issues.length===0)return e.value=a.value,e;const i=n.filter(a=>!ac(a));return i.length>0?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(a=>a.issues.map(l=>ua(l,s,ca())))}),e)}const wV=fe("$ZodUnion",(n,e)=>{jt.init(n,e),At(n._zod,"optin",()=>e.options.some(t=>t._zod.optin==="optional")?"optional":void 0),At(n._zod,"optout",()=>e.options.some(t=>t._zod.optout==="optional")?"optional":void 0),At(n._zod,"values",()=>{if(e.options.every(t=>t._zod.values))return new Set(e.options.flatMap(t=>Array.from(t._zod.values)))}),At(n._zod,"pattern",()=>{if(e.options.every(t=>t._zod.pattern)){const t=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${t.map(s=>ob(s.source)).join("|")})$`)}}),n._zod.parse=(t,s)=>{let i=!1;const a=[];for(const l of e.options){const u=l._zod.run({value:t.value,issues:[]},s);if(u instanceof Promise)a.push(u),i=!0;else{if(u.issues.length===0)return u;a.push(u)}}return i?Promise.all(a).then(l=>l_(l,t,n,s)):l_(a,t,n,s)}}),xV=fe("$ZodIntersection",(n,e)=>{jt.init(n,e),n._zod.parse=(t,s)=>{const i=t.value,a=e.left._zod.run({value:i,issues:[]},s),l=e.right._zod.run({value:i,issues:[]},s);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([d,f])=>c_(t,d,f)):c_(t,a,l)}});function Om(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Pm(n)&&Pm(e)){const t=Object.keys(e),s=Object.keys(n).filter(a=>t.indexOf(a)!==-1),i={...n,...e};for(const a of s){const l=Om(n[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};i[a]=l.data}return{valid:!0,data:i}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let s=0;s<n.length;s++){const i=n[s],a=e[s],l=Om(i,a);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};t.push(l.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function c_(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),ac(n))return n;const s=Om(e.value,t.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return n.value=s.data,n}const SV=fe("$ZodEnum",(n,e)=>{jt.init(n,e);const t=zB(e.entries),s=new Set(t);n._zod.values=s,n._zod.pattern=new RegExp(`^(${t.filter(i=>HB.has(typeof i)).map(i=>typeof i=="string"?Vh(i):i.toString()).join("|")})$`),n._zod.parse=(i,a)=>{const l=i.value;return s.has(l)||i.issues.push({code:"invalid_value",values:t,input:l,inst:n}),i}}),_V=fe("$ZodTransform",(n,e)=>{jt.init(n,e),n._zod.parse=(t,s)=>{const i=e.transform(t.value,t);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(t.value=l,t));if(i instanceof Promise)throw new wc;return t.value=i,t}}),AV=fe("$ZodOptional",(n,e)=>{jt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",At(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),At(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${ob(t.source)})?$`):void 0}),n._zod.parse=(t,s)=>e.innerType._zod.optin==="optional"?e.innerType._zod.run(t,s):t.value===void 0?t:e.innerType._zod.run(t,s)}),EV=fe("$ZodNullable",(n,e)=>{jt.init(n,e),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),At(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${ob(t.source)}|null)$`):void 0}),At(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,s)=>t.value===null?t:e.innerType._zod.run(t,s)}),CV=fe("$ZodDefault",(n,e)=>{jt.init(n,e),n._zod.optin="optional",At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(t.value===void 0)return t.value=e.defaultValue,t;const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(a=>u_(a,e)):u_(i,e)}});function u_(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const RV=fe("$ZodPrefault",(n,e)=>{jt.init(n,e),n._zod.optin="optional",At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>(t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,s))}),TV=fe("$ZodNonOptional",(n,e)=>{jt.init(n,e),At(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(s=>s!==void 0)):void 0}),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(a=>d_(a,n)):d_(i,n)}});function d_(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const MV=fe("$ZodCatch",(n,e)=>{jt.init(n,e),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),At(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(a=>(t.value=a.value,a.issues.length&&(t.value=e.catchValue({...t,error:{issues:a.issues.map(l=>ua(l,s,ca()))},input:t.value}),t.issues=[]),t)):(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(a=>ua(a,s,ca()))},input:t.value}),t.issues=[]),t)}}),DV=fe("$ZodPipe",(n,e)=>{jt.init(n,e),At(n._zod,"values",()=>e.in._zod.values),At(n._zod,"optin",()=>e.in._zod.optin),At(n._zod,"optout",()=>e.out._zod.optout),At(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,s)=>{const i=e.in._zod.run(t,s);return i instanceof Promise?i.then(a=>h_(a,e,s)):h_(i,e,s)}});function h_(n,e,t){return n.issues.length?n:e.out._zod.run({value:n.value,issues:n.issues},t)}const kV=fe("$ZodReadonly",(n,e)=>{jt.init(n,e),At(n._zod,"propValues",()=>e.innerType._zod.propValues),At(n._zod,"values",()=>e.innerType._zod.values),At(n._zod,"optin",()=>e.innerType._zod.optin),At(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(f_):f_(i)}});function f_(n){return n.value=Object.freeze(n.value),n}const NV=fe("$ZodCustom",(n,e)=>{Un.init(n,e),jt.init(n,e),n._zod.parse=(t,s)=>t,n._zod.check=t=>{const s=t.value,i=e.fn(s);if(i instanceof Promise)return i.then(a=>p_(a,t,s,n));p_(i,t,s,n)}});function p_(n,e,t,s){if(!n){const i={code:"custom",input:t,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),e.issues.push(xc(i))}}class PV{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const s=t[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const s={...this.get(t)??{}};delete s.id;const i={...s,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function OV(){return new PV}const Dd=OV();function LV(n,e){return new n({type:"string",...Pe(e)})}function jV(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Pe(e)})}function g_(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(e)})}function IV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(e)})}function FV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(e)})}function zV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(e)})}function $V(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(e)})}function BV(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Pe(e)})}function HV(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(e)})}function VV(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(e)})}function UV(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(e)})}function GV(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(e)})}function qV(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(e)})}function YV(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(e)})}function XV(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(e)})}function ZV(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(e)})}function WV(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(e)})}function KV(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(e)})}function QV(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(e)})}function JV(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(e)})}function eU(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(e)})}function tU(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(e)})}function nU(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(e)})}function sU(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(e)})}function iU(n,e){return new n({type:"string",format:"date",check:"string_format",...Pe(e)})}function rU(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Pe(e)})}function aU(n,e){return new n({type:"string",format:"duration",check:"string_format",...Pe(e)})}function oU(n,e){return new n({type:"number",checks:[],...Pe(e)})}function lU(n,e){return new n({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(e)})}function cU(n){return new n({type:"any"})}function uU(n){return new n({type:"unknown"})}function dU(n,e){return new n({type:"never",...Pe(e)})}function m_(n,e){return new SR({check:"less_than",...Pe(e),value:n,inclusive:!1})}function qg(n,e){return new SR({check:"less_than",...Pe(e),value:n,inclusive:!0})}function v_(n,e){return new _R({check:"greater_than",...Pe(e),value:n,inclusive:!1})}function Yg(n,e){return new _R({check:"greater_than",...Pe(e),value:n,inclusive:!0})}function b_(n,e){return new MH({check:"multiple_of",...Pe(e),value:n})}function CR(n,e){return new kH({check:"max_length",...Pe(e),maximum:n})}function th(n,e){return new NH({check:"min_length",...Pe(e),minimum:n})}function RR(n,e){return new PH({check:"length_equals",...Pe(e),length:n})}function hU(n,e){return new OH({check:"string_format",format:"regex",...Pe(e),pattern:n})}function fU(n){return new LH({check:"string_format",format:"lowercase",...Pe(n)})}function pU(n){return new jH({check:"string_format",format:"uppercase",...Pe(n)})}function gU(n,e){return new IH({check:"string_format",format:"includes",...Pe(e),includes:n})}function mU(n,e){return new FH({check:"string_format",format:"starts_with",...Pe(e),prefix:n})}function vU(n,e){return new zH({check:"string_format",format:"ends_with",...Pe(e),suffix:n})}function Vc(n){return new $H({check:"overwrite",tx:n})}function bU(n){return Vc(e=>e.normalize(n))}function yU(){return Vc(n=>n.trim())}function wU(){return Vc(n=>n.toLowerCase())}function xU(){return Vc(n=>n.toUpperCase())}function SU(n,e,t){return new n({type:"array",element:e,...Pe(t)})}function _U(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Pe(t)})}function y_(n,e){try{var t=n()}catch(s){return e(s)}return t&&t.then?t.then(void 0,e):t}function AU(n,e){for(var t={};n.length;){var s=n[0],i=s.code,a=s.message,l=s.path.join(".");if(!t[l])if("unionErrors"in s){var u=s.unionErrors[0].errors[0];t[l]={message:u.message,type:u.code}}else t[l]={message:a,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return n.push(g)})}),e){var d=t[l].types,f=d&&d[s.code];t[l]=sb(l,e,t,i,f?[].concat(f,s.message):s.message)}n.shift()}return t}function EU(n,e){for(var t={};n.length;){var s=n[0],i=s.code,a=s.message,l=s.path.join(".");if(!t[l])if(s.code==="invalid_union"){var u=s.errors[0][0];t[l]={message:u.message,type:u.code}}else t[l]={message:a,type:i};if(s.code==="invalid_union"&&s.errors.forEach(function(p){return p.forEach(function(g){return n.push(g)})}),e){var d=t[l].types,f=d&&d[s.code];t[l]=sb(l,e,t,i,f?[].concat(f,s.message):s.message)}n.shift()}return t}function Uc(n,e,t){if(t===void 0&&(t={}),function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def}(n))return function(s,i,a){try{return Promise.resolve(y_(function(){return Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(l){return a.shouldUseNativeValidation&&Dm({},a),{errors:{},values:t.raw?Object.assign({},s):l}})},function(l){if(function(u){return Array.isArray(u?.issues)}(l))return{values:{},errors:s_(AU(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if(function(s){return"_zod"in s&&typeof s._zod=="object"}(n))return function(s,i,a){try{return Promise.resolve(y_(function(){return Promise.resolve((t.mode==="sync"?JB:eH)(n,s,e)).then(function(l){return a.shouldUseNativeValidation&&Dm({},a),{errors:{},values:t.raw?Object.assign({},s):l}})},function(l){if(function(u){return u instanceof cb}(l))return{values:{},errors:s_(EU(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const CU=fe("ZodISODateTime",(n,e)=>{eV.init(n,e),Pt.init(n,e)});function RU(n){return sU(CU,n)}const TU=fe("ZodISODate",(n,e)=>{tV.init(n,e),Pt.init(n,e)});function MU(n){return iU(TU,n)}const DU=fe("ZodISOTime",(n,e)=>{nV.init(n,e),Pt.init(n,e)});function kU(n){return rU(DU,n)}const NU=fe("ZodISODuration",(n,e)=>{sV.init(n,e),Pt.init(n,e)});function PU(n){return aU(NU,n)}const OU=(n,e)=>{cb.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>QB(n,t)},flatten:{value:t=>KB(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,km,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,km,2)}},isEmpty:{get(){return n.issues.length===0}}})},qh=fe("ZodError",OU,{Parent:Error}),LU=pR(qh),jU=gR(qh),IU=mR(qh),FU=vR(qh),tn=fe("ZodType",(n,e)=>(jt.init(n,e),n.def=e,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone({...e,checks:[...e.checks??[],...t.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),n.clone=(t,s)=>va(n,t,s),n.brand=()=>n,n.register=(t,s)=>(t.add(n,s),n),n.parse=(t,s)=>LU(n,t,s,{callee:n.parse}),n.safeParse=(t,s)=>IU(n,t,s),n.parseAsync=async(t,s)=>jU(n,t,s,{callee:n.parseAsync}),n.safeParseAsync=async(t,s)=>FU(n,t,s),n.spa=n.safeParseAsync,n.refine=(t,s)=>n.check(P6(t,s)),n.superRefine=t=>n.check(O6(t)),n.overwrite=t=>n.check(Vc(t)),n.optional=()=>__(n),n.nullable=()=>A_(n),n.nullish=()=>__(A_(n)),n.nonoptional=t=>E6(n,t),n.array=()=>d6(n),n.or=t=>p6([n,t]),n.and=t=>m6(n,t),n.transform=t=>E_(n,y6(t)),n.default=t=>S6(n,t),n.prefault=t=>A6(n,t),n.catch=t=>R6(n,t),n.pipe=t=>E_(n,t),n.readonly=()=>D6(n),n.describe=t=>{const s=n.clone();return Dd.add(s,{description:t}),s},Object.defineProperty(n,"description",{get(){return Dd.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return Dd.get(n);const s=n.clone();return Dd.add(s,t[0]),s},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),TR=fe("_ZodString",(n,e)=>{ub.init(n,e),tn.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...s)=>n.check(hU(...s)),n.includes=(...s)=>n.check(gU(...s)),n.startsWith=(...s)=>n.check(mU(...s)),n.endsWith=(...s)=>n.check(vU(...s)),n.min=(...s)=>n.check(th(...s)),n.max=(...s)=>n.check(CR(...s)),n.length=(...s)=>n.check(RR(...s)),n.nonempty=(...s)=>n.check(th(1,...s)),n.lowercase=s=>n.check(fU(s)),n.uppercase=s=>n.check(pU(s)),n.trim=()=>n.check(yU()),n.normalize=(...s)=>n.check(bU(...s)),n.toLowerCase=()=>n.check(wU()),n.toUpperCase=()=>n.check(xU())}),zU=fe("ZodString",(n,e)=>{ub.init(n,e),TR.init(n,e),n.email=t=>n.check(jV($U,t)),n.url=t=>n.check(BV(BU,t)),n.jwt=t=>n.check(nU(n6,t)),n.emoji=t=>n.check(HV(HU,t)),n.guid=t=>n.check(g_(w_,t)),n.uuid=t=>n.check(IV(kd,t)),n.uuidv4=t=>n.check(FV(kd,t)),n.uuidv6=t=>n.check(zV(kd,t)),n.uuidv7=t=>n.check($V(kd,t)),n.nanoid=t=>n.check(VV(VU,t)),n.guid=t=>n.check(g_(w_,t)),n.cuid=t=>n.check(UV(UU,t)),n.cuid2=t=>n.check(GV(GU,t)),n.ulid=t=>n.check(qV(qU,t)),n.base64=t=>n.check(JV(JU,t)),n.base64url=t=>n.check(eU(e6,t)),n.xid=t=>n.check(YV(YU,t)),n.ksuid=t=>n.check(XV(XU,t)),n.ipv4=t=>n.check(ZV(ZU,t)),n.ipv6=t=>n.check(WV(WU,t)),n.cidrv4=t=>n.check(KV(KU,t)),n.cidrv6=t=>n.check(QV(QU,t)),n.e164=t=>n.check(tU(t6,t)),n.datetime=t=>n.check(RU(t)),n.date=t=>n.check(MU(t)),n.time=t=>n.check(kU(t)),n.duration=t=>n.check(PU(t))});function js(n){return LV(zU,n)}const Pt=fe("ZodStringFormat",(n,e)=>{Mt.init(n,e),TR.init(n,e)}),$U=fe("ZodEmail",(n,e)=>{GH.init(n,e),Pt.init(n,e)}),w_=fe("ZodGUID",(n,e)=>{VH.init(n,e),Pt.init(n,e)}),kd=fe("ZodUUID",(n,e)=>{UH.init(n,e),Pt.init(n,e)}),BU=fe("ZodURL",(n,e)=>{qH.init(n,e),Pt.init(n,e)}),HU=fe("ZodEmoji",(n,e)=>{YH.init(n,e),Pt.init(n,e)}),VU=fe("ZodNanoID",(n,e)=>{XH.init(n,e),Pt.init(n,e)}),UU=fe("ZodCUID",(n,e)=>{ZH.init(n,e),Pt.init(n,e)}),GU=fe("ZodCUID2",(n,e)=>{WH.init(n,e),Pt.init(n,e)}),qU=fe("ZodULID",(n,e)=>{KH.init(n,e),Pt.init(n,e)}),YU=fe("ZodXID",(n,e)=>{QH.init(n,e),Pt.init(n,e)}),XU=fe("ZodKSUID",(n,e)=>{JH.init(n,e),Pt.init(n,e)}),ZU=fe("ZodIPv4",(n,e)=>{iV.init(n,e),Pt.init(n,e)}),WU=fe("ZodIPv6",(n,e)=>{rV.init(n,e),Pt.init(n,e)}),KU=fe("ZodCIDRv4",(n,e)=>{aV.init(n,e),Pt.init(n,e)}),QU=fe("ZodCIDRv6",(n,e)=>{oV.init(n,e),Pt.init(n,e)}),JU=fe("ZodBase64",(n,e)=>{lV.init(n,e),Pt.init(n,e)}),e6=fe("ZodBase64URL",(n,e)=>{uV.init(n,e),Pt.init(n,e)}),t6=fe("ZodE164",(n,e)=>{dV.init(n,e),Pt.init(n,e)}),n6=fe("ZodJWT",(n,e)=>{fV.init(n,e),Pt.init(n,e)}),MR=fe("ZodNumber",(n,e)=>{ER.init(n,e),tn.init(n,e),n.gt=(s,i)=>n.check(v_(s,i)),n.gte=(s,i)=>n.check(Yg(s,i)),n.min=(s,i)=>n.check(Yg(s,i)),n.lt=(s,i)=>n.check(m_(s,i)),n.lte=(s,i)=>n.check(qg(s,i)),n.max=(s,i)=>n.check(qg(s,i)),n.int=s=>n.check(x_(s)),n.safe=s=>n.check(x_(s)),n.positive=s=>n.check(v_(0,s)),n.nonnegative=s=>n.check(Yg(0,s)),n.negative=s=>n.check(m_(0,s)),n.nonpositive=s=>n.check(qg(0,s)),n.multipleOf=(s,i)=>n.check(b_(s,i)),n.step=(s,i)=>n.check(b_(s,i)),n.finite=()=>n;const t=n._zod.bag;n.minValue=Math.max(t.minimum??Number.NEGATIVE_INFINITY,t.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,n.maxValue=Math.min(t.maximum??Number.POSITIVE_INFINITY,t.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,n.isInt=(t.format??"").includes("int")||Number.isSafeInteger(t.multipleOf??.5),n.isFinite=!0,n.format=t.format??null});function s6(n){return oU(MR,n)}const i6=fe("ZodNumberFormat",(n,e)=>{pV.init(n,e),MR.init(n,e)});function x_(n){return lU(i6,n)}const r6=fe("ZodAny",(n,e)=>{gV.init(n,e),tn.init(n,e)});function a6(){return cU(r6)}const o6=fe("ZodUnknown",(n,e)=>{mV.init(n,e),tn.init(n,e)});function S_(){return uU(o6)}const l6=fe("ZodNever",(n,e)=>{vV.init(n,e),tn.init(n,e)});function c6(n){return dU(l6,n)}const u6=fe("ZodArray",(n,e)=>{bV.init(n,e),tn.init(n,e),n.element=e.element,n.min=(t,s)=>n.check(th(t,s)),n.nonempty=t=>n.check(th(1,t)),n.max=(t,s)=>n.check(CR(t,s)),n.length=(t,s)=>n.check(RR(t,s)),n.unwrap=()=>n.element});function d6(n,e){return SU(u6,n,e)}const h6=fe("ZodObject",(n,e)=>{yV.init(n,e),tn.init(n,e),At(n,"shape",()=>e.shape),n.keyof=()=>v6(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:S_()}),n.loose=()=>n.clone({...n._zod.def,catchall:S_()}),n.strict=()=>n.clone({...n._zod.def,catchall:c6()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>YB(n,t),n.merge=t=>XB(n,t),n.pick=t=>GB(n,t),n.omit=t=>qB(n,t),n.partial=(...t)=>ZB(DR,n,t[0]),n.required=(...t)=>WB(kR,n,t[0])});function Gc(n,e){const t={type:"object",get shape(){return ma(this,"shape",{...n}),this.shape},...Pe(e)};return new h6(t)}const f6=fe("ZodUnion",(n,e)=>{wV.init(n,e),tn.init(n,e),n.options=e.options});function p6(n,e){return new f6({type:"union",options:n,...Pe(e)})}const g6=fe("ZodIntersection",(n,e)=>{xV.init(n,e),tn.init(n,e)});function m6(n,e){return new g6({type:"intersection",left:n,right:e})}const Lm=fe("ZodEnum",(n,e)=>{SV.init(n,e),tn.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(s,i)=>{const a={};for(const l of s)if(t.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Lm({...e,checks:[],...Pe(i),entries:a})},n.exclude=(s,i)=>{const a={...e.entries};for(const l of s)if(t.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Lm({...e,checks:[],...Pe(i),entries:a})}});function v6(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,s])):n;return new Lm({type:"enum",entries:t,...Pe(e)})}const b6=fe("ZodTransform",(n,e)=>{_V.init(n,e),tn.init(n,e),n._zod.parse=(t,s)=>{t.addIssue=a=>{if(typeof a=="string")t.issues.push(xc(a,t.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=t.value),l.inst??(l.inst=n),t.issues.push(xc(l))}};const i=e.transform(t.value,t);return i instanceof Promise?i.then(a=>(t.value=a,t)):(t.value=i,t)}});function y6(n){return new b6({type:"transform",transform:n})}const DR=fe("ZodOptional",(n,e)=>{AV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function __(n){return new DR({type:"optional",innerType:n})}const w6=fe("ZodNullable",(n,e)=>{EV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function A_(n){return new w6({type:"nullable",innerType:n})}const x6=fe("ZodDefault",(n,e)=>{CV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function S6(n,e){return new x6({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():e}})}const _6=fe("ZodPrefault",(n,e)=>{RV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function A6(n,e){return new _6({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():e}})}const kR=fe("ZodNonOptional",(n,e)=>{TV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function E6(n,e){return new kR({type:"nonoptional",innerType:n,...Pe(e)})}const C6=fe("ZodCatch",(n,e)=>{MV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function R6(n,e){return new C6({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const T6=fe("ZodPipe",(n,e)=>{DV.init(n,e),tn.init(n,e),n.in=e.in,n.out=e.out});function E_(n,e){return new T6({type:"pipe",in:n,out:e})}const M6=fe("ZodReadonly",(n,e)=>{kV.init(n,e),tn.init(n,e),n.unwrap=()=>n._zod.def.innerType});function D6(n){return new M6({type:"readonly",innerType:n})}const k6=fe("ZodCustom",(n,e)=>{NV.init(n,e),tn.init(n,e)});function N6(n){const e=new Un({check:"custom"});return e._zod.check=n,e}function P6(n,e={}){return _U(k6,n,e)}function O6(n){const e=N6(t=>(t.addIssue=s=>{if(typeof s=="string")t.issues.push(xc(s,t.value,e._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=t.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),t.issues.push(xc(i))}},n(t.value,t)));return e}function ba({...n}){return y.jsx($1,{"data-slot":"dialog",...n})}function L6({...n}){return y.jsx(B1,{"data-slot":"dialog-portal",...n})}function NR({className:n,...e}){return y.jsx(H1,{"data-slot":"dialog-overlay",className:Se("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function ya({className:n,children:e,showCloseButton:t=!0,...s}){return y.jsxs(L6,{"data-slot":"dialog-portal",children:[y.jsx(NR,{}),y.jsxs(V1,{"data-slot":"dialog-content",className:Se("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...s,children:[e,t&&y.jsxs(Sv,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[y.jsx(Vd,{}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Bo({className:n,...e}){return y.jsx("div",{"data-slot":"dialog-header",className:Se("flex flex-col gap-2 text-center sm:text-left",n),...e})}function wa({className:n,...e}){return y.jsx("div",{"data-slot":"dialog-footer",className:Se("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function xa({className:n,...e}){return y.jsx(U1,{"data-slot":"dialog-title",className:Se("text-lg leading-none font-semibold",n),...e})}function Ho({className:n,...e}){return y.jsx(G1,{"data-slot":"dialog-description",className:Se("text-muted-foreground text-sm",n),...e})}var j6="Label",PR=_.forwardRef((n,e)=>y.jsx(Ke.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));PR.displayName=j6;var I6=PR;function F6({className:n,...e}){return y.jsx(I6,{"data-slot":"label",className:Se("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const qc=xB,OR=_.createContext({}),ws=({...n})=>y.jsx(OR.Provider,{value:{name:n.name},children:y.jsx(AB,{...n})}),db=()=>{const n=_.useContext(OR),e=_.useContext(LR),{getFieldState:t}=Hh(),s=tR({name:n.name}),i=t(n.name,s);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:n.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},LR=_.createContext({});function xs({className:n,...e}){const t=_.useId();return y.jsx(LR.Provider,{value:{id:t},children:y.jsx("div",{"data-slot":"form-item",className:Se("grid gap-2",n),...e})})}function Ss({className:n,...e}){const{error:t,formItemId:s}=db();return y.jsx(F6,{"data-slot":"form-label","data-error":!!t,className:Se("data-[error=true]:text-destructive",n),htmlFor:s,...e})}function _s({...n}){const{error:e,formItemId:t,formDescriptionId:s,formMessageId:i}=db();return y.jsx(fa,{"data-slot":"form-control",id:t,"aria-describedby":e?`${s} ${i}`:`${s}`,"aria-invalid":!!e,...n})}function As({className:n,...e}){const{error:t,formMessageId:s}=db(),i=t?String(t?.message??""):e.children;return i?y.jsx("p",{"data-slot":"form-message",id:s,className:Se("text-destructive text-sm",n),...e,children:i}):null}function Yc({className:n,...e}){return y.jsx("textarea",{"data-slot":"textarea",className:Se("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}const z6=Gc({name:js().min(1,"Project name is required").max(100,"Project name must be less than 100 characters"),description:js().max(500,"Description must be less than 500 characters").optional(),version:s6().int(),contact_name:js().min(1,"Contact name is required").max(100,"Contact name must be less than 100 characters"),contact_email:js().min(1,"Contact email is required").max(100,"Contact email must be less than 100 characters").email("Please enter a valid email address"),password:js().min(8,"Password must be at least 8 characters long")});function $6({isOpen:n,onClose:e,onSubmit:t}){const s=Hc({resolver:Uc(z6),defaultValues:{name:"",description:"",version:1,contact_name:"",contact_email:"",password:""}}),i=async l=>{try{const u={name:l.name.trim(),contact_name:l.contact_name.trim(),contact_email:l.contact_email.trim(),password:l.password,version:l.version||1};l.description?.trim()&&(u.description=l.description.trim()),await t(u),s.reset(),e()}catch(u){console.error("Failed to create project:",u)}},a=()=>{s.formState.isSubmitting||(s.reset(),e())};return y.jsx(ba,{open:n,onOpenChange:a,children:y.jsxs(ya,{className:"sm:max-w-[500px]",children:[y.jsxs(Bo,{children:[y.jsx(xa,{children:"Create New Project"}),y.jsx(Ho,{children:"Fill in the details below to create a new project. All fields marked with * are required."})]}),y.jsx(qc,{...s,children:y.jsxs("form",{onSubmit:s.handleSubmit(i),className:"space-y-4",children:[y.jsx(ws,{control:s.control,name:"name",render:({field:l})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Project Name *"}),y.jsx(_s,{children:y.jsx(li,{placeholder:"Enter project name",...l})}),y.jsx(As,{})]})}),y.jsx(ws,{control:s.control,name:"description",render:({field:l})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Description"}),y.jsx(_s,{children:y.jsx(Yc,{placeholder:"Enter project description (optional)",...l,rows:3})}),y.jsx(As,{})]})}),y.jsx(ws,{control:s.control,name:"contact_name",render:({field:l})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Contact Name *"}),y.jsx(_s,{children:y.jsx(li,{placeholder:"Enter contact name",...l})}),y.jsx(As,{})]})}),y.jsx(ws,{control:s.control,name:"contact_email",render:({field:l})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Contact Email *"}),y.jsx(_s,{children:y.jsx(li,{type:"email",placeholder:"Enter contact email",...l})}),y.jsx(As,{})]})}),y.jsx(ws,{control:s.control,name:"password",render:({field:l})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Project Password *"}),y.jsx(_s,{children:y.jsx(li,{type:"password",placeholder:"Enter password (min. 8 characters)",...l})}),y.jsx(As,{}),y.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"This password will be used to encrypt and protect project documents."})]})}),y.jsxs(wa,{children:[y.jsx(He,{type:"button",variant:"outline",onClick:a,disabled:s.formState.isSubmitting,children:"Cancel"}),y.jsxs(He,{type:"submit",disabled:s.formState.isSubmitting,children:[s.formState.isSubmitting&&y.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Project"]})]})]})})]})})}const B6=Gc({name:js().min(1,"Project name is required"),description:js().optional()});function H6({isOpen:n,onClose:e,onSubmit:t,project:s}){const i=Hc({resolver:Uc(B6),defaultValues:{name:"",description:""}});_.useEffect(()=>{n&&s&&i.reset({name:s.name,description:s.description||""})},[n,s,i]);const a=async u=>{try{const d={name:u.name.trim(),description:u.description?.trim()||""};await t(d),i.reset(),e()}catch(d){console.error("Failed to update project:",d)}},l=()=>{i.formState.isSubmitting||(i.reset(),e())};return y.jsx(ba,{open:n,onOpenChange:l,children:y.jsxs(ya,{className:"sm:max-w-[500px]",children:[y.jsxs(Bo,{children:[y.jsx(xa,{children:"Edit Project"}),y.jsx(Ho,{children:"Update the project name and description. All fields marked with * are required."})]}),y.jsx(qc,{...i,children:y.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[y.jsx(ws,{control:i.control,name:"name",render:({field:u})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Project Name *"}),y.jsx(_s,{children:y.jsx(li,{placeholder:"Enter project name",...u})}),y.jsx(As,{})]})}),y.jsx(ws,{control:i.control,name:"description",render:({field:u})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Description"}),y.jsx(_s,{children:y.jsx(Yc,{placeholder:"Enter project description (optional)",...u,rows:3})}),y.jsx(As,{})]})}),y.jsxs(wa,{children:[y.jsx(He,{type:"button",variant:"outline",onClick:l,disabled:i.formState.isSubmitting,children:"Cancel"}),y.jsxs(He,{type:"submit",disabled:i.formState.isSubmitting,children:[i.formState.isSubmitting&&y.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Project"]})]})]})})]})})}function Sc({isOpen:n,onClose:e,onConfirm:t,title:s,description:i,confirmationText:a,confirmButtonText:l="Confirm",variant:u="destructive"}){const[d,f]=_.useState(!1),p=Gc({confirmation:js().refine(A=>A.toLowerCase()===a.toLowerCase(),{message:`You must type "${a}" to confirm`})}),g=Hc({resolver:Uc(p),defaultValues:{confirmation:""}});_.useEffect(()=>{n&&g.reset()},[n,g]);const m=async A=>{if(A.confirmation.toLowerCase()===a.toLowerCase()){f(!0);try{await t(),g.reset(),e()}catch(E){console.error("Error during confirmation action:",E)}finally{f(!1)}}},b=()=>{d||(g.reset(),e())},x=g.watch("confirmation")?.toLowerCase()===a.toLowerCase();return y.jsx(ba,{open:n,onOpenChange:b,children:y.jsxs(ya,{className:"sm:max-w-[425px]",children:[y.jsxs(Bo,{className:"space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(FO,{className:`h-5 w-5 ${u==="destructive"?"text-destructive":"text-warning"}`}),y.jsx(xa,{className:u==="destructive"?"text-destructive":"",children:s})]}),y.jsxs(Ho,{className:"text-left",children:[i,y.jsx("br",{}),y.jsx("br",{}),"To confirm, please type"," ",y.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-sm font-mono",children:a})," ","in the field below."]})]}),y.jsx(qc,{...g,children:y.jsxs("form",{onSubmit:g.handleSubmit(m),className:"space-y-4",children:[y.jsx(ws,{control:g.control,name:"confirmation",render:({field:A})=>y.jsxs(xs,{children:[y.jsxs(Ss,{children:['Type "',a,'" to confirm']}),y.jsx(_s,{children:y.jsx(li,{placeholder:a,...A,disabled:d,autoComplete:"off",className:"font-mono"})}),y.jsx(As,{})]})}),y.jsxs(wa,{className:"gap-2",children:[y.jsx(He,{type:"button",variant:"outline",onClick:b,disabled:d,children:"Cancel"}),y.jsxs(He,{type:"submit",variant:u,disabled:d||!x,children:[d&&y.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),d?"Processing...":l]})]})]})})]})})}const C_=["There is no place like ████████…","It's not a bug. It's an undocumented redaction…","You shall not pass… this security boundary…","sudo hide the evidence…","Welcome, agent. This message will self-destruct…","Compiling plausible deniability…","01101100 01101111 01101100 — nothing to see here…","The classified is a lie…","Fetching metadata from /dev/null…","All your docs are belong to us…","Encryption complete. Trust no one…","Shredding digital paper trail…","Loading classified assets from █████…","Initializing quantum obfuscation…","Warning: This message never existed…","Access granted. Welcome to the █████…","Deploying smoke and mirrors…","Running security through obscurity…","Preparing files for the memory hole…","Executing plausible deniability protocol…"];function V6(){const n=Math.floor(Math.random()*C_.length);return C_[n]}function U6({className:n,...e}){return y.jsx("div",{"data-slot":"widget",className:Se("bg-muted/50 flex flex-col gap-4 rounded-md py-4",n),...e})}function G6({className:n,...e}){return y.jsx("div",{"data-slot":"widget-header",className:Se("flex flex-col gap-1.5 px-4",n),...e})}function q6({className:n,...e}){return y.jsx("div",{"data-slot":"widget-title",className:Se("leading-none font-semibold",n),...e})}function Y6({className:n,...e}){return y.jsx("div",{"data-slot":"widget-title",className:Se("text-muted-foreground text-sm",n),...e})}function X6(){const[n,e]=_.useState([]),[t,s]=_.useState([]),[i,a]=_.useState(!1),[l,u]=_.useState(!1),[d,f]=_.useState(!1),[p,g]=_.useState(!1),[m,b]=_.useState(null),[S,x]=_.useState(null);_.useEffect(()=>{fetch("/api/projects").then(j=>{if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);return j.json()}).then(j=>{console.log("Projects loaded:",j.length,"projects"),e(j)}).catch(j=>{console.error("Error fetching projects:",j),ot.error("Failed to load projects",{description:"Please refresh the page to try again."})})},[]);const A=_.useCallback(j=>{s(j)},[]),E=_.useCallback(async()=>{const j=t.length,U=t.map($=>$.name).join(", ");try{const $=t.map(Z=>fetch(`/api/projects/id/${Z.id}`,{method:"DELETE"}));await Promise.all($);const K=await fetch("/api/projects");if(K.ok){const Z=await K.json();e(Z),s([]),ot.success(`Successfully deleted ${j} project${j!==1?"s":""}`,{description:j===1?`Deleted "${U}"`:`Deleted ${j} projects`})}else throw new Error("Failed to refresh project list after deletion")}catch($){throw console.error("Error deleting projects:",$),ot.error("Failed to delete projects",{description:$ instanceof Error?$.message:"Please try again."}),$}},[t]),C=_.useCallback(async j=>{try{const U=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(U.ok){const $=await fetch("/api/projects");if($.ok){const K=await $.json();e(K),ot.success("Project created successfully",{description:`Created "${j.name}"`})}else throw new Error("Failed to refresh project list after creation")}else{const $=await U.json().catch(()=>({}));throw new Error($.message||`Failed to create project (${U.status})`)}}catch(U){throw console.error("Error creating project:",U),ot.error("Failed to create project",{description:U instanceof Error?U.message:"Please try again."}),U}},[]),T=_.useCallback(j=>{b(j),g(!0)},[]),D=_.useCallback(async()=>{if(m)try{const j=await fetch(`/api/projects/id/${m.id}`,{method:"DELETE"});if(j.ok){const U=await fetch("/api/projects");if(U.ok){const $=await U.json();e($),ot.success("Project deleted successfully",{description:`Deleted "${m.name}"`})}else throw new Error("Failed to refresh project list after deletion")}else{const U=await j.text().catch(()=>"Unknown error");throw new Error(`Failed to delete project (${j.status}): ${U}`)}}catch(j){throw console.error("Error deleting project:",j),ot.error("Failed to delete project",{description:j instanceof Error?j.message:"Please try again."}),j}},[m]),M=_.useCallback(j=>{x(j),u(!0)},[]),O=_.useCallback(async j=>{if(S)try{const U=await fetch(`/api/projects/id/${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.name.trim(),description:j.description.trim()})});if(U.ok){const $=await fetch("/api/projects");if($.ok){const K=await $.json();e(K),ot.success("Project updated successfully",{description:`Updated "${j.name}"`})}else throw new Error("Failed to refresh project list after update")}else{const $=await U.json().catch(()=>({}));throw new Error($.message||`Failed to update project (${U.status})`)}}catch(U){throw console.error("Error updating project:",U),ot.error("Failed to update project",{description:U instanceof Error?U.message:"Please try again."}),U}},[S]),L=_.useCallback(async j=>{const U=j.obfuscated_count||0;if(U===0){ot.error("No obfuscated files available",{description:"This project has no obfuscated files to download."});return}const $=ot.loading("Preparing download...",{description:`Collecting ${U} obfuscated file${U!==1?"s":""}`});try{const K=await fetch(`/api/projects/id/${j.id}/files/obfuscated/download`);if(K.ok){const Z=await K.blob(),ce=window.URL.createObjectURL(Z),ae=document.createElement("a");ae.href=ce,ae.download=`${j.name}_obfuscated_files.zip`,document.body.appendChild(ae),ae.click(),window.URL.revokeObjectURL(ce),document.body.removeChild(ae),ot.success("Download started successfully",{id:$,description:`Downloaded ${U} obfuscated file${U!==1?"s":""} from "${j.name}"`})}else{const Z=await K.text().catch(()=>"Unknown error");throw new Error(`Server error (${K.status}): ${Z}`)}}catch(K){console.error("Error downloading obfuscated files:",K),ot.error("Download failed",{id:$,description:K instanceof Error?K.message:"Failed to download obfuscated files. Please try again."})}},[]),I=_.useMemo(()=>[Ps.text("name").sortable().withClass("font-medium").build(),Ps.text("description").header("Description").truncate().build(),Ps.badge("document_count").sortable("Documents").build(),Ps.badge("obfuscated_count").sortable("Obfuscated").build(),Ps.status("status").sortable().build(),Ps.date("created_at").sortable("Created").build(),Ps.date("updated_at").sortable("Updated").build(),WC.create().copy(j=>j.id,"Copy project ID",j=>({title:"Project ID copied to clipboard",description:`ID: ${j}`})).separator().custom({label:"View Documents",icon:pv,onClick:j=>{window.location.href=`/projects/${j.id}/documents`}}).download(L,"Download obfuscated files").edit(M,"Edit project").delete(T,"Delete project").build()],[M,T,L]);return y.jsxs(y.Fragment,{children:[y.jsx(U6,{children:y.jsxs(G6,{children:[y.jsxs(q6,{children:["Projects ",`(${n?.length})`||"Loading..."]}),y.jsx(Y6,{children:y.jsx("span",{children:V6()})})]})}),n.length>0?y.jsx(ZC,{columns:I,data:n,searchKey:"name",searchPlaceholder:"Search projects...",onRowSelectionChange:A,pageSize:10}):y.jsx(kC,{message:"No projects found",buttonText:"Create your first project",buttonIcon:y.jsx(fc,{className:"h-4 w-4"}),onButtonClick:()=>a(!0)}),y.jsx($6,{isOpen:i,onClose:()=>a(!1),onSubmit:C}),y.jsx(H6,{isOpen:l,onClose:()=>{u(!1),x(null)},onSubmit:O,project:S}),y.jsx(Sc,{isOpen:d,onClose:()=>f(!1),onConfirm:E,title:"Delete Projects",description:`You are about to permanently delete ${t.length} project${t.length!==1?"s":""}. This action cannot be undone and will remove all associated data including documents, files, and configurations.`,confirmationText:"delete",confirmButtonText:"Delete Forever",variant:"destructive"}),y.jsx(Sc,{isOpen:p,onClose:()=>{g(!1),b(null)},onConfirm:D,title:"Delete Project",description:`You are about to permanently delete the project "${m?.name}". This action cannot be undone and will remove all associated data including documents, files, and configurations.`,confirmationText:"delete",confirmButtonText:"Delete Forever",variant:"destructive"})]})}function Z6({isOpen:n,onClose:e,onConfirm:t,error:s,isLoading:i}){const[a,l]=_.useState(""),u=()=>{a.trim()&&t(a)},d=()=>{l(""),e()},f=p=>{p.key==="Enter"&&!i&&u()};return y.jsxs(ba,{open:n,onOpenChange:d,children:[y.jsx(NR,{}),y.jsxs(ya,{children:[y.jsx(xa,{children:"Enter Password"}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(li,{type:"password",placeholder:"Enter your password",value:a,onChange:p=>l(p.target.value),onKeyDown:f,disabled:i}),s&&y.jsx("p",{className:"text-sm text-destructive",children:s})]}),y.jsxs(wa,{children:[y.jsx(He,{variant:"secondary",onClick:d,disabled:i,children:"Cancel"}),y.jsx(He,{onClick:u,disabled:i||!a.trim(),children:i?"Validating...":"Confirm"})]})]})]})}const W6=Gc({files:a6().refine(n=>n&&n.length>0,"At least one file is required"),description:js().optional(),password:js().min(1,"Password is required")});function K6({isOpen:n,onClose:e,onSubmit:t,projectId:s}){const i=Hc({resolver:Uc(W6),defaultValues:{description:"",password:""}}),a=async u=>{try{const d={project_id:s,files:u.files,password:u.password.trim()};u.description?.trim()&&(d.template_description=u.description.trim()),await t(d),i.reset({description:"",password:""}),e()}catch(d){console.error("Failed to upload documents:",d)}},l=()=>{i.formState.isSubmitting||(i.reset({description:"",password:""}),e())};return y.jsx(ba,{open:n,onOpenChange:l,children:y.jsxs(ya,{className:"sm:max-w-[500px]",children:[y.jsxs(Bo,{children:[y.jsx(xa,{children:"Upload Documents"}),y.jsx(Ho,{children:"Select PDF files to upload as documents. Provide a description template if needed."})]}),y.jsx(qc,{...i,children:y.jsxs("form",{onSubmit:i.handleSubmit(a),className:"space-y-4",children:[y.jsx(ws,{control:i.control,name:"files",render:({field:u})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Files *"}),y.jsx(_s,{children:y.jsx(li,{type:"file",multiple:!0,accept:".pdf",onChange:d=>u.onChange(d.target.files)})}),y.jsx(As,{})]})}),y.jsx(ws,{control:i.control,name:"description",render:({field:u})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Description Template"}),y.jsx(_s,{children:y.jsx(Yc,{placeholder:"Enter document description template (optional)",...u,rows:3})}),y.jsx(As,{})]})}),y.jsx(ws,{control:i.control,name:"password",render:({field:u})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Password *"}),y.jsx(_s,{children:y.jsx(li,{type:"password",placeholder:"Enter password",...u})}),y.jsx(As,{})]})}),y.jsxs(wa,{children:[y.jsx(He,{type:"button",variant:"outline",onClick:l,disabled:i.formState.isSubmitting,children:"Cancel"}),y.jsxs(He,{type:"submit",disabled:i.formState.isSubmitting,children:[i.formState.isSubmitting&&y.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),i.formState.isSubmitting?"Uploading...":"Upload Documents"]})]})]})})]})})}const Q6=Gc({description:js().optional()});function J6({isOpen:n,onClose:e,onSubmit:t,document:s}){const[i,a]=_.useState(!1),l=Hc({resolver:Uc(Q6),defaultValues:{description:s?.description||""}});_.useEffect(()=>{s&&l.reset({description:s.description||""})},[s,l]);const u=async f=>{a(!0);try{await t({description:f.description?.trim()}),e()}catch(p){console.error("Error editing document:",p)}a(!1)},d=()=>{i||e()};return y.jsx(ba,{open:n,onOpenChange:d,children:y.jsxs(ya,{className:"sm:max-w-[500px]",children:[y.jsxs(Bo,{children:[y.jsx(xa,{children:"Edit Document"}),y.jsx(Ho,{children:"Update the description of your document below."})]}),y.jsx(qc,{...l,children:y.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[y.jsx(ws,{control:l.control,name:"description",render:({field:f})=>y.jsxs(xs,{children:[y.jsx(Ss,{children:"Description"}),y.jsx(_s,{children:y.jsx(Yc,{placeholder:"Enter document description (optional)",...f,rows:3})}),y.jsx(As,{})]})}),y.jsxs(wa,{children:[y.jsx(He,{type:"button",variant:"outline",onClick:d,disabled:i,children:"Cancel"}),y.jsxs(He,{type:"submit",disabled:i,children:[i&&y.jsx(Dr,{className:"mr-2 h-4 w-4 animate-spin"}),i?"Saving...":"Save Changes"]})]})]})})]})})}const hb="sero_password_",fb="sero_password_expiry_",e5=30;function t5(n,e,t,s=e5){const i=`${hb}${n}_${e}`,a=`${fb}${n}_${e}`,l=Date.now()+s*60*1e3;try{sessionStorage.setItem(i,t),sessionStorage.setItem(a,l.toString())}catch(u){console.warn("Failed to store password in sessionStorage:",u)}}function R_(n,e){const t=`${hb}${n}_${e}`,s=`${fb}${n}_${e}`;try{const i=sessionStorage.getItem(t),a=sessionStorage.getItem(s);if(!i||!a)return null;const l=parseInt(a,10);return Date.now()>l?(n5(n,e),null):i}catch(i){return console.warn("Failed to retrieve password from sessionStorage:",i),null}}function n5(n,e){const t=`${hb}${n}_${e}`,s=`${fb}${n}_${e}`;try{sessionStorage.removeItem(t),sessionStorage.removeItem(s)}catch(i){console.warn("Failed to clear password from sessionStorage:",i)}}function s5(n){const e=jA(),[t,s]=_.useState(!1),[i,a]=_.useState(null),[l,u]=_.useState(!1),[d,f]=_.useState(null),p=_.useCallback((x,A,E)=>{f({document:x,fileType:A,action:E}),a(null),s(!0)},[]),g=_.useCallback(async x=>{if(!d||!n)return;const{document:A,fileType:E,action:C}=d,T=E==="original"?A.original_file:A.redacted_file;if(!T){a("File not found");return}u(!0),a(null);try{const D=await fetch(`/api/files/id/${T.id}/download?stream=true&password=${encodeURIComponent(x)}`,{method:"GET",headers:{Range:"bytes=0-0"}});if(D.ok||D.status===206){if(C==="view")t5(A.id,T.id,x),e(`/projects/${n}/documents/${A.id}/files/${T.id}`);else if(C==="download"){const M=`/api/files/id/${T.id}/download?password=${encodeURIComponent(x)}`,O=window.document.createElement("a");O.href=M,O.download=`document_${T.id}.pdf`,O.click();const L=E==="original"?"original":"redacted";ot.success("Download started",{description:`Downloading ${L} file: document_${T.id}.pdf`})}s(!1),f(null),a(null)}else D.status===401?a("Incorrect password. Please try again."):D.status===500?a("Server error accessing file. Please try again later."):a(`Error accessing file (${D.status}). Please try again.`)}catch(D){console.error("Password validation error:",D),a("Network error. Please try again.")}finally{u(!1)}},[d,n,e]),m=_.useCallback(()=>{s(!1),f(null),a(null)},[]),b=_.useCallback((x,A="original")=>{p(x,A,"view")},[p]),S=_.useCallback((x,A="original")=>{p(x,A,"download")},[p]);return{isPasswordDialogOpen:t,passwordError:i,isValidatingPassword:l,viewFile:b,downloadFile:S,requestFileAccess:p,handlePasswordConfirm:g,handlePasswordCancel:m}}function i5(){const{projectId:n}=IA(),[e,t]=_.useState(null),[s,i]=_.useState([]),[a,l]=_.useState([]),[u,d]=_.useState(!1),[f,p]=_.useState(!1),[g,m]=_.useState(!1),[b,S]=_.useState(!1),[x,A]=_.useState(null),[E,C]=_.useState(null),{isPasswordDialogOpen:T,passwordError:D,isValidatingPassword:M,viewFile:O,downloadFile:L,handlePasswordConfirm:I,handlePasswordCancel:j}=s5(n);_.useEffect(()=>{n&&(fetch(`/api/projects/id/${n}`).then(Y=>{if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);return Y.json()}).then(Y=>{console.log("Project loaded:",Y.name),t(Y)}).catch(Y=>{console.error("Error fetching project:",Y),ot.error("Failed to load project details",{description:"Please refresh the page to try again."})}),fetch(`/api/documents/search?project_id=${n}`).then(Y=>{if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);return Y.json()}).then(Y=>{console.log("Documents loaded:",Y.length,"documents"),i(Y)}).catch(Y=>{console.error("Error fetching documents:",Y),ot.error("Failed to load documents",{description:"Please refresh the page to try again."})}))},[n]);const U=_.useCallback(Y=>{l(Y)},[]),$=_.useCallback(()=>{a.length!==0&&d(!0)},[a]),K=_.useCallback(async Y=>{try{const P=new FormData;P.append("project_id",Y.project_id),Array.from(Y.files).forEach(se=>{P.append("files",se)}),P.append("password",Y.password),Y.template_description&&P.append("template_description",Y.template_description);const G=await fetch("/api/documents/bulk-upload",{method:"POST",body:P});if(G.ok){const se=await fetch(`/api/documents/search?project_id=${n}`);if(se.ok){const V=await se.json();i(V);const re=Y.files.length;ot.success(`Successfully uploaded ${re} document${re!==1?"s":""}`,{description:re===1?`Uploaded "${Y.files[0].name}"`:`Uploaded ${re} documents`})}else throw new Error("Failed to refresh document list after upload")}else{const se=await G.json().catch(()=>({}));throw new Error(se.message||`Failed to upload documents (${G.status})`)}}catch(P){throw console.error("Error uploading documents:",P),ot.error("Failed to upload documents",{description:P instanceof Error?P.message:"Please try again."}),P}},[n]),Z=_.useCallback(Y=>{A(Y),S(!0)},[]),ce=_.useCallback(async Y=>{if(x)try{const P=await fetch(`/api/documents/id/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:Y.description})});if(P.ok){const G=await fetch(`/api/documents/search?project_id=${n}`);if(G.ok){const se=await G.json();i(se),ot.success("Document updated successfully",{description:`Updated "${x.name||x.description||"Document"}"`})}else throw new Error("Failed to refresh document list after update")}else{const G=await P.json().catch(()=>({}));throw new Error(G.message||`Failed to update document (${P.status})`)}}catch(P){throw console.error("Error updating document:",P),ot.error("Failed to update document",{description:P instanceof Error?P.message:"Please try again."}),P}},[x,n]),ae=_.useCallback(Y=>{C(Y),p(!0)},[]),N=_.useCallback(async()=>{if(E)try{const Y=await fetch(`/api/documents/id/${E.id}`,{method:"DELETE"});if(Y.ok){const P=await fetch(`/api/documents/search?project_id=${n}`);if(P.ok){const G=await P.json();i(G),ot.success("Document deleted successfully",{description:`Deleted "${E.name||E.description||"Document"}"`})}else throw new Error("Failed to refresh document list after deletion")}else{const P=await Y.text().catch(()=>"Unknown error");throw new Error(`Failed to delete document (${Y.status}): ${P}`)}}catch(Y){throw console.error("Error deleting document:",Y),ot.error("Failed to delete document",{description:Y instanceof Error?Y.message:"Please try again."}),Y}},[E,n]),B=_.useCallback(async()=>{const Y=a.length,P=a.map(G=>G.name||G.description||"Untitled").join(", ");try{const G=a.map(V=>fetch(`/api/documents/id/${V.id}`,{method:"DELETE"}));await Promise.all(G);const se=await fetch(`/api/documents/search?project_id=${n}`);if(se.ok){const V=await se.json();i(V),l([]),ot.success(`Successfully deleted ${Y} document${Y!==1?"s":""}`,{description:Y===1?`Deleted "${P}"`:`Deleted ${Y} documents`})}else throw new Error("Failed to refresh document list after deletion")}catch(G){throw console.error("Error deleting documents:",G),ot.error("Failed to delete documents",{description:G instanceof Error?G.message:"Please try again."}),G}},[a,n]),q=_.useMemo(()=>[Ps.text("name").sortable().build(),Ps.text("description").header("Description").truncate().build(),Ps.date("created_at").sortable("Created").build(),Ps.date("updated_at").sortable("Updated").build(),WC.create().copy(Y=>Y.id,"Copy document ID",Y=>({title:"Document ID copied to clipboard",description:`ID: ${Y}`})).separator().custom({label:"View File",icon:pv,onClick:Y=>O(Y)}).custom({label:"Download File",icon:fv,onClick:Y=>L(Y)}).edit(Z,"Edit document").delete(ae,"Delete document").build()],[O,L,Z,ae]);return y.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[y.jsx("div",{className:"flex-shrink-0 px-6 py-4 border-b",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-2 truncate",children:e?.name||"Loading..."}),e?.description&&y.jsx("p",{className:"text-muted-foreground",children:e.description})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs(He,{variant:"destructive",onClick:$,disabled:a.length===0,className:"gap-2",children:[y.jsx(QA,{className:"h-4 w-4"}),"Delete Selected (",a.length,")"]}),y.jsxs(He,{onClick:()=>m(!0),className:"gap-2",children:[y.jsx(fc,{className:"h-4 w-4"}),"Upload Documents"]})]})]})}),y.jsx("div",{className:"flex-1 overflow-hidden px-6",children:s.length>0?y.jsx(ZC,{columns:q,data:s,searchKey:"name",searchPlaceholder:"Search documents...",onRowSelectionChange:U,pageSize:20}):y.jsx(kC,{message:"No documents found",buttonText:"Upload your first document",buttonIcon:y.jsx(fc,{className:"h-4 w-4"}),onButtonClick:()=>m(!0)})}),y.jsx(K6,{isOpen:g,onClose:()=>m(!1),onSubmit:K,projectId:n||""}),y.jsx(J6,{isOpen:b,onClose:()=>{S(!1),A(null)},onSubmit:ce,document:x}),y.jsx(Z6,{isOpen:T,onClose:j,onConfirm:I,error:D,isLoading:M}),y.jsx(Sc,{isOpen:f,onClose:()=>{p(!1),C(null)},onConfirm:N,title:"Delete Document",description:`Are you sure you want to delete "${E?.name||E?.description||"this document"}"? This action cannot be undone.`,confirmationText:"delete",confirmButtonText:"Delete",variant:"destructive"}),y.jsx(Sc,{isOpen:u,onClose:()=>d(!1),onConfirm:B,title:"Delete Documents",description:`Are you sure you want to delete ${a.length} document${a.length!==1?"s":""}? This action cannot be undone.`,confirmationText:"delete all",confirmButtonText:"Delete All",variant:"destructive"})]})}function r5({documentData:n,viewMode:e,onViewModeChange:t}){return y.jsxs("div",{className:"flex-shrink-0 p-6 border-b",children:[y.jsx("div",{className:"mb-2",children:y.jsx(yc,{variant:n.redacted_file?"default":"secondary",children:n.redacted_file?"Processed":"Pending"})}),y.jsx("h1",{className:"text-xl font-semibold mb-2 truncate",children:n.name||n.description||"Untitled Document"}),n.description&&y.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n.description}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs(He,{variant:e==="original"?"default":"outline",size:"sm",onClick:()=>t("original"),disabled:!n.original_file,className:"flex-1",children:[y.jsx(gv,{className:"h-4 w-4 mr-2"}),"Original"]}),y.jsxs(He,{variant:e==="obfuscated"?"default":"outline",size:"sm",onClick:()=>t("obfuscated"),disabled:!n.redacted_file,className:"flex-1",children:[y.jsx(EO,{className:"h-4 w-4 mr-2"}),"Obfuscated"]})]})]})}function a5({currentPage:n,numPages:e,scale:t,isOriginalFile:s,canObfuscate:i,isObfuscating:a=!1,onPageChange:l,onZoomIn:u,onZoomOut:d,onDownload:f,onObfuscate:p,onDelete:g}){return y.jsxs("div",{className:"flex-shrink-0 p-6 border-b",children:[y.jsx("h3",{className:"text-sm font-medium mb-4",children:"Document Controls"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Page Navigation"}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsx(He,{variant:"outline",size:"sm",onClick:()=>l(n-1),disabled:n<=1,children:y.jsx(WA,{className:"h-4 w-4"})}),y.jsxs("div",{className:"flex items-center justify-center px-3 py-1 bg-muted rounded text-sm",children:[y.jsx("span",{className:"font-medium",children:n}),y.jsx("span",{className:"text-muted-foreground mx-1",children:"of"}),y.jsx("span",{className:"font-medium",children:e})]}),y.jsx(He,{variant:"outline",size:"sm",onClick:()=>l(n+1),disabled:n>=e,children:y.jsx(bh,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Zoom Level"}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsx(He,{variant:"outline",size:"sm",onClick:d,disabled:t<=.5,children:y.jsx(GO,{className:"h-4 w-4"})}),y.jsxs("div",{className:"flex items-center justify-center px-3 py-1 bg-muted rounded text-sm font-medium",children:[Math.round(t*100),"%"]}),y.jsx(He,{variant:"outline",size:"sm",onClick:u,disabled:t>=3,children:y.jsx(VO,{className:"h-4 w-4"})})]})]}),y.jsxs("div",{className:"flex flex-1 flex-col",children:[y.jsx("label",{className:"text-xs text-muted-foreground mb-2 block",children:"Actions"}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsxs(He,{variant:"outline",size:"sm",onClick:f,className:"w-full",children:[y.jsx(fv,{className:"h-4 w-4 mr-2"}),"Download"]}),s&&y.jsx(He,{variant:"default",size:"sm",onClick:p,disabled:!i||a,className:"w-full",children:a?y.jsxs(y.Fragment,{children:[y.jsx(Dr,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):y.jsxs(y.Fragment,{children:[y.jsx(BO,{className:"h-4 w-4 mr-2"}),"Obfuscate"]})}),y.jsxs(He,{variant:"destructive",size:"sm",onClick:g,className:"w-full",children:[y.jsx(jO,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]})}function o5(n,[e,t]){return Math.min(t,Math.max(e,n))}function l5(n,e){return _.useReducer((t,s)=>e[t][s]??t,n)}var pb="ScrollArea",[jR,H5]=Bs(pb),[c5,Rs]=jR(pb),IR=_.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:s="hover",dir:i,scrollHideDelay:a=600,...l}=n,[u,d]=_.useState(null),[f,p]=_.useState(null),[g,m]=_.useState(null),[b,S]=_.useState(null),[x,A]=_.useState(null),[E,C]=_.useState(0),[T,D]=_.useState(0),[M,O]=_.useState(!1),[L,I]=_.useState(!1),j=vt(e,$=>d($)),U=Fv(i);return y.jsx(c5,{scope:t,type:s,dir:U,scrollHideDelay:a,scrollArea:u,viewport:f,onViewportChange:p,content:g,onContentChange:m,scrollbarX:b,onScrollbarXChange:S,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:x,onScrollbarYChange:A,scrollbarYEnabled:L,onScrollbarYEnabledChange:I,onCornerWidthChange:C,onCornerHeightChange:D,children:y.jsx(Ke.div,{dir:U,...l,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":T+"px",...n.style}})})});IR.displayName=pb;var FR="ScrollAreaViewport",zR=_.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:s,nonce:i,...a}=n,l=Rs(FR,t),u=_.useRef(null),d=vt(e,u,l.onViewportChange);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),y.jsx(Ke.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:y.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});zR.displayName=FR;var vi="ScrollAreaScrollbar",$R=_.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Rs(vi,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,u=n.orientation==="horizontal";return _.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),i.type==="hover"?y.jsx(u5,{...s,ref:e,forceMount:t}):i.type==="scroll"?y.jsx(d5,{...s,ref:e,forceMount:t}):i.type==="auto"?y.jsx(BR,{...s,ref:e,forceMount:t}):i.type==="always"?y.jsx(gb,{...s,ref:e}):null});$R.displayName=vi;var u5=_.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Rs(vi,n.__scopeScrollArea),[a,l]=_.useState(!1);return _.useEffect(()=>{const u=i.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),y.jsx(Mn,{present:t||a,children:y.jsx(BR,{"data-state":a?"visible":"hidden",...s,ref:e})})}),d5=_.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=Rs(vi,n.__scopeScrollArea),a=n.orientation==="horizontal",l=Xh(()=>d("SCROLL_END"),100),[u,d]=l5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,d]),_.useEffect(()=>{const f=i.viewport,p=a?"scrollLeft":"scrollTop";if(f){let g=f[p];const m=()=>{const b=f[p];g!==b&&(d("SCROLL"),l()),g=b};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,a,d,l]),y.jsx(Mn,{present:t||u!=="hidden",children:y.jsx(gb,{"data-state":u==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Me(n.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Me(n.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),BR=_.forwardRef((n,e)=>{const t=Rs(vi,n.__scopeScrollArea),{forceMount:s,...i}=n,[a,l]=_.useState(!1),u=n.orientation==="horizontal",d=Xh(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?f:p)}},10);return Mo(t.viewport,d),Mo(t.content,d),y.jsx(Mn,{present:s||a,children:y.jsx(gb,{"data-state":a?"visible":"hidden",...i,ref:e})})}),gb=_.forwardRef((n,e)=>{const{orientation:t="vertical",...s}=n,i=Rs(vi,n.__scopeScrollArea),a=_.useRef(null),l=_.useRef(0),[u,d]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=qR(u.viewport,u.content),p={...s,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function g(m,b){return v5(m,l.current,u,b)}return t==="horizontal"?y.jsx(h5,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,b=T_(m,u,i.dir);a.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=g(m,i.dir))}}):t==="vertical"?y.jsx(f5,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,b=T_(m,u);a.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=g(m))}}):null}),h5=_.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...i}=n,a=Rs(vi,n.__scopeScrollArea),[l,u]=_.useState(),d=_.useRef(null),f=vt(e,d,a.onScrollbarXChange);return _.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(VR,{"data-orientation":"horizontal",...i,ref:f,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Yh(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.x),onDragScroll:p=>n.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(a.viewport){const m=a.viewport.scrollLeft+p.deltaX;n.onWheelScroll(m),XR(m,g)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:sh(l.paddingLeft),paddingEnd:sh(l.paddingRight)}})}})}),f5=_.forwardRef((n,e)=>{const{sizes:t,onSizesChange:s,...i}=n,a=Rs(vi,n.__scopeScrollArea),[l,u]=_.useState(),d=_.useRef(null),f=vt(e,d,a.onScrollbarYChange);return _.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),y.jsx(VR,{"data-orientation":"vertical",...i,ref:f,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Yh(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.y),onDragScroll:p=>n.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(a.viewport){const m=a.viewport.scrollTop+p.deltaY;n.onWheelScroll(m),XR(m,g)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:sh(l.paddingTop),paddingEnd:sh(l.paddingBottom)}})}})}),[p5,HR]=jR(vi),VR=_.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:s,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:g,...m}=n,b=Rs(vi,t),[S,x]=_.useState(null),A=vt(e,j=>x(j)),E=_.useRef(null),C=_.useRef(""),T=b.viewport,D=s.content-s.viewport,M=Sn(p),O=Sn(d),L=Xh(g,10);function I(j){if(E.current){const U=j.clientX-E.current.left,$=j.clientY-E.current.top;f({x:U,y:$})}}return _.useEffect(()=>{const j=U=>{const $=U.target;S?.contains($)&&M(U,D)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[T,S,D,M]),_.useEffect(O,[s,O]),Mo(S,L),Mo(b.content,L),y.jsx(p5,{scope:t,scrollbar:S,hasThumb:i,onThumbChange:Sn(a),onThumbPointerUp:Sn(l),onThumbPositionChange:O,onThumbPointerDown:Sn(u),children:y.jsx(Ke.div,{...m,ref:A,style:{position:"absolute",...m.style},onPointerDown:Me(n.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),E.current=S.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),I(j))}),onPointerMove:Me(n.onPointerMove,I),onPointerUp:Me(n.onPointerUp,j=>{const U=j.target;U.hasPointerCapture(j.pointerId)&&U.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),E.current=null})})})}),nh="ScrollAreaThumb",UR=_.forwardRef((n,e)=>{const{forceMount:t,...s}=n,i=HR(nh,n.__scopeScrollArea);return y.jsx(Mn,{present:t||i.hasThumb,children:y.jsx(g5,{ref:e,...s})})}),g5=_.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:s,...i}=n,a=Rs(nh,t),l=HR(nh,t),{onThumbPositionChange:u}=l,d=vt(e,g=>l.onThumbChange(g)),f=_.useRef(void 0),p=Xh(()=>{f.current&&(f.current(),f.current=void 0)},100);return _.useEffect(()=>{const g=a.viewport;if(g){const m=()=>{if(p(),!f.current){const b=b5(g,u);f.current=b,u()}};return u(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[a.viewport,p,u]),y.jsx(Ke.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Me(n.onPointerDownCapture,g=>{const b=g.target.getBoundingClientRect(),S=g.clientX-b.left,x=g.clientY-b.top;l.onThumbPointerDown({x:S,y:x})}),onPointerUp:Me(n.onPointerUp,l.onThumbPointerUp)})});UR.displayName=nh;var mb="ScrollAreaCorner",GR=_.forwardRef((n,e)=>{const t=Rs(mb,n.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&s?y.jsx(m5,{...n,ref:e}):null});GR.displayName=mb;var m5=_.forwardRef((n,e)=>{const{__scopeScrollArea:t,...s}=n,i=Rs(mb,t),[a,l]=_.useState(0),[u,d]=_.useState(0),f=!!(a&&u);return Mo(i.scrollbarX,()=>{const p=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(p),d(p)}),Mo(i.scrollbarY,()=>{const p=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(p),l(p)}),f?y.jsx(Ke.div,{...s,ref:e,style:{width:a,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function sh(n){return n?parseInt(n,10):0}function qR(n,e){const t=n/e;return isNaN(t)?0:t}function Yh(n){const e=qR(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=(n.scrollbar.size-t)*e;return Math.max(s,18)}function v5(n,e,t,s="ltr"){const i=Yh(t),a=i/2,l=e||a,u=i-l,d=t.scrollbar.paddingStart+l,f=t.scrollbar.size-t.scrollbar.paddingEnd-u,p=t.content-t.viewport,g=s==="ltr"?[0,p]:[p*-1,0];return YR([d,f],g)(n)}function T_(n,e,t="ltr"){const s=Yh(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,l=e.content-e.viewport,u=a-s,d=t==="ltr"?[0,l]:[l*-1,0],f=o5(n,d);return YR([0,l],[0,u])(f)}function YR(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(n[1]-n[0]);return e[0]+s*(t-n[0])}}function XR(n,e){return n>0&&n<e}var b5=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},s=0;return function i(){const a={left:n.scrollLeft,top:n.scrollTop},l=t.left!==a.left,u=t.top!==a.top;(l||u)&&e(),t=a,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function Xh(n,e){const t=Sn(n),s=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),_.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(t,e)},[t,e])}function Mo(n,e){const t=Sn(e);rs(()=>{let s=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(s),i.unobserve(n)}}},[n,t])}var y5=IR,w5=zR,x5=GR;function jm({className:n,children:e,...t}){return y.jsxs(y5,{"data-slot":"scroll-area",className:Se("relative",n),...t,children:[y.jsx(w5,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),y.jsx(S5,{}),y.jsx(x5,{})]})}function S5({className:n,orientation:e="vertical",...t}){return y.jsx($R,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Se("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:y.jsx(UR,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function _5({open:n,onOpenChange:e,onAddPrompt:t}){const[s,i]=_.useState(""),a=()=>{s.trim()&&(t(s.trim()),i(""),e(!1))},l=()=>{i(""),e(!1)};return y.jsx(ba,{open:n,onOpenChange:e,children:y.jsxs(ya,{className:"sm:max-w-[425px]",children:[y.jsxs(Bo,{children:[y.jsx(xa,{children:"Add New Prompt"}),y.jsx(Ho,{children:"Enter the prompt text that will be applied to this document."})]}),y.jsx("div",{className:"grid gap-4 py-4",children:y.jsx(Yc,{placeholder:"Enter your prompt here...",value:s,onChange:u=>i(u.target.value),rows:4,className:"resize-none"})}),y.jsxs(wa,{children:[y.jsx(He,{variant:"outline",onClick:l,children:"Cancel"}),y.jsx(He,{onClick:a,disabled:!s.trim(),children:"Add Prompt"})]})]})})}function A5({selections:n,prompts:e,isOriginalFile:t,fileId:s,isLoadingFileData:i,backendSelectionsCount:a,backendPromptsCount:l,activeSelectionId:u,onClearSelections:d,onSelectionDelete:f,onSelectionActivate:p}){const[g,m]=_.useState(e);_.useEffect(()=>{m(e)},[e]);const[b,S]=_.useState(!1),[x,A]=_.useState(!1),[E,C]=_.useState(!1),[T,D]=_.useState(!1),[M,O]=_.useState(!1),L=$=>{const K={id:Date.now().toString(),text:$,label:void 0,languages:["english"],temperature:.7,createdAt:new Date().toISOString()};m(Z=>[...Z,K])},I=$=>{m(K=>K.filter(Z=>Z.id!==$))},j=async()=>{m([])},U=async()=>{if(!(!t||!s)){O(!0);try{if(n.length>0){const $=n.map(Z=>({label:Z.text||null,page_number:Z.pageNumber,x:Z.x,y:Z.y,width:Z.width,height:Z.height,confidence:null})),K=await fetch(`/api/files/id/${s}/selections`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!K.ok)throw new Error(`Failed to save selections: ${K.statusText}`)}if(g.length>0){const $=g.map(Z=>({label:null,text:Z.text,languages:["english"],temperature:.7})),K=await fetch(`/api/files/id/${s}/prompts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(!K.ok)throw new Error(`Failed to save prompts: ${K.statusText}`)}}catch($){console.error("Error saving changes:",$)}finally{O(!1)}}};return y.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[y.jsx("h3",{className:"text-sm font-medium mb-4",children:"Document Editing"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs(dm,{open:x,onOpenChange:A,children:[y.jsx(bS,{asChild:!0,children:y.jsxs(He,{variant:"outline",className:"w-full justify-start",children:[y.jsx(cO,{className:"h-4 w-4 mr-2"}),"Open Selections (",n.length,")",i&&n.length===0&&a!==void 0&&a>0&&y.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",a,")"]})]})}),y.jsxs(hm,{side:"left",className:"w-96 sm:w-[540px]",children:[y.jsxs(fm,{children:[y.jsxs(pm,{children:["Selections (",n.length,")"]}),y.jsx(gm,{children:"Manage your document selections"})]}),y.jsx("div",{className:"grid flex-1 auto-rows-min gap-4 py-4",children:y.jsx(jm,{className:"h-[calc(100vh-200px)]",children:y.jsx("div",{className:"space-y-3 pr-4 ml-4",children:n.length>0?n.map(($,K)=>y.jsxs("div",{className:`p-3 rounded border cursor-pointer hover:bg-muted/70 transition-colors ${$.id===u?"bg-orange-50 border-orange-300 dark:bg-orange-950 dark:border-orange-700":"bg-muted/50"}`,onClick:()=>p?p($.id):null,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-medium text-sm",children:["Selection ",K+1]}),y.jsxs(yc,{variant:"secondary",className:"ml-2 text-xs",children:["Page ",$.pageNumber]})]}),t&&f&&y.jsx(He,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-destructive",onClick:Z=>{Z.stopPropagation(),f($.id)},children:y.jsx(Vd,{className:"h-3 w-3"})})]}),$.text&&y.jsx("p",{className:"text-muted-foreground text-xs mb-2",children:$.text}),y.jsxs("div",{className:"text-xs text-muted-foreground",children:["Position: (",Math.round($.x*100),"%, ",Math.round($.y*100),"%) Size: ",Math.round($.width*100),"% × ",Math.round($.height*100),"%"]})]},$.id)):y.jsxs("div",{className:"text-center py-8",children:[y.jsx("p",{className:"text-sm text-muted-foreground",children:"No selections made yet"}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click and drag on the PDF to create selections"})]})})})}),t&&n.length>0&&y.jsxs(wS,{children:[y.jsx(He,{variant:"destructive",size:"sm",onClick:()=>{d(),A(!1)},children:"Clear All Selections"}),y.jsx(yS,{asChild:!0,children:y.jsx(He,{variant:"outline",children:"Close"})})]})]})]}),y.jsxs(dm,{open:E,onOpenChange:C,children:[y.jsx(bS,{asChild:!0,children:y.jsxs(He,{variant:"outline",className:"w-full justify-start",children:[y.jsx(pO,{className:"h-4 w-4 mr-2"}),"Open Prompts (",g.length,")",i&&g.length===0&&l!==void 0&&l>0&&y.jsxs("span",{className:"ml-1 text-muted-foreground",children:["(",l,")"]})]})}),y.jsxs(hm,{side:"left",className:"w-96 sm:w-[540px]",children:[y.jsxs(fm,{children:[y.jsxs(pm,{children:["Prompts (",g.length,")"]}),y.jsx(gm,{children:"Manage your AI prompts"})]}),y.jsx("div",{className:"grid flex-1 auto-rows-min gap-4 py-4",children:y.jsx(jm,{className:"h-[calc(100vh-200px)]",children:y.jsx("div",{className:"space-y-3 pr-4 ml-4",children:g.length>0?g.map($=>y.jsxs("div",{className:"p-3 bg-muted/30 rounded border relative group",children:[t&&y.jsx(He,{size:"sm",variant:"ghost",className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive opacity-0 group-hover:opacity-100",onClick:()=>I($.id),children:y.jsx(Vd,{className:"h-3 w-3"})}),y.jsx("p",{className:"text-sm mb-2 pr-8",children:$.text}),y.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[y.jsx("span",{children:new Date($.createdAt).toLocaleDateString()}),$.label&&y.jsx(yc,{variant:"outline",className:"text-xs",children:$.label})]})]},$.id)):y.jsx("div",{className:"text-center py-8",children:y.jsx("p",{className:"text-sm text-muted-foreground",children:t?"No prompts added yet":"Prompts not available for obfuscated files"})})})})}),t&&y.jsxs(wS,{children:[y.jsxs(He,{size:"sm",onClick:()=>S(!0),children:[y.jsx(fc,{className:"h-4 w-4 mr-2"}),"Add Prompt"]}),g.length>0&&y.jsx(He,{variant:"destructive",size:"sm",onClick:()=>D(!0),children:"Clear All Prompts"}),y.jsx(yS,{asChild:!0,children:y.jsx(He,{variant:"outline",children:"Close"})})]})]})]}),t&&(n.length>0||g.length>0)&&y.jsx(He,{onClick:U,disabled:M,className:"w-full",children:M?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"h-4 w-4 mr-2 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Saving..."]}):y.jsxs(y.Fragment,{children:[y.jsx(_O,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]}),y.jsx(_5,{open:b,onOpenChange:S,onAddPrompt:L}),y.jsx(Sc,{isOpen:T,onClose:()=>D(!1),onConfirm:async()=>{await j(),C(!1)},title:"Clear All Prompts",description:"This action will permanently delete all prompts for this document. This cannot be undone.",confirmationText:"clear prompts",confirmButtonText:"Clear All Prompts",variant:"destructive"})]})}function E5({documentData:n,viewMode:e,isOriginalFile:t,fileId:s,currentPage:i,numPages:a,scale:l,selections:u,prompts:d,isLoadingFileData:f,backendSelectionsCount:p,backendPromptsCount:g,activeSelectionId:m,canObfuscate:b,isObfuscating:S,onViewModeChange:x,onPageChange:A,onZoomIn:E,onZoomOut:C,onDownload:T,onObfuscate:D,onDelete:M,onClearSelections:O,onSelectionDelete:L,onSelectionActivate:I}){return y.jsxs("div",{className:"w-96 flex-shrink-0 border-r bg-muted/10 flex flex-col",children:[y.jsx(r5,{documentData:n,viewMode:e,onViewModeChange:x}),y.jsx(a5,{currentPage:i,numPages:a,scale:l,isOriginalFile:t,canObfuscate:b,isObfuscating:S,onPageChange:A,onZoomIn:E,onZoomOut:C,onDownload:T,onObfuscate:D,onDelete:M}),y.jsx(A5,{selections:u,prompts:d,isOriginalFile:t,fileId:s,isLoadingFileData:f,backendSelectionsCount:p,backendPromptsCount:g,activeSelectionId:m,onClearSelections:O,onSelectionDelete:L,onSelectionActivate:I,onPageChange:A})]})}function C5({selectionId:n,isActive:e,onResizeStart:t}){const s=e?"bg-orange-600":"bg-blue-600",i=e?"hover:bg-orange-700":"hover:bg-blue-700",a=_.useCallback((l,u)=>{l.preventDefault(),l.stopPropagation(),t(l,n,u)},[n,t]);return y.jsxs(y.Fragment,{children:[y.jsx("div",{className:`absolute ${s} border-2 border-white cursor-nw-resize ${i} transition-colors`,style:{left:"-6px",top:"-6px",width:"12px",height:"12px",pointerEvents:"auto",zIndex:25},onMouseDown:l=>a(l,"top-left")}),y.jsx("div",{className:`absolute ${s} border-2 border-white cursor-ne-resize ${i} transition-colors`,style:{right:"-6px",top:"-6px",width:"12px",height:"12px",pointerEvents:"auto",zIndex:25},onMouseDown:l=>a(l,"top-right")}),y.jsx("div",{className:`absolute ${s} border-2 border-white cursor-sw-resize ${i} transition-colors`,style:{left:"-6px",bottom:"-6px",width:"12px",height:"12px",pointerEvents:"auto",zIndex:25},onMouseDown:l=>a(l,"bottom-left")}),y.jsx("div",{className:`absolute ${s} border-2 border-white cursor-se-resize ${i} transition-colors`,style:{right:"-6px",bottom:"-6px",width:"12px",height:"12px",pointerEvents:"auto",zIndex:25},onMouseDown:l=>a(l,"bottom-right")})]})}function R5({selections:n,currentPage:e,activeSelectionId:t,scale:s,isSelecting:i,isResizing:a,currentSelection:l,pageDimensions:u,onSelectionEdit:d,onResizeStart:f}){const p=n.filter(m=>m.pageNumber===e),g=m=>u?{x:m.x*u.width,y:m.y*u.height,width:m.width*u.width,height:m.height*u.height}:m;return y.jsxs(y.Fragment,{children:[p.map(m=>{const b=m.id===t,S=b?"border-orange-500":"border-blue-500",x=b?"bg-orange-500/20":"bg-blue-500/20",A=g(m);return y.jsx("div",{className:`absolute border-2 ${S} ${x}`,style:{left:`${A.x*s}px`,top:`${A.y*s}px`,width:`${A.width*s}px`,height:`${A.height*s}px`,pointerEvents:d?"auto":"none",zIndex:b?15:10},children:d&&y.jsx(C5,{selectionId:m.id,isActive:b,onResizeStart:f})},m.id)}),l&&y.jsx("div",{className:"absolute border-2 border-blue-600 bg-blue-600/30 pointer-events-none",style:{left:`${l.x*s}px`,top:`${l.y*s}px`,width:`${l.width*s}px`,height:`${l.height*s}px`}}),i&&!a&&y.jsx("div",{className:"absolute inset-0 cursor-crosshair"})]})}function T5({fileUrl:n,currentPage:e,scale:t,isLoading:s,error:i,isSelecting:a,selections:l,activeSelectionId:u,onLoadSuccess:d,onLoadError:f,onAutoFitScale:p,onSelectionCreate:g,onSelectionEdit:m}){const b=_.useRef(null),S=_.useRef(null),[x,A]=_.useState(!1),[E,C]=_.useState(null),[T,D]=_.useState(null),[M,O]=_.useState(!1),[L,I]=_.useState(null),[j,U]=_.useState(null),[$,K]=_.useState(null),[Z,ce]=_.useState(null),[ae,N]=_.useState(null),B=_.useCallback(V=>ae?{x:V.x/ae.width,y:V.y/ae.height,width:V.width/ae.width,height:V.height/ae.height}:V,[ae]),q=_.useCallback(V=>{const re=V.getViewport({scale:1});if(N({width:re.width,height:re.height}),b.current&&S.current&&t===1){const ee=S.current.getBoundingClientRect().height,ue=Math.min(ee/re.height,2);console.log(`Auto-fit debug: content area height=${ee}px, page height=${re.height}px, calculated scale=${ue.toFixed(3)}`),ue>.3&&ue!==1&&p&&(console.log("Auto-fit: Applying scale",ue.toFixed(3)),p(ue))}},[t,p]),Y=_.useCallback(V=>{if(!a||!g||!S.current||M)return;const re=S.current.getBoundingClientRect(),ge=(V.clientX-re.left)/t,ee=(V.clientY-re.top)/t;A(!0),C({x:ge,y:ee}),D({x:ge,y:ee,width:0,height:0})},[a,g,t,M]),P=_.useCallback(V=>{if(x&&E&&S.current&&!M){const re=S.current.getBoundingClientRect(),ge=(V.clientX-re.left)/t,ee=(V.clientY-re.top)/t;D({x:Math.min(E.x,ge),y:Math.min(E.y,ee),width:Math.abs(ge-E.x),height:Math.abs(ee-E.y)})}else if(M&&$&&Z&&S.current){const re=S.current.getBoundingClientRect(),ge=(V.clientX-re.left)/t,ee=(V.clientY-re.top)/t,ue=ge-$.x,be=ee-$.y;let we={...Z};switch(j){case"top-left":we.x=Z.x+ue,we.y=Z.y+be,we.width=Z.width-ue,we.height=Z.height-be;break;case"top-right":we.y=Z.y+be,we.width=Z.width+ue,we.height=Z.height-be;break;case"bottom-left":we.x=Z.x+ue,we.width=Z.width-ue,we.height=Z.height+be;break;case"bottom-right":we.width=Z.width+ue,we.height=Z.height+be;break}we.width<10&&((j==="top-left"||j==="bottom-left")&&(we.x=Z.x+Z.width-10),we.width=10),we.height<10&&((j==="top-left"||j==="top-right")&&(we.y=Z.y+Z.height-10),we.height=10),m&&m(L,{x:we.x,y:we.y,width:we.width,height:we.height})}},[x,E,t,M,$,Z,j,L,m]),G=_.useCallback(()=>{if(x&&T&&g){if(T.width>10&&T.height>10){const V=B(T);g({pageNumber:e,x:V.x,y:V.y,width:V.width,height:V.height})}A(!1),C(null),D(null)}else M&&(O(!1),I(null),U(null),K(null),ce(null))},[x,T,g,e,M,B]),se=_.useCallback((V,re,ge)=>{if(V.preventDefault(),V.stopPropagation(),!S.current||!m)return;const ee=S.current.getBoundingClientRect(),ue=(V.clientX-ee.left)/t,be=(V.clientY-ee.top)/t,we=l.find(De=>De.id===re);we&&(O(!0),I(re),U(ge),K({x:ue,y:be}),ce(we))},[t,l,m]);return _.useEffect(()=>{const V=ge=>{if(M&&S.current){const ee=S.current.getBoundingClientRect(),ue=(ge.clientX-ee.left)/t,be=(ge.clientY-ee.top)/t;if($&&Z){const we=ue-$.x,De=be-$.y;let $e={...Z};switch(j){case"top-left":$e.x=Z.x+we,$e.y=Z.y+De,$e.width=Z.width-we,$e.height=Z.height-De;break;case"top-right":$e.y=Z.y+De,$e.width=Z.width+we,$e.height=Z.height-De;break;case"bottom-left":$e.x=Z.x+we,$e.width=Z.width-we,$e.height=Z.height+De;break;case"bottom-right":$e.width=Z.width+we,$e.height=Z.height+De;break}$e.width<10&&((j==="top-left"||j==="bottom-left")&&($e.x=Z.x+Z.width-10),$e.width=10),$e.height<10&&((j==="top-left"||j==="top-right")&&($e.y=Z.y+Z.height-10),$e.height=10),m&&m(L,{x:$e.x,y:$e.y,width:$e.width,height:$e.height})}}},re=()=>{M&&(O(!1),I(null),U(null),K(null),ce(null))};return M&&(document.addEventListener("mousemove",V),document.addEventListener("mouseup",re)),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",re)}},[M,$,Z,j,L,m,t]),y.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-muted/50",children:y.jsx(jm,{className:"flex-1",children:y.jsx("div",{ref:b,className:"flex justify-center items-start p-6 h-full",children:i?y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsxs("div",{className:"text-center max-w-md",children:[y.jsx(VP,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Error Loading PDF"}),y.jsx("p",{className:"text-muted-foreground text-sm",children:i})]})}):n?y.jsxs("div",{className:"relative",children:[s&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/80 rounded",style:{zIndex:5},children:y.jsxs("div",{className:"text-center",children:[y.jsx(Dr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading PDF..."})]})}),y.jsxs("div",{ref:S,className:"relative w-full h-full",onMouseDown:Y,onMouseMove:P,onMouseUp:G,onMouseLeave:G,children:[y.jsx(kk,{file:n,onLoadSuccess:d,onLoadError:f,loading:"",className:"pdf-document",children:y.jsx(Hk,{pageNumber:e,scale:t,loading:"",className:"pdf-page shadow-lg",canvasBackground:"white",renderTextLayer:!a,onLoadSuccess:q},`page_${e}_${t}`)}),y.jsx(R5,{selections:l,currentPage:e,activeSelectionId:u,scale:t,isSelecting:a,isResizing:M,currentSelection:T,pageDimensions:ae,onSelectionEdit:m,onResizeStart:se})]})]}):y.jsx("div",{className:"flex items-center justify-center h-64",children:y.jsxs("div",{className:"text-center",children:[y.jsx(gv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"No PDF to Display"}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"PDF file not available"})]})})})})})}function M5({fileUrl:n,currentPage:e,scale:t,isLoading:s,error:i,isSelecting:a,selections:l,activeSelectionId:u,onLoadSuccess:d,onLoadError:f,onAutoFitScale:p,onSelectionCreate:g,onSelectionEdit:m}){return y.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:y.jsx(T5,{fileUrl:n,currentPage:e,scale:t,isLoading:s,error:i,isSelecting:a,selections:l,activeSelectionId:u,onLoadSuccess:d,onLoadError:f,onAutoFitScale:p,onSelectionCreate:g,onSelectionEdit:m})})}function M_(){const{documentId:n,fileId:e}=IA(),[t,s]=_.useState(null),[i,a]=_.useState(!0),[l,u]=_.useState("original"),[d,f]=_.useState(null),[p,g]=_.useState(1),[m,b]=_.useState(0),[S,x]=_.useState(1),[A,E]=_.useState(null),[C,T]=_.useState([]),[D]=_.useState([]),[M,O]=_.useState(null),[L]=_.useState(!1);_.useEffect(()=>{n&&fetch(`/api/documents/id/${n}`).then(ee=>{if(!ee.ok)throw new Error(`HTTP error! status: ${ee.status}`);return ee.json()}).then(ee=>{console.log("Document loaded:",ee.name),s(ee),a(!1)}).catch(ee=>{console.error("Error fetching document:",ee),ot.error("Failed to load document",{description:"Please refresh the page to try again."}),a(!1)})},[n]),_.useEffect(()=>{!t||!e||(t.original_file?.id===e?u("original"):t.redacted_file?.id===e&&u("obfuscated"))},[t,e]),_.useEffect(()=>{if(!t||!n)return;const ee=l==="original"?t.original_file:t.redacted_file;if(!ee){f(null);return}const ue=R_(n,ee.id);if(!ue){ot.error("Missing password for file access");return}const be=`/api/files/id/${ee.id}/download?password=${encodeURIComponent(ue)}&stream=true`;f(be)},[t,n,l]);const I=ee=>{u(ee),g(1)},j=ee=>{g(ee)},U=()=>{x(ee=>Math.min(ee+.2,3))},$=()=>{x(ee=>Math.max(ee-.2,.5))},K=()=>{if(!V||!t||!n)return;const ee=R_(n,V.id);if(!ee){ot.error("Missing password for download");return}const ue=`/api/files/id/${V.id}/download?password=${encodeURIComponent(ee)}`,be=document.createElement("a");be.href=ue,be.download=t.name,be.click()},Z=()=>{ot.info("Obfuscation feature coming soon")},ce=()=>{ot.info("Delete feature coming soon")},ae=()=>{T([]),O(null)},N=({numPages:ee})=>{b(ee),E(null)},B=ee=>{E(ee.message),console.error("PDF load error:",ee)},q=ee=>{const ue={...ee,id:crypto.randomUUID()};T(be=>[...be,ue])},Y=(ee,ue)=>{T(be=>be.map(we=>we.id===ee?{...we,...ue}:we))},P=ee=>{T(ue=>ue.filter(be=>be.id!==ee)),M===ee&&O(null)},G=ee=>{O(ee)},se=ee=>{x(ee)},V=l==="original"?t?.original_file:t?.redacted_file,re=l==="original",ge=re&&C.length>0;return i?y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx(Dr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading document..."})]})}):t?V?y.jsxs("div",{className:"h-full flex overflow-hidden",children:[y.jsx(E5,{documentData:t,viewMode:l,isOriginalFile:re,fileId:V?.id,currentPage:p,numPages:m,scale:S,selections:C,prompts:D,canObfuscate:ge,activeSelectionId:M,onViewModeChange:I,onPageChange:j,onZoomIn:U,onZoomOut:$,onDownload:K,onObfuscate:Z,onDelete:ce,onClearSelections:ae,onSelectionDelete:P,onSelectionActivate:G}),y.jsx(M5,{fileUrl:d,currentPage:p,scale:S,isLoading:!d,error:A,isSelecting:L,selections:C,activeSelectionId:M,onLoadSuccess:N,onLoadError:B,onAutoFitScale:se,onSelectionCreate:q,onSelectionEdit:Y})]}):y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx(gv,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"No File Available"}),y.jsx("p",{className:"text-muted-foreground",children:l==="obfuscated"?"No redacted version of this document exists.":"This document does not have an associated file."})]})}):y.jsx("div",{className:"flex items-center justify-center h-full",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h3",{className:"text-lg font-medium mb-2",children:"Document Not Found"}),y.jsx("p",{className:"text-muted-foreground",children:"The requested document could not be loaded."})]})})}function D5(){return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[y.jsx("div",{className:"bg-muted/50 aspect-video rounded-md"}),y.jsx("div",{className:"bg-muted/50 aspect-video rounded-md"}),y.jsx("div",{className:"bg-muted/50 aspect-video rounded-md"})]}),y.jsx("div",{className:"bg-muted/50 min-h-[100vh] flex-1 flex items-center justify-center rounded-md md:min-h-min",children:y.jsx("p",{children:"Welcome to the Home View!"})})]})}function k5(){return y.jsx(hP,{defaultTheme:"system",storageKey:"sero-ui-theme",children:y.jsx(tP,{children:y.jsx(n4,{children:y.jsxs(NN,{children:[y.jsx(go,{path:"/",element:y.jsx(D5,{})}),y.jsx(go,{path:"/projects",element:y.jsx(X6,{})}),y.jsx(go,{path:"/projects/:projectId/documents",element:y.jsx(i5,{})}),y.jsx(go,{path:"/projects/:projectId/documents/:documentId/files",element:y.jsx(M_,{})}),y.jsx(go,{path:"/projects/:projectId/documents/:documentId/files/:fileId",element:y.jsx(M_,{})})]})})})})}Sr.workerSrc="/assets/pdf.worker.min.js";hD.createRoot(document.getElementById("root")).render(y.jsx(_.StrictMode,{children:y.jsx(k5,{})}));
