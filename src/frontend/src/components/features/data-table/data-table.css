/**
 * Data Table V2 - Clean sticky positioning with HTML/CSS
 * Simple, maintainable approach using native CSS sticky positioning
 */

@reference "../../../index.css";

@layer components {
  /* Base table container */
  .dt-v2-container {
    @apply w-full space-y-4;
  }

  .dt-v2-content {
    @apply w-full;
  }

  .dt-v2-scroll-area {
    @apply w-full overflow-x-auto rounded-lg border;
  }

  .dt-v2-table {
    @apply min-w-[1200px] relative;
  }

  /* Header styling */
  .dt-v2-header {
    @apply bg-muted sticky top-0 z-10;
  }

  .dt-v2-row {
    @apply transition-colors;
  }

  /* All header cells get background */
  .dt-v2-header th {
    @apply bg-muted;
  }

  /* Scrollable header columns */
  .dt-v2-col-scrollable {
    @apply bg-muted;
  }

  /* Sticky columns - widths now handled by inline styles */
  .dt-v2-col-checkbox {
    position: sticky;
    left: 0;
    z-index: 20;
    background: hsl(var(--muted));
  }

  .dt-v2-col-pinned-first {
    position: sticky;
    z-index: 10;
    background: hsl(var(--muted));
    border-right: 1px solid hsl(var(--border));
  }

  .dt-v2-col-actions {
    position: sticky;
    right: 0;
    z-index: 20;
    background: hsl(var(--muted));
  }

  /* All body cells get background */
  .dt-v2-row td {
    @apply bg-background;
  }

  /* Row hover states override cell backgrounds */
  .dt-v2-row:hover td {
    @apply bg-muted/50;
  }

  .dt-v2-row[data-state="selected"] td {
    @apply bg-muted;
  }

  /* Scrollable body cells */
  .dt-v2-cell-scrollable {
    @apply bg-background;
  }

  /* Sticky body cells - widths now handled by inline styles */
  .dt-v2-cell-checkbox {
    position: sticky;
    left: 0;
    z-index: 10;
    background: hsl(var(--background));
  }

  .dt-v2-cell-pinned-first {
    position: sticky;
    z-index: 10;
    background: hsl(var(--background));
    border-right: 1px solid hsl(var(--border));
  }

  .dt-v2-cell-actions {
    position: sticky;
    right: 0;
    z-index: 10;
    background: hsl(var(--background));
  }

  /* Special overrides for sticky cells in different states */
  .dt-v2-row:hover .dt-v2-cell-checkbox,
  .dt-v2-row:hover .dt-v2-cell-pinned-first,
  .dt-v2-row:hover .dt-v2-cell-actions {
    background: hsl(var(--muted) / 0.5);
  }

  .dt-v2-row[data-state="selected"] .dt-v2-cell-checkbox,
  .dt-v2-row[data-state="selected"] .dt-v2-cell-pinned-first,
  .dt-v2-row[data-state="selected"] .dt-v2-cell-actions {
    background: hsl(var(--muted));
  }

  /* Toolbar styling */
  .dt-v2-toolbar {
    @apply flex flex-col gap-4 md:flex-row md:items-center md:justify-between p-4 bg-card rounded-lg border;
  }

  .dt-v2-toolbar-title {
    @apply text-xl font-semibold;
  }

  .dt-v2-toolbar-controls {
    @apply flex flex-col md:flex-row gap-2 w-full md:w-auto;
  }

  .dt-v2-search-input {
    @apply md:w-[250px];
  }

  .dt-v2-filter-select {
    @apply md:w-[180px];
  }

  .dt-v2-add-button {
    @apply md:ml-auto;
  }

  /* Responsive enhancements */
  @media (max-width: 768px) {
    .dt-v2-table {
      min-width: 600px;
    }
  }
}
